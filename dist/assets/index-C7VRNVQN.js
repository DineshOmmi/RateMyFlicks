function kE(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function DE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bE={exports:{}},yd={},LE={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vl=Symbol.for("react.element"),MS=Symbol.for("react.portal"),VS=Symbol.for("react.fragment"),jS=Symbol.for("react.strict_mode"),FS=Symbol.for("react.profiler"),US=Symbol.for("react.provider"),zS=Symbol.for("react.context"),BS=Symbol.for("react.forward_ref"),$S=Symbol.for("react.suspense"),HS=Symbol.for("react.memo"),WS=Symbol.for("react.lazy"),Sy=Symbol.iterator;function GS(t){return t===null||typeof t!="object"?null:(t=Sy&&t[Sy]||t["@@iterator"],typeof t=="function"?t:null)}var OE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ME=Object.assign,VE={};function Oo(t,e,n){this.props=t,this.context=e,this.refs=VE,this.updater=n||OE}Oo.prototype.isReactComponent={};Oo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Oo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function jE(){}jE.prototype=Oo.prototype;function Mp(t,e,n){this.props=t,this.context=e,this.refs=VE,this.updater=n||OE}var Vp=Mp.prototype=new jE;Vp.constructor=Mp;ME(Vp,Oo.prototype);Vp.isPureReactComponent=!0;var xy=Array.isArray,FE=Object.prototype.hasOwnProperty,jp={current:null},UE={key:!0,ref:!0,__self:!0,__source:!0};function zE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)FE.call(e,r)&&!UE.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Vl,type:t,key:s,ref:o,props:i,_owner:jp.current}}function KS(t,e){return{$$typeof:Vl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Fp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vl}function qS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ay=/\/+/g;function gh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qS(""+t.key):e.toString(36)}function Yu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Vl:case MS:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+gh(o,0):r,xy(i)?(n="",t!=null&&(n=t.replace(Ay,"$&/")+"/"),Yu(i,e,n,"",function(c){return c})):i!=null&&(Fp(i)&&(i=KS(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ay,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",xy(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+gh(s,l);o+=Yu(s,e,n,u,i)}else if(u=GS(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+gh(s,l++),o+=Yu(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Au(t,e,n){if(t==null)return t;var r=[],i=0;return Yu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function QS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qt={current:null},Xu={transition:null},YS={ReactCurrentDispatcher:Qt,ReactCurrentBatchConfig:Xu,ReactCurrentOwner:jp};xe.Children={map:Au,forEach:function(t,e,n){Au(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Au(t,function(){e++}),e},toArray:function(t){return Au(t,function(e){return e})||[]},only:function(t){if(!Fp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xe.Component=Oo;xe.Fragment=VS;xe.Profiler=FS;xe.PureComponent=Mp;xe.StrictMode=jS;xe.Suspense=$S;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YS;xe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ME({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=jp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)FE.call(e,u)&&!UE.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Vl,type:t.type,key:i,ref:s,props:r,_owner:o}};xe.createContext=function(t){return t={$$typeof:zS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:US,_context:t},t.Consumer=t};xe.createElement=zE;xe.createFactory=function(t){var e=zE.bind(null,t);return e.type=t,e};xe.createRef=function(){return{current:null}};xe.forwardRef=function(t){return{$$typeof:BS,render:t}};xe.isValidElement=Fp;xe.lazy=function(t){return{$$typeof:WS,_payload:{_status:-1,_result:t},_init:QS}};xe.memo=function(t,e){return{$$typeof:HS,type:t,compare:e===void 0?null:e}};xe.startTransition=function(t){var e=Xu.transition;Xu.transition={};try{t()}finally{Xu.transition=e}};xe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};xe.useCallback=function(t,e){return Qt.current.useCallback(t,e)};xe.useContext=function(t){return Qt.current.useContext(t)};xe.useDebugValue=function(){};xe.useDeferredValue=function(t){return Qt.current.useDeferredValue(t)};xe.useEffect=function(t,e){return Qt.current.useEffect(t,e)};xe.useId=function(){return Qt.current.useId()};xe.useImperativeHandle=function(t,e,n){return Qt.current.useImperativeHandle(t,e,n)};xe.useInsertionEffect=function(t,e){return Qt.current.useInsertionEffect(t,e)};xe.useLayoutEffect=function(t,e){return Qt.current.useLayoutEffect(t,e)};xe.useMemo=function(t,e){return Qt.current.useMemo(t,e)};xe.useReducer=function(t,e,n){return Qt.current.useReducer(t,e,n)};xe.useRef=function(t){return Qt.current.useRef(t)};xe.useState=function(t){return Qt.current.useState(t)};xe.useSyncExternalStore=function(t,e,n){return Qt.current.useSyncExternalStore(t,e,n)};xe.useTransition=function(){return Qt.current.useTransition()};xe.version="18.2.0";LE.exports=xe;var j=LE.exports;const Bt=DE(j),XS=kE({__proto__:null,default:Bt},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JS=j,ZS=Symbol.for("react.element"),ex=Symbol.for("react.fragment"),tx=Object.prototype.hasOwnProperty,nx=JS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rx={key:!0,ref:!0,__self:!0,__source:!0};function BE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)tx.call(e,r)&&!rx.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:ZS,type:t,key:s,ref:o,props:i,_owner:nx.current}}yd.Fragment=ex;yd.jsx=BE;yd.jsxs=BE;bE.exports=yd;var g=bE.exports,af={},$E={exports:{}},hn={},HE={exports:{}},WE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,$){var z=F.length;F.push($);e:for(;0<z;){var q=z-1>>>1,J=F[q];if(0<i(J,$))F[q]=$,F[z]=J,z=q;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var $=F[0],z=F.pop();if(z!==$){F[0]=z;e:for(var q=0,J=F.length,de=J>>>1;q<de;){var we=2*(q+1)-1,Me=F[we],G=we+1,ye=F[G];if(0>i(Me,z))G<J&&0>i(ye,Me)?(F[q]=ye,F[G]=z,q=G):(F[q]=Me,F[we]=z,q=we);else if(G<J&&0>i(ye,z))F[q]=ye,F[G]=z,q=G;else break e}}return $}function i(F,$){var z=F.sortIndex-$.sortIndex;return z!==0?z:F.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,p=null,m=3,w=!1,A=!1,T=!1,N=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(F){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=F)r(c),$.sortIndex=$.expirationTime,e(u,$);else break;$=n(c)}}function b(F){if(T=!1,I(F),!A)if(n(u)!==null)A=!0,Te(M);else{var $=n(c);$!==null&&X(b,$.startTime-F)}}function M(F,$){A=!1,T&&(T=!1,E(y),y=-1),w=!0;var z=m;try{for(I($),p=n(u);p!==null&&(!(p.expirationTime>$)||F&&!C());){var q=p.callback;if(typeof q=="function"){p.callback=null,m=p.priorityLevel;var J=q(p.expirationTime<=$);$=t.unstable_now(),typeof J=="function"?p.callback=J:p===n(u)&&r(u),I($)}else r(u);p=n(u)}if(p!==null)var de=!0;else{var we=n(c);we!==null&&X(b,we.startTime-$),de=!1}return de}finally{p=null,m=z,w=!1}}var D=!1,_=null,y=-1,S=5,P=-1;function C(){return!(t.unstable_now()-P<S)}function k(){if(_!==null){var F=t.unstable_now();P=F;var $=!0;try{$=_(!0,F)}finally{$?R():(D=!1,_=null)}}else D=!1}var R;if(typeof v=="function")R=function(){v(k)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,se=Z.port2;Z.port1.onmessage=k,R=function(){se.postMessage(null)}}else R=function(){N(k,0)};function Te(F){_=F,D||(D=!0,R())}function X(F,$){y=N(function(){F(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){A||w||(A=!0,Te(M))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(F){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var z=m;m=$;try{return F()}finally{m=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,$){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var z=m;m=F;try{return $()}finally{m=z}},t.unstable_scheduleCallback=function(F,$,z){var q=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?q+z:q):z=q,F){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=z+J,F={id:d++,callback:$,priorityLevel:F,startTime:z,expirationTime:J,sortIndex:-1},z>q?(F.sortIndex=z,e(c,F),n(u)===null&&F===n(c)&&(T?(E(y),y=-1):T=!0,X(b,z-q))):(F.sortIndex=J,e(u,F),A||w||(A=!0,Te(M))),F},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(F){var $=m;return function(){var z=m;m=$;try{return F.apply(this,arguments)}finally{m=z}}}})(WE);HE.exports=WE;var ix=HE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GE=j,cn=ix;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var KE=new Set,tl={};function _s(t,e){go(t,e),go(t+"Capture",e)}function go(t,e){for(tl[t]=e,t=0;t<e.length;t++)KE.add(e[t])}var xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lf=Object.prototype.hasOwnProperty,sx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ry={},Py={};function ox(t){return lf.call(Py,t)?!0:lf.call(Ry,t)?!1:sx.test(t)?Py[t]=!0:(Ry[t]=!0,!1)}function ax(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function lx(t,e,n,r){if(e===null||typeof e>"u"||ax(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kt[t]=new Yt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kt[e]=new Yt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kt[t]=new Yt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kt[t]=new Yt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kt[t]=new Yt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kt[t]=new Yt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kt[t]=new Yt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kt[t]=new Yt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kt[t]=new Yt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Up=/[\-:]([a-z])/g;function zp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Up,zp);kt[e]=new Yt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Up,zp);kt[e]=new Yt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Up,zp);kt[e]=new Yt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kt[t]=new Yt(t,1,!1,t.toLowerCase(),null,!1,!1)});kt.xlinkHref=new Yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kt[t]=new Yt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Bp(t,e,n,r){var i=kt.hasOwnProperty(e)?kt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(lx(e,n,i,r)&&(n=null),r||i===null?ox(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Or=GE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ru=Symbol.for("react.element"),Fs=Symbol.for("react.portal"),Us=Symbol.for("react.fragment"),$p=Symbol.for("react.strict_mode"),uf=Symbol.for("react.profiler"),qE=Symbol.for("react.provider"),QE=Symbol.for("react.context"),Hp=Symbol.for("react.forward_ref"),cf=Symbol.for("react.suspense"),df=Symbol.for("react.suspense_list"),Wp=Symbol.for("react.memo"),Qr=Symbol.for("react.lazy"),YE=Symbol.for("react.offscreen"),Cy=Symbol.iterator;function fa(t){return t===null||typeof t!="object"?null:(t=Cy&&t[Cy]||t["@@iterator"],typeof t=="function"?t:null)}var Ye=Object.assign,yh;function Ra(t){if(yh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);yh=e&&e[1]||""}return`
`+yh+t}var vh=!1;function _h(t,e){if(!t||vh)return"";vh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{vh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ra(t):""}function ux(t){switch(t.tag){case 5:return Ra(t.type);case 16:return Ra("Lazy");case 13:return Ra("Suspense");case 19:return Ra("SuspenseList");case 0:case 2:case 15:return t=_h(t.type,!1),t;case 11:return t=_h(t.type.render,!1),t;case 1:return t=_h(t.type,!0),t;default:return""}}function hf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Us:return"Fragment";case Fs:return"Portal";case uf:return"Profiler";case $p:return"StrictMode";case cf:return"Suspense";case df:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case QE:return(t.displayName||"Context")+".Consumer";case qE:return(t._context.displayName||"Context")+".Provider";case Hp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Wp:return e=t.displayName||null,e!==null?e:hf(t.type)||"Memo";case Qr:e=t._payload,t=t._init;try{return hf(t(e))}catch{}}return null}function cx(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hf(e);case 8:return e===$p?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ei(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function XE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dx(t){var e=XE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Pu(t){t._valueTracker||(t._valueTracker=dx(t))}function JE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=XE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function wc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ff(t,e){var n=e.checked;return Ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ny(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ei(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ZE(t,e){e=e.checked,e!=null&&Bp(t,"checked",e,!1)}function pf(t,e){ZE(t,e);var n=Ei(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?mf(t,e.type,n):e.hasOwnProperty("defaultValue")&&mf(t,e.type,Ei(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ky(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function mf(t,e,n){(e!=="number"||wc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Pa=Array.isArray;function ro(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ei(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function gf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return Ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Dy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(Pa(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ei(n)}}function ew(t,e){var n=Ei(e.value),r=Ei(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function by(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function tw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?tw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Cu,nw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Cu=Cu||document.createElement("div"),Cu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Cu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function nl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ma={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hx=["Webkit","ms","Moz","O"];Object.keys(Ma).forEach(function(t){hx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ma[e]=Ma[t]})});function rw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ma.hasOwnProperty(t)&&Ma[t]?(""+e).trim():e+"px"}function iw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=rw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var fx=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vf(t,e){if(e){if(fx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function _f(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ef=null;function Gp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wf=null,io=null,so=null;function Ly(t){if(t=Ul(t)){if(typeof wf!="function")throw Error(K(280));var e=t.stateNode;e&&(e=Td(e),wf(t.stateNode,t.type,e))}}function sw(t){io?so?so.push(t):so=[t]:io=t}function ow(){if(io){var t=io,e=so;if(so=io=null,Ly(t),e)for(t=0;t<e.length;t++)Ly(e[t])}}function aw(t,e){return t(e)}function lw(){}var Eh=!1;function uw(t,e,n){if(Eh)return t(e,n);Eh=!0;try{return aw(t,e,n)}finally{Eh=!1,(io!==null||so!==null)&&(lw(),ow())}}function rl(t,e){var n=t.stateNode;if(n===null)return null;var r=Td(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var Tf=!1;if(xr)try{var pa={};Object.defineProperty(pa,"passive",{get:function(){Tf=!0}}),window.addEventListener("test",pa,pa),window.removeEventListener("test",pa,pa)}catch{Tf=!1}function px(t,e,n,r,i,s,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Va=!1,Tc=null,Ic=!1,If=null,mx={onError:function(t){Va=!0,Tc=t}};function gx(t,e,n,r,i,s,o,l,u){Va=!1,Tc=null,px.apply(mx,arguments)}function yx(t,e,n,r,i,s,o,l,u){if(gx.apply(this,arguments),Va){if(Va){var c=Tc;Va=!1,Tc=null}else throw Error(K(198));Ic||(Ic=!0,If=c)}}function Es(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function cw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Oy(t){if(Es(t)!==t)throw Error(K(188))}function vx(t){var e=t.alternate;if(!e){if(e=Es(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Oy(i),t;if(s===r)return Oy(i),e;s=s.sibling}throw Error(K(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function dw(t){return t=vx(t),t!==null?hw(t):null}function hw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=hw(t);if(e!==null)return e;t=t.sibling}return null}var fw=cn.unstable_scheduleCallback,My=cn.unstable_cancelCallback,_x=cn.unstable_shouldYield,Ex=cn.unstable_requestPaint,st=cn.unstable_now,wx=cn.unstable_getCurrentPriorityLevel,Kp=cn.unstable_ImmediatePriority,pw=cn.unstable_UserBlockingPriority,Sc=cn.unstable_NormalPriority,Tx=cn.unstable_LowPriority,mw=cn.unstable_IdlePriority,vd=null,Yn=null;function Ix(t){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(vd,t,void 0,(t.current.flags&128)===128)}catch{}}var jn=Math.clz32?Math.clz32:Ax,Sx=Math.log,xx=Math.LN2;function Ax(t){return t>>>=0,t===0?32:31-(Sx(t)/xx|0)|0}var Nu=64,ku=4194304;function Ca(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Ca(l):(s&=o,s!==0&&(r=Ca(s)))}else o=n&~i,o!==0?r=Ca(o):s!==0&&(r=Ca(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-jn(e),i=1<<n,r|=t[n],e&=~i;return r}function Rx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Px(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-jn(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=Rx(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function Sf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gw(){var t=Nu;return Nu<<=1,!(Nu&4194240)&&(Nu=64),t}function wh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function jl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-jn(e),t[e]=n}function Cx(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-jn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function qp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-jn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Le=0;function yw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var vw,Qp,_w,Ew,ww,xf=!1,Du=[],ai=null,li=null,ui=null,il=new Map,sl=new Map,Xr=[],Nx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vy(t,e){switch(t){case"focusin":case"focusout":ai=null;break;case"dragenter":case"dragleave":li=null;break;case"mouseover":case"mouseout":ui=null;break;case"pointerover":case"pointerout":il.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(e.pointerId)}}function ma(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ul(e),e!==null&&Qp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function kx(t,e,n,r,i){switch(e){case"focusin":return ai=ma(ai,t,e,n,r,i),!0;case"dragenter":return li=ma(li,t,e,n,r,i),!0;case"mouseover":return ui=ma(ui,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return il.set(s,ma(il.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,sl.set(s,ma(sl.get(s)||null,t,e,n,r,i)),!0}return!1}function Tw(t){var e=Qi(t.target);if(e!==null){var n=Es(e);if(n!==null){if(e=n.tag,e===13){if(e=cw(n),e!==null){t.blockedOn=e,ww(t.priority,function(){_w(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ju(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Af(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ef=r,n.target.dispatchEvent(r),Ef=null}else return e=Ul(n),e!==null&&Qp(e),t.blockedOn=n,!1;e.shift()}return!0}function jy(t,e,n){Ju(t)&&n.delete(e)}function Dx(){xf=!1,ai!==null&&Ju(ai)&&(ai=null),li!==null&&Ju(li)&&(li=null),ui!==null&&Ju(ui)&&(ui=null),il.forEach(jy),sl.forEach(jy)}function ga(t,e){t.blockedOn===e&&(t.blockedOn=null,xf||(xf=!0,cn.unstable_scheduleCallback(cn.unstable_NormalPriority,Dx)))}function ol(t){function e(i){return ga(i,t)}if(0<Du.length){ga(Du[0],t);for(var n=1;n<Du.length;n++){var r=Du[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ai!==null&&ga(ai,t),li!==null&&ga(li,t),ui!==null&&ga(ui,t),il.forEach(e),sl.forEach(e),n=0;n<Xr.length;n++)r=Xr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Xr.length&&(n=Xr[0],n.blockedOn===null);)Tw(n),n.blockedOn===null&&Xr.shift()}var oo=Or.ReactCurrentBatchConfig,Ac=!0;function bx(t,e,n,r){var i=Le,s=oo.transition;oo.transition=null;try{Le=1,Yp(t,e,n,r)}finally{Le=i,oo.transition=s}}function Lx(t,e,n,r){var i=Le,s=oo.transition;oo.transition=null;try{Le=4,Yp(t,e,n,r)}finally{Le=i,oo.transition=s}}function Yp(t,e,n,r){if(Ac){var i=Af(t,e,n,r);if(i===null)kh(t,e,r,Rc,n),Vy(t,r);else if(kx(i,t,e,n,r))r.stopPropagation();else if(Vy(t,r),e&4&&-1<Nx.indexOf(t)){for(;i!==null;){var s=Ul(i);if(s!==null&&vw(s),s=Af(t,e,n,r),s===null&&kh(t,e,r,Rc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else kh(t,e,r,null,n)}}var Rc=null;function Af(t,e,n,r){if(Rc=null,t=Gp(r),t=Qi(t),t!==null)if(e=Es(t),e===null)t=null;else if(n=e.tag,n===13){if(t=cw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Rc=t,null}function Iw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wx()){case Kp:return 1;case pw:return 4;case Sc:case Tx:return 16;case mw:return 536870912;default:return 16}default:return 16}}var ri=null,Xp=null,Zu=null;function Sw(){if(Zu)return Zu;var t,e=Xp,n=e.length,r,i="value"in ri?ri.value:ri.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Zu=i.slice(t,1<r?1-r:void 0)}function ec(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bu(){return!0}function Fy(){return!1}function fn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?bu:Fy,this.isPropagationStopped=Fy,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bu)},persist:function(){},isPersistent:bu}),e}var Mo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jp=fn(Mo),Fl=Ye({},Mo,{view:0,detail:0}),Ox=fn(Fl),Th,Ih,ya,_d=Ye({},Fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ya&&(ya&&t.type==="mousemove"?(Th=t.screenX-ya.screenX,Ih=t.screenY-ya.screenY):Ih=Th=0,ya=t),Th)},movementY:function(t){return"movementY"in t?t.movementY:Ih}}),Uy=fn(_d),Mx=Ye({},_d,{dataTransfer:0}),Vx=fn(Mx),jx=Ye({},Fl,{relatedTarget:0}),Sh=fn(jx),Fx=Ye({},Mo,{animationName:0,elapsedTime:0,pseudoElement:0}),Ux=fn(Fx),zx=Ye({},Mo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bx=fn(zx),$x=Ye({},Mo,{data:0}),zy=fn($x),Hx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Gx[t])?!!e[t]:!1}function Zp(){return Kx}var qx=Ye({},Fl,{key:function(t){if(t.key){var e=Hx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ec(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Wx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zp,charCode:function(t){return t.type==="keypress"?ec(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ec(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Qx=fn(qx),Yx=Ye({},_d,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),By=fn(Yx),Xx=Ye({},Fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zp}),Jx=fn(Xx),Zx=Ye({},Mo,{propertyName:0,elapsedTime:0,pseudoElement:0}),eA=fn(Zx),tA=Ye({},_d,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nA=fn(tA),rA=[9,13,27,32],em=xr&&"CompositionEvent"in window,ja=null;xr&&"documentMode"in document&&(ja=document.documentMode);var iA=xr&&"TextEvent"in window&&!ja,xw=xr&&(!em||ja&&8<ja&&11>=ja),$y=" ",Hy=!1;function Aw(t,e){switch(t){case"keyup":return rA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zs=!1;function sA(t,e){switch(t){case"compositionend":return Rw(e);case"keypress":return e.which!==32?null:(Hy=!0,$y);case"textInput":return t=e.data,t===$y&&Hy?null:t;default:return null}}function oA(t,e){if(zs)return t==="compositionend"||!em&&Aw(t,e)?(t=Sw(),Zu=Xp=ri=null,zs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xw&&e.locale!=="ko"?null:e.data;default:return null}}var aA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!aA[t.type]:e==="textarea"}function Pw(t,e,n,r){sw(r),e=Pc(e,"onChange"),0<e.length&&(n=new Jp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Fa=null,al=null;function lA(t){Fw(t,0)}function Ed(t){var e=Hs(t);if(JE(e))return t}function uA(t,e){if(t==="change")return e}var Cw=!1;if(xr){var xh;if(xr){var Ah="oninput"in document;if(!Ah){var Gy=document.createElement("div");Gy.setAttribute("oninput","return;"),Ah=typeof Gy.oninput=="function"}xh=Ah}else xh=!1;Cw=xh&&(!document.documentMode||9<document.documentMode)}function Ky(){Fa&&(Fa.detachEvent("onpropertychange",Nw),al=Fa=null)}function Nw(t){if(t.propertyName==="value"&&Ed(al)){var e=[];Pw(e,al,t,Gp(t)),uw(lA,e)}}function cA(t,e,n){t==="focusin"?(Ky(),Fa=e,al=n,Fa.attachEvent("onpropertychange",Nw)):t==="focusout"&&Ky()}function dA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ed(al)}function hA(t,e){if(t==="click")return Ed(e)}function fA(t,e){if(t==="input"||t==="change")return Ed(e)}function pA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Un=typeof Object.is=="function"?Object.is:pA;function ll(t,e){if(Un(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!lf.call(e,i)||!Un(t[i],e[i]))return!1}return!0}function qy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qy(t,e){var n=qy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qy(n)}}function kw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?kw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Dw(){for(var t=window,e=wc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wc(t.document)}return e}function tm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function mA(t){var e=Dw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&kw(n.ownerDocument.documentElement,n)){if(r!==null&&tm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Qy(n,s);var o=Qy(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gA=xr&&"documentMode"in document&&11>=document.documentMode,Bs=null,Rf=null,Ua=null,Pf=!1;function Yy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pf||Bs==null||Bs!==wc(r)||(r=Bs,"selectionStart"in r&&tm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ua&&ll(Ua,r)||(Ua=r,r=Pc(Rf,"onSelect"),0<r.length&&(e=new Jp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Bs)))}function Lu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $s={animationend:Lu("Animation","AnimationEnd"),animationiteration:Lu("Animation","AnimationIteration"),animationstart:Lu("Animation","AnimationStart"),transitionend:Lu("Transition","TransitionEnd")},Rh={},bw={};xr&&(bw=document.createElement("div").style,"AnimationEvent"in window||(delete $s.animationend.animation,delete $s.animationiteration.animation,delete $s.animationstart.animation),"TransitionEvent"in window||delete $s.transitionend.transition);function wd(t){if(Rh[t])return Rh[t];if(!$s[t])return t;var e=$s[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bw)return Rh[t]=e[n];return t}var Lw=wd("animationend"),Ow=wd("animationiteration"),Mw=wd("animationstart"),Vw=wd("transitionend"),jw=new Map,Xy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pi(t,e){jw.set(t,e),_s(e,[t])}for(var Ph=0;Ph<Xy.length;Ph++){var Ch=Xy[Ph],yA=Ch.toLowerCase(),vA=Ch[0].toUpperCase()+Ch.slice(1);Pi(yA,"on"+vA)}Pi(Lw,"onAnimationEnd");Pi(Ow,"onAnimationIteration");Pi(Mw,"onAnimationStart");Pi("dblclick","onDoubleClick");Pi("focusin","onFocus");Pi("focusout","onBlur");Pi(Vw,"onTransitionEnd");go("onMouseEnter",["mouseout","mouseover"]);go("onMouseLeave",["mouseout","mouseover"]);go("onPointerEnter",["pointerout","pointerover"]);go("onPointerLeave",["pointerout","pointerover"]);_s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_s("onBeforeInput",["compositionend","keypress","textInput","paste"]);_s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Na="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_A=new Set("cancel close invalid load scroll toggle".split(" ").concat(Na));function Jy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,yx(r,e,void 0,t),t.currentTarget=null}function Fw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;Jy(i,l,c),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;Jy(i,l,c),s=u}}}if(Ic)throw t=If,Ic=!1,If=null,t}function Be(t,e){var n=e[bf];n===void 0&&(n=e[bf]=new Set);var r=t+"__bubble";n.has(r)||(Uw(e,t,2,!1),n.add(r))}function Nh(t,e,n){var r=0;e&&(r|=4),Uw(n,t,r,e)}var Ou="_reactListening"+Math.random().toString(36).slice(2);function ul(t){if(!t[Ou]){t[Ou]=!0,KE.forEach(function(n){n!=="selectionchange"&&(_A.has(n)||Nh(n,!1,t),Nh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ou]||(e[Ou]=!0,Nh("selectionchange",!1,e))}}function Uw(t,e,n,r){switch(Iw(e)){case 1:var i=bx;break;case 4:i=Lx;break;default:i=Yp}n=i.bind(null,e,n,t),i=void 0,!Tf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function kh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Qi(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}uw(function(){var c=s,d=Gp(n),p=[];e:{var m=jw.get(t);if(m!==void 0){var w=Jp,A=t;switch(t){case"keypress":if(ec(n)===0)break e;case"keydown":case"keyup":w=Qx;break;case"focusin":A="focus",w=Sh;break;case"focusout":A="blur",w=Sh;break;case"beforeblur":case"afterblur":w=Sh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Uy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=Vx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=Jx;break;case Lw:case Ow:case Mw:w=Ux;break;case Vw:w=eA;break;case"scroll":w=Ox;break;case"wheel":w=nA;break;case"copy":case"cut":case"paste":w=Bx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=By}var T=(e&4)!==0,N=!T&&t==="scroll",E=T?m!==null?m+"Capture":null:m;T=[];for(var v=c,I;v!==null;){I=v;var b=I.stateNode;if(I.tag===5&&b!==null&&(I=b,E!==null&&(b=rl(v,E),b!=null&&T.push(cl(v,b,I)))),N)break;v=v.return}0<T.length&&(m=new w(m,A,null,n,d),p.push({event:m,listeners:T}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",m&&n!==Ef&&(A=n.relatedTarget||n.fromElement)&&(Qi(A)||A[Ar]))break e;if((w||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,w?(A=n.relatedTarget||n.toElement,w=c,A=A?Qi(A):null,A!==null&&(N=Es(A),A!==N||A.tag!==5&&A.tag!==6)&&(A=null)):(w=null,A=c),w!==A)){if(T=Uy,b="onMouseLeave",E="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(T=By,b="onPointerLeave",E="onPointerEnter",v="pointer"),N=w==null?m:Hs(w),I=A==null?m:Hs(A),m=new T(b,v+"leave",w,n,d),m.target=N,m.relatedTarget=I,b=null,Qi(d)===c&&(T=new T(E,v+"enter",A,n,d),T.target=I,T.relatedTarget=N,b=T),N=b,w&&A)t:{for(T=w,E=A,v=0,I=T;I;I=Ds(I))v++;for(I=0,b=E;b;b=Ds(b))I++;for(;0<v-I;)T=Ds(T),v--;for(;0<I-v;)E=Ds(E),I--;for(;v--;){if(T===E||E!==null&&T===E.alternate)break t;T=Ds(T),E=Ds(E)}T=null}else T=null;w!==null&&Zy(p,m,w,T,!1),A!==null&&N!==null&&Zy(p,N,A,T,!0)}}e:{if(m=c?Hs(c):window,w=m.nodeName&&m.nodeName.toLowerCase(),w==="select"||w==="input"&&m.type==="file")var M=uA;else if(Wy(m))if(Cw)M=fA;else{M=dA;var D=cA}else(w=m.nodeName)&&w.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(M=hA);if(M&&(M=M(t,c))){Pw(p,M,n,d);break e}D&&D(t,m,c),t==="focusout"&&(D=m._wrapperState)&&D.controlled&&m.type==="number"&&mf(m,"number",m.value)}switch(D=c?Hs(c):window,t){case"focusin":(Wy(D)||D.contentEditable==="true")&&(Bs=D,Rf=c,Ua=null);break;case"focusout":Ua=Rf=Bs=null;break;case"mousedown":Pf=!0;break;case"contextmenu":case"mouseup":case"dragend":Pf=!1,Yy(p,n,d);break;case"selectionchange":if(gA)break;case"keydown":case"keyup":Yy(p,n,d)}var _;if(em)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else zs?Aw(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(xw&&n.locale!=="ko"&&(zs||y!=="onCompositionStart"?y==="onCompositionEnd"&&zs&&(_=Sw()):(ri=d,Xp="value"in ri?ri.value:ri.textContent,zs=!0)),D=Pc(c,y),0<D.length&&(y=new zy(y,t,null,n,d),p.push({event:y,listeners:D}),_?y.data=_:(_=Rw(n),_!==null&&(y.data=_)))),(_=iA?sA(t,n):oA(t,n))&&(c=Pc(c,"onBeforeInput"),0<c.length&&(d=new zy("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:c}),d.data=_))}Fw(p,e)})}function cl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Pc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=rl(t,n),s!=null&&r.unshift(cl(t,s,i)),s=rl(t,e),s!=null&&r.push(cl(t,s,i))),t=t.return}return r}function Ds(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Zy(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=rl(n,s),u!=null&&o.unshift(cl(n,u,l))):i||(u=rl(n,s),u!=null&&o.push(cl(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var EA=/\r\n?/g,wA=/\u0000|\uFFFD/g;function ev(t){return(typeof t=="string"?t:""+t).replace(EA,`
`).replace(wA,"")}function Mu(t,e,n){if(e=ev(e),ev(t)!==e&&n)throw Error(K(425))}function Cc(){}var Cf=null,Nf=null;function kf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Df=typeof setTimeout=="function"?setTimeout:void 0,TA=typeof clearTimeout=="function"?clearTimeout:void 0,tv=typeof Promise=="function"?Promise:void 0,IA=typeof queueMicrotask=="function"?queueMicrotask:typeof tv<"u"?function(t){return tv.resolve(null).then(t).catch(SA)}:Df;function SA(t){setTimeout(function(){throw t})}function Dh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ol(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ol(e)}function ci(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function nv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Vo=Math.random().toString(36).slice(2),qn="__reactFiber$"+Vo,dl="__reactProps$"+Vo,Ar="__reactContainer$"+Vo,bf="__reactEvents$"+Vo,xA="__reactListeners$"+Vo,AA="__reactHandles$"+Vo;function Qi(t){var e=t[qn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ar]||n[qn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=nv(t);t!==null;){if(n=t[qn])return n;t=nv(t)}return e}t=n,n=t.parentNode}return null}function Ul(t){return t=t[qn]||t[Ar],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function Td(t){return t[dl]||null}var Lf=[],Ws=-1;function Ci(t){return{current:t}}function $e(t){0>Ws||(t.current=Lf[Ws],Lf[Ws]=null,Ws--)}function Fe(t,e){Ws++,Lf[Ws]=t.current,t.current=e}var wi={},$t=Ci(wi),en=Ci(!1),ss=wi;function yo(t,e){var n=t.type.contextTypes;if(!n)return wi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function tn(t){return t=t.childContextTypes,t!=null}function Nc(){$e(en),$e($t)}function rv(t,e,n){if($t.current!==wi)throw Error(K(168));Fe($t,e),Fe(en,n)}function zw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(K(108,cx(t)||"Unknown",i));return Ye({},n,r)}function kc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||wi,ss=$t.current,Fe($t,t),Fe(en,en.current),!0}function iv(t,e,n){var r=t.stateNode;if(!r)throw Error(K(169));n?(t=zw(t,e,ss),r.__reactInternalMemoizedMergedChildContext=t,$e(en),$e($t),Fe($t,t)):$e(en),Fe(en,n)}var dr=null,Id=!1,bh=!1;function Bw(t){dr===null?dr=[t]:dr.push(t)}function RA(t){Id=!0,Bw(t)}function Ni(){if(!bh&&dr!==null){bh=!0;var t=0,e=Le;try{var n=dr;for(Le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}dr=null,Id=!1}catch(i){throw dr!==null&&(dr=dr.slice(t+1)),fw(Kp,Ni),i}finally{Le=e,bh=!1}}return null}var Gs=[],Ks=0,Dc=null,bc=0,yn=[],vn=0,os=null,fr=1,pr="";function Gi(t,e){Gs[Ks++]=bc,Gs[Ks++]=Dc,Dc=t,bc=e}function $w(t,e,n){yn[vn++]=fr,yn[vn++]=pr,yn[vn++]=os,os=t;var r=fr;t=pr;var i=32-jn(r)-1;r&=~(1<<i),n+=1;var s=32-jn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,fr=1<<32-jn(e)+i|n<<i|r,pr=s+t}else fr=1<<s|n<<i|r,pr=t}function nm(t){t.return!==null&&(Gi(t,1),$w(t,1,0))}function rm(t){for(;t===Dc;)Dc=Gs[--Ks],Gs[Ks]=null,bc=Gs[--Ks],Gs[Ks]=null;for(;t===os;)os=yn[--vn],yn[vn]=null,pr=yn[--vn],yn[vn]=null,fr=yn[--vn],yn[vn]=null}var ln=null,an=null,Ge=!1,Ln=null;function Hw(t,e){var n=wn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function sv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ln=t,an=ci(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ln=t,an=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=os!==null?{id:fr,overflow:pr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=wn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ln=t,an=null,!0):!1;default:return!1}}function Of(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Mf(t){if(Ge){var e=an;if(e){var n=e;if(!sv(t,e)){if(Of(t))throw Error(K(418));e=ci(n.nextSibling);var r=ln;e&&sv(t,e)?Hw(r,n):(t.flags=t.flags&-4097|2,Ge=!1,ln=t)}}else{if(Of(t))throw Error(K(418));t.flags=t.flags&-4097|2,Ge=!1,ln=t}}}function ov(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ln=t}function Vu(t){if(t!==ln)return!1;if(!Ge)return ov(t),Ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!kf(t.type,t.memoizedProps)),e&&(e=an)){if(Of(t))throw Ww(),Error(K(418));for(;e;)Hw(t,e),e=ci(e.nextSibling)}if(ov(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){an=ci(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}an=null}}else an=ln?ci(t.stateNode.nextSibling):null;return!0}function Ww(){for(var t=an;t;)t=ci(t.nextSibling)}function vo(){an=ln=null,Ge=!1}function im(t){Ln===null?Ln=[t]:Ln.push(t)}var PA=Or.ReactCurrentBatchConfig;function kn(t,e){if(t&&t.defaultProps){e=Ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Lc=Ci(null),Oc=null,qs=null,sm=null;function om(){sm=qs=Oc=null}function am(t){var e=Lc.current;$e(Lc),t._currentValue=e}function Vf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ao(t,e){Oc=t,sm=qs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Jt=!0),t.firstContext=null)}function Sn(t){var e=t._currentValue;if(sm!==t)if(t={context:t,memoizedValue:e,next:null},qs===null){if(Oc===null)throw Error(K(308));qs=t,Oc.dependencies={lanes:0,firstContext:t}}else qs=qs.next=t;return e}var Yi=null;function lm(t){Yi===null?Yi=[t]:Yi.push(t)}function Gw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,lm(e)):(n.next=i.next,i.next=n),e.interleaved=n,Rr(t,r)}function Rr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Yr=!1;function um(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Er(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function di(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Rr(t,n)}return i=r.interleaved,i===null?(e.next=e,lm(r)):(e.next=i.next,i.next=e),r.interleaved=e,Rr(t,n)}function tc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qp(t,n)}}function av(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Mc(t,e,n,r){var i=t.updateQueue;Yr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(s!==null){var p=i.baseState;o=0,d=c=u=null,l=s;do{var m=l.lane,w=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:w,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var A=t,T=l;switch(m=e,w=n,T.tag){case 1:if(A=T.payload,typeof A=="function"){p=A.call(w,p,m);break e}p=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=T.payload,m=typeof A=="function"?A.call(w,p,m):A,m==null)break e;p=Ye({},p,m);break e;case 2:Yr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else w={eventTime:w,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=w,u=p):d=d.next=w,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(u=p),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ls|=o,t.lanes=o,t.memoizedState=p}}function lv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(K(191,i));i.call(r)}}}var qw=new GE.Component().refs;function jf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Sd={isMounted:function(t){return(t=t._reactInternals)?Es(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Kt(),i=fi(t),s=Er(r,i);s.payload=e,n!=null&&(s.callback=n),e=di(t,s,i),e!==null&&(Fn(e,t,i,r),tc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Kt(),i=fi(t),s=Er(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=di(t,s,i),e!==null&&(Fn(e,t,i,r),tc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Kt(),r=fi(t),i=Er(n,r);i.tag=2,e!=null&&(i.callback=e),e=di(t,i,r),e!==null&&(Fn(e,t,r,n),tc(e,t,r))}};function uv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ll(n,r)||!ll(i,s):!0}function Qw(t,e,n){var r=!1,i=wi,s=e.contextType;return typeof s=="object"&&s!==null?s=Sn(s):(i=tn(e)?ss:$t.current,r=e.contextTypes,s=(r=r!=null)?yo(t,i):wi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function cv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Sd.enqueueReplaceState(e,e.state,null)}function Ff(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=qw,um(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Sn(s):(s=tn(e)?ss:$t.current,i.context=yo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(jf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Sd.enqueueReplaceState(i,i.state,null),Mc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function va(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;l===qw&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function ju(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function dv(t){var e=t._init;return e(t._payload)}function Yw(t){function e(E,v){if(t){var I=E.deletions;I===null?(E.deletions=[v],E.flags|=16):I.push(v)}}function n(E,v){if(!t)return null;for(;v!==null;)e(E,v),v=v.sibling;return null}function r(E,v){for(E=new Map;v!==null;)v.key!==null?E.set(v.key,v):E.set(v.index,v),v=v.sibling;return E}function i(E,v){return E=pi(E,v),E.index=0,E.sibling=null,E}function s(E,v,I){return E.index=I,t?(I=E.alternate,I!==null?(I=I.index,I<v?(E.flags|=2,v):I):(E.flags|=2,v)):(E.flags|=1048576,v)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function l(E,v,I,b){return v===null||v.tag!==6?(v=Uh(I,E.mode,b),v.return=E,v):(v=i(v,I),v.return=E,v)}function u(E,v,I,b){var M=I.type;return M===Us?d(E,v,I.props.children,b,I.key):v!==null&&(v.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Qr&&dv(M)===v.type)?(b=i(v,I.props),b.ref=va(E,v,I),b.return=E,b):(b=ac(I.type,I.key,I.props,null,E.mode,b),b.ref=va(E,v,I),b.return=E,b)}function c(E,v,I,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==I.containerInfo||v.stateNode.implementation!==I.implementation?(v=zh(I,E.mode,b),v.return=E,v):(v=i(v,I.children||[]),v.return=E,v)}function d(E,v,I,b,M){return v===null||v.tag!==7?(v=ns(I,E.mode,b,M),v.return=E,v):(v=i(v,I),v.return=E,v)}function p(E,v,I){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Uh(""+v,E.mode,I),v.return=E,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ru:return I=ac(v.type,v.key,v.props,null,E.mode,I),I.ref=va(E,null,v),I.return=E,I;case Fs:return v=zh(v,E.mode,I),v.return=E,v;case Qr:var b=v._init;return p(E,b(v._payload),I)}if(Pa(v)||fa(v))return v=ns(v,E.mode,I,null),v.return=E,v;ju(E,v)}return null}function m(E,v,I,b){var M=v!==null?v.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return M!==null?null:l(E,v,""+I,b);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Ru:return I.key===M?u(E,v,I,b):null;case Fs:return I.key===M?c(E,v,I,b):null;case Qr:return M=I._init,m(E,v,M(I._payload),b)}if(Pa(I)||fa(I))return M!==null?null:d(E,v,I,b,null);ju(E,I)}return null}function w(E,v,I,b,M){if(typeof b=="string"&&b!==""||typeof b=="number")return E=E.get(I)||null,l(v,E,""+b,M);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ru:return E=E.get(b.key===null?I:b.key)||null,u(v,E,b,M);case Fs:return E=E.get(b.key===null?I:b.key)||null,c(v,E,b,M);case Qr:var D=b._init;return w(E,v,I,D(b._payload),M)}if(Pa(b)||fa(b))return E=E.get(I)||null,d(v,E,b,M,null);ju(v,b)}return null}function A(E,v,I,b){for(var M=null,D=null,_=v,y=v=0,S=null;_!==null&&y<I.length;y++){_.index>y?(S=_,_=null):S=_.sibling;var P=m(E,_,I[y],b);if(P===null){_===null&&(_=S);break}t&&_&&P.alternate===null&&e(E,_),v=s(P,v,y),D===null?M=P:D.sibling=P,D=P,_=S}if(y===I.length)return n(E,_),Ge&&Gi(E,y),M;if(_===null){for(;y<I.length;y++)_=p(E,I[y],b),_!==null&&(v=s(_,v,y),D===null?M=_:D.sibling=_,D=_);return Ge&&Gi(E,y),M}for(_=r(E,_);y<I.length;y++)S=w(_,E,y,I[y],b),S!==null&&(t&&S.alternate!==null&&_.delete(S.key===null?y:S.key),v=s(S,v,y),D===null?M=S:D.sibling=S,D=S);return t&&_.forEach(function(C){return e(E,C)}),Ge&&Gi(E,y),M}function T(E,v,I,b){var M=fa(I);if(typeof M!="function")throw Error(K(150));if(I=M.call(I),I==null)throw Error(K(151));for(var D=M=null,_=v,y=v=0,S=null,P=I.next();_!==null&&!P.done;y++,P=I.next()){_.index>y?(S=_,_=null):S=_.sibling;var C=m(E,_,P.value,b);if(C===null){_===null&&(_=S);break}t&&_&&C.alternate===null&&e(E,_),v=s(C,v,y),D===null?M=C:D.sibling=C,D=C,_=S}if(P.done)return n(E,_),Ge&&Gi(E,y),M;if(_===null){for(;!P.done;y++,P=I.next())P=p(E,P.value,b),P!==null&&(v=s(P,v,y),D===null?M=P:D.sibling=P,D=P);return Ge&&Gi(E,y),M}for(_=r(E,_);!P.done;y++,P=I.next())P=w(_,E,y,P.value,b),P!==null&&(t&&P.alternate!==null&&_.delete(P.key===null?y:P.key),v=s(P,v,y),D===null?M=P:D.sibling=P,D=P);return t&&_.forEach(function(k){return e(E,k)}),Ge&&Gi(E,y),M}function N(E,v,I,b){if(typeof I=="object"&&I!==null&&I.type===Us&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Ru:e:{for(var M=I.key,D=v;D!==null;){if(D.key===M){if(M=I.type,M===Us){if(D.tag===7){n(E,D.sibling),v=i(D,I.props.children),v.return=E,E=v;break e}}else if(D.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Qr&&dv(M)===D.type){n(E,D.sibling),v=i(D,I.props),v.ref=va(E,D,I),v.return=E,E=v;break e}n(E,D);break}else e(E,D);D=D.sibling}I.type===Us?(v=ns(I.props.children,E.mode,b,I.key),v.return=E,E=v):(b=ac(I.type,I.key,I.props,null,E.mode,b),b.ref=va(E,v,I),b.return=E,E=b)}return o(E);case Fs:e:{for(D=I.key;v!==null;){if(v.key===D)if(v.tag===4&&v.stateNode.containerInfo===I.containerInfo&&v.stateNode.implementation===I.implementation){n(E,v.sibling),v=i(v,I.children||[]),v.return=E,E=v;break e}else{n(E,v);break}else e(E,v);v=v.sibling}v=zh(I,E.mode,b),v.return=E,E=v}return o(E);case Qr:return D=I._init,N(E,v,D(I._payload),b)}if(Pa(I))return A(E,v,I,b);if(fa(I))return T(E,v,I,b);ju(E,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,v!==null&&v.tag===6?(n(E,v.sibling),v=i(v,I),v.return=E,E=v):(n(E,v),v=Uh(I,E.mode,b),v.return=E,E=v),o(E)):n(E,v)}return N}var _o=Yw(!0),Xw=Yw(!1),zl={},Xn=Ci(zl),hl=Ci(zl),fl=Ci(zl);function Xi(t){if(t===zl)throw Error(K(174));return t}function cm(t,e){switch(Fe(fl,e),Fe(hl,t),Fe(Xn,zl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:yf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=yf(e,t)}$e(Xn),Fe(Xn,e)}function Eo(){$e(Xn),$e(hl),$e(fl)}function Jw(t){Xi(fl.current);var e=Xi(Xn.current),n=yf(e,t.type);e!==n&&(Fe(hl,t),Fe(Xn,n))}function dm(t){hl.current===t&&($e(Xn),$e(hl))}var qe=Ci(0);function Vc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Lh=[];function hm(){for(var t=0;t<Lh.length;t++)Lh[t]._workInProgressVersionPrimary=null;Lh.length=0}var nc=Or.ReactCurrentDispatcher,Oh=Or.ReactCurrentBatchConfig,as=0,Qe=null,yt=null,It=null,jc=!1,za=!1,pl=0,CA=0;function Mt(){throw Error(K(321))}function fm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Un(t[n],e[n]))return!1;return!0}function pm(t,e,n,r,i,s){if(as=s,Qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,nc.current=t===null||t.memoizedState===null?bA:LA,t=n(r,i),za){s=0;do{if(za=!1,pl=0,25<=s)throw Error(K(301));s+=1,It=yt=null,e.updateQueue=null,nc.current=OA,t=n(r,i)}while(za)}if(nc.current=Fc,e=yt!==null&&yt.next!==null,as=0,It=yt=Qe=null,jc=!1,e)throw Error(K(300));return t}function mm(){var t=pl!==0;return pl=0,t}function Kn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Qe.memoizedState=It=t:It=It.next=t,It}function xn(){if(yt===null){var t=Qe.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var e=It===null?Qe.memoizedState:It.next;if(e!==null)It=e,yt=t;else{if(t===null)throw Error(K(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},It===null?Qe.memoizedState=It=t:It=It.next=t}return It}function ml(t,e){return typeof e=="function"?e(t):e}function Mh(t){var e=xn(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=yt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,c=s;do{var d=c.lane;if((as&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=p,o=r):u=u.next=p,Qe.lanes|=d,ls|=d}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=l,Un(r,e.memoizedState)||(Jt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Qe.lanes|=s,ls|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Vh(t){var e=xn(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Un(s,e.memoizedState)||(Jt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Zw(){}function e0(t,e){var n=Qe,r=xn(),i=e(),s=!Un(r.memoizedState,i);if(s&&(r.memoizedState=i,Jt=!0),r=r.queue,gm(r0.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||It!==null&&It.memoizedState.tag&1){if(n.flags|=2048,gl(9,n0.bind(null,n,r,i,e),void 0,null),St===null)throw Error(K(349));as&30||t0(n,e,i)}return i}function t0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function n0(t,e,n,r){e.value=n,e.getSnapshot=r,i0(e)&&s0(t)}function r0(t,e,n){return n(function(){i0(e)&&s0(t)})}function i0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Un(t,n)}catch{return!0}}function s0(t){var e=Rr(t,1);e!==null&&Fn(e,t,1,-1)}function hv(t){var e=Kn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:t},e.queue=t,t=t.dispatch=DA.bind(null,Qe,t),[e.memoizedState,t]}function gl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function o0(){return xn().memoizedState}function rc(t,e,n,r){var i=Kn();Qe.flags|=t,i.memoizedState=gl(1|e,n,void 0,r===void 0?null:r)}function xd(t,e,n,r){var i=xn();r=r===void 0?null:r;var s=void 0;if(yt!==null){var o=yt.memoizedState;if(s=o.destroy,r!==null&&fm(r,o.deps)){i.memoizedState=gl(e,n,s,r);return}}Qe.flags|=t,i.memoizedState=gl(1|e,n,s,r)}function fv(t,e){return rc(8390656,8,t,e)}function gm(t,e){return xd(2048,8,t,e)}function a0(t,e){return xd(4,2,t,e)}function l0(t,e){return xd(4,4,t,e)}function u0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function c0(t,e,n){return n=n!=null?n.concat([t]):null,xd(4,4,u0.bind(null,e,t),n)}function ym(){}function d0(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&fm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function h0(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&fm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function f0(t,e,n){return as&21?(Un(n,e)||(n=gw(),Qe.lanes|=n,ls|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Jt=!0),t.memoizedState=n)}function NA(t,e){var n=Le;Le=n!==0&&4>n?n:4,t(!0);var r=Oh.transition;Oh.transition={};try{t(!1),e()}finally{Le=n,Oh.transition=r}}function p0(){return xn().memoizedState}function kA(t,e,n){var r=fi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},m0(t))g0(e,n);else if(n=Gw(t,e,n,r),n!==null){var i=Kt();Fn(n,t,r,i),y0(n,e,r)}}function DA(t,e,n){var r=fi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(m0(t))g0(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Un(l,o)){var u=e.interleaved;u===null?(i.next=i,lm(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=Gw(t,e,i,r),n!==null&&(i=Kt(),Fn(n,t,r,i),y0(n,e,r))}}function m0(t){var e=t.alternate;return t===Qe||e!==null&&e===Qe}function g0(t,e){za=jc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function y0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qp(t,n)}}var Fc={readContext:Sn,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},bA={readContext:Sn,useCallback:function(t,e){return Kn().memoizedState=[t,e===void 0?null:e],t},useContext:Sn,useEffect:fv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,rc(4194308,4,u0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rc(4194308,4,t,e)},useInsertionEffect:function(t,e){return rc(4,2,t,e)},useMemo:function(t,e){var n=Kn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Kn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=kA.bind(null,Qe,t),[r.memoizedState,t]},useRef:function(t){var e=Kn();return t={current:t},e.memoizedState=t},useState:hv,useDebugValue:ym,useDeferredValue:function(t){return Kn().memoizedState=t},useTransition:function(){var t=hv(!1),e=t[0];return t=NA.bind(null,t[1]),Kn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Qe,i=Kn();if(Ge){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),St===null)throw Error(K(349));as&30||t0(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,fv(r0.bind(null,r,s,t),[t]),r.flags|=2048,gl(9,n0.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Kn(),e=St.identifierPrefix;if(Ge){var n=pr,r=fr;n=(r&~(1<<32-jn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=pl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=CA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},LA={readContext:Sn,useCallback:d0,useContext:Sn,useEffect:gm,useImperativeHandle:c0,useInsertionEffect:a0,useLayoutEffect:l0,useMemo:h0,useReducer:Mh,useRef:o0,useState:function(){return Mh(ml)},useDebugValue:ym,useDeferredValue:function(t){var e=xn();return f0(e,yt.memoizedState,t)},useTransition:function(){var t=Mh(ml)[0],e=xn().memoizedState;return[t,e]},useMutableSource:Zw,useSyncExternalStore:e0,useId:p0,unstable_isNewReconciler:!1},OA={readContext:Sn,useCallback:d0,useContext:Sn,useEffect:gm,useImperativeHandle:c0,useInsertionEffect:a0,useLayoutEffect:l0,useMemo:h0,useReducer:Vh,useRef:o0,useState:function(){return Vh(ml)},useDebugValue:ym,useDeferredValue:function(t){var e=xn();return yt===null?e.memoizedState=t:f0(e,yt.memoizedState,t)},useTransition:function(){var t=Vh(ml)[0],e=xn().memoizedState;return[t,e]},useMutableSource:Zw,useSyncExternalStore:e0,useId:p0,unstable_isNewReconciler:!1};function wo(t,e){try{var n="",r=e;do n+=ux(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function jh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Uf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var MA=typeof WeakMap=="function"?WeakMap:Map;function v0(t,e,n){n=Er(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){zc||(zc=!0,Yf=r),Uf(t,e)},n}function _0(t,e,n){n=Er(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Uf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Uf(t,e),typeof r!="function"&&(hi===null?hi=new Set([this]):hi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function pv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new MA;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=YA.bind(null,t,e,n),e.then(t,t))}function mv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function gv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Er(-1,1),e.tag=2,di(n,e,1))),n.lanes|=1),t)}var VA=Or.ReactCurrentOwner,Jt=!1;function Gt(t,e,n,r){e.child=t===null?Xw(e,null,n,r):_o(e,t.child,n,r)}function yv(t,e,n,r,i){n=n.render;var s=e.ref;return ao(e,i),r=pm(t,e,n,r,s,i),n=mm(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pr(t,e,i)):(Ge&&n&&nm(e),e.flags|=1,Gt(t,e,r,i),e.child)}function vv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!xm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,E0(t,e,s,r,i)):(t=ac(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ll,n(o,r)&&t.ref===e.ref)return Pr(t,e,i)}return e.flags|=1,t=pi(s,r),t.ref=e.ref,t.return=e,e.child=t}function E0(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ll(s,r)&&t.ref===e.ref)if(Jt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Jt=!0);else return e.lanes=t.lanes,Pr(t,e,i)}return zf(t,e,n,r,i)}function w0(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(Ys,on),on|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Fe(Ys,on),on|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Fe(Ys,on),on|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Fe(Ys,on),on|=r;return Gt(t,e,i,n),e.child}function T0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zf(t,e,n,r,i){var s=tn(n)?ss:$t.current;return s=yo(e,s),ao(e,i),n=pm(t,e,n,r,s,i),r=mm(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pr(t,e,i)):(Ge&&r&&nm(e),e.flags|=1,Gt(t,e,n,i),e.child)}function _v(t,e,n,r,i){if(tn(n)){var s=!0;kc(e)}else s=!1;if(ao(e,i),e.stateNode===null)ic(t,e),Qw(e,n,r),Ff(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Sn(c):(c=tn(n)?ss:$t.current,c=yo(e,c));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&cv(e,o,r,c),Yr=!1;var m=e.memoizedState;o.state=m,Mc(e,r,o,i),u=e.memoizedState,l!==r||m!==u||en.current||Yr?(typeof d=="function"&&(jf(e,n,d,r),u=e.memoizedState),(l=Yr||uv(e,n,l,r,m,u,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Kw(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:kn(e.type,l),o.props=c,p=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Sn(u):(u=tn(n)?ss:$t.current,u=yo(e,u));var w=n.getDerivedStateFromProps;(d=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||m!==u)&&cv(e,o,r,u),Yr=!1,m=e.memoizedState,o.state=m,Mc(e,r,o,i);var A=e.memoizedState;l!==p||m!==A||en.current||Yr?(typeof w=="function"&&(jf(e,n,w,r),A=e.memoizedState),(c=Yr||uv(e,n,c,r,m,A,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,A,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,A,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=A),o.props=r,o.state=A,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Bf(t,e,n,r,s,i)}function Bf(t,e,n,r,i,s){T0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&iv(e,n,!1),Pr(t,e,s);r=e.stateNode,VA.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=_o(e,t.child,null,s),e.child=_o(e,null,l,s)):Gt(t,e,l,s),e.memoizedState=r.state,i&&iv(e,n,!0),e.child}function I0(t){var e=t.stateNode;e.pendingContext?rv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&rv(t,e.context,!1),cm(t,e.containerInfo)}function Ev(t,e,n,r,i){return vo(),im(i),e.flags|=256,Gt(t,e,n,r),e.child}var $f={dehydrated:null,treeContext:null,retryLane:0};function Hf(t){return{baseLanes:t,cachePool:null,transitions:null}}function S0(t,e,n){var r=e.pendingProps,i=qe.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Fe(qe,i&1),t===null)return Mf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Pd(o,r,0,null),t=ns(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Hf(n),e.memoizedState=$f,t):vm(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return jA(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=pi(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=pi(l,s):(s=ns(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Hf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=$f,r}return s=t.child,t=s.sibling,r=pi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function vm(t,e){return e=Pd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fu(t,e,n,r){return r!==null&&im(r),_o(e,t.child,null,n),t=vm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function jA(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=jh(Error(K(422))),Fu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Pd({mode:"visible",children:r.children},i,0,null),s=ns(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&_o(e,t.child,null,o),e.child.memoizedState=Hf(o),e.memoizedState=$f,s);if(!(e.mode&1))return Fu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(K(419)),r=jh(s,r,void 0),Fu(t,e,o,r)}if(l=(o&t.childLanes)!==0,Jt||l){if(r=St,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Rr(t,i),Fn(r,t,i,-1))}return Sm(),r=jh(Error(K(421))),Fu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=XA.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,an=ci(i.nextSibling),ln=e,Ge=!0,Ln=null,t!==null&&(yn[vn++]=fr,yn[vn++]=pr,yn[vn++]=os,fr=t.id,pr=t.overflow,os=e),e=vm(e,r.children),e.flags|=4096,e)}function wv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Vf(t.return,e,n)}function Fh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function x0(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Gt(t,e,r.children,n),r=qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wv(t,n,e);else if(t.tag===19)wv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Fe(qe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Vc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Fh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Vc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Fh(e,!0,n,null,s);break;case"together":Fh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ic(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Pr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ls|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=pi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=pi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function FA(t,e,n){switch(e.tag){case 3:I0(e),vo();break;case 5:Jw(e);break;case 1:tn(e.type)&&kc(e);break;case 4:cm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Fe(Lc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Fe(qe,qe.current&1),e.flags|=128,null):n&e.child.childLanes?S0(t,e,n):(Fe(qe,qe.current&1),t=Pr(t,e,n),t!==null?t.sibling:null);Fe(qe,qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return x0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fe(qe,qe.current),r)break;return null;case 22:case 23:return e.lanes=0,w0(t,e,n)}return Pr(t,e,n)}var A0,Wf,R0,P0;A0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wf=function(){};R0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Xi(Xn.current);var s=null;switch(n){case"input":i=ff(t,i),r=ff(t,r),s=[];break;case"select":i=Ye({},i,{value:void 0}),r=Ye({},r,{value:void 0}),s=[];break;case"textarea":i=gf(t,i),r=gf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Cc)}vf(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(tl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(tl.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Be("scroll",t),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};P0=function(t,e,n,r){n!==r&&(e.flags|=4)};function _a(t,e){if(!Ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function UA(t,e,n){var r=e.pendingProps;switch(rm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(e),null;case 1:return tn(e.type)&&Nc(),Vt(e),null;case 3:return r=e.stateNode,Eo(),$e(en),$e($t),hm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Vu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ln!==null&&(Zf(Ln),Ln=null))),Wf(t,e),Vt(e),null;case 5:dm(e);var i=Xi(fl.current);if(n=e.type,t!==null&&e.stateNode!=null)R0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(K(166));return Vt(e),null}if(t=Xi(Xn.current),Vu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[qn]=e,r[dl]=s,t=(e.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(i=0;i<Na.length;i++)Be(Na[i],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":Ny(r,s),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Be("invalid",r);break;case"textarea":Dy(r,s),Be("invalid",r)}vf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Mu(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Mu(r.textContent,l,t),i=["children",""+l]):tl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Be("scroll",r)}switch(n){case"input":Pu(r),ky(r,s,!0);break;case"textarea":Pu(r),by(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Cc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=tw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[qn]=e,t[dl]=r,A0(t,e,!1,!1),e.stateNode=t;e:{switch(o=_f(n,r),n){case"dialog":Be("cancel",t),Be("close",t),i=r;break;case"iframe":case"object":case"embed":Be("load",t),i=r;break;case"video":case"audio":for(i=0;i<Na.length;i++)Be(Na[i],t);i=r;break;case"source":Be("error",t),i=r;break;case"img":case"image":case"link":Be("error",t),Be("load",t),i=r;break;case"details":Be("toggle",t),i=r;break;case"input":Ny(t,r),i=ff(t,r),Be("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ye({},r,{value:void 0}),Be("invalid",t);break;case"textarea":Dy(t,r),i=gf(t,r),Be("invalid",t);break;default:i=r}vf(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?iw(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&nw(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&nl(t,u):typeof u=="number"&&nl(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(tl.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Be("scroll",t):u!=null&&Bp(t,s,u,o))}switch(n){case"input":Pu(t),ky(t,r,!1);break;case"textarea":Pu(t),by(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ei(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ro(t,!!r.multiple,s,!1):r.defaultValue!=null&&ro(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Cc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vt(e),null;case 6:if(t&&e.stateNode!=null)P0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(n=Xi(fl.current),Xi(Xn.current),Vu(e)){if(r=e.stateNode,n=e.memoizedProps,r[qn]=e,(s=r.nodeValue!==n)&&(t=ln,t!==null))switch(t.tag){case 3:Mu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Mu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qn]=e,e.stateNode=r}return Vt(e),null;case 13:if($e(qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&an!==null&&e.mode&1&&!(e.flags&128))Ww(),vo(),e.flags|=98560,s=!1;else if(s=Vu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(K(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(K(317));s[qn]=e}else vo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vt(e),s=!1}else Ln!==null&&(Zf(Ln),Ln=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||qe.current&1?_t===0&&(_t=3):Sm())),e.updateQueue!==null&&(e.flags|=4),Vt(e),null);case 4:return Eo(),Wf(t,e),t===null&&ul(e.stateNode.containerInfo),Vt(e),null;case 10:return am(e.type._context),Vt(e),null;case 17:return tn(e.type)&&Nc(),Vt(e),null;case 19:if($e(qe),s=e.memoizedState,s===null)return Vt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)_a(s,!1);else{if(_t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Vc(t),o!==null){for(e.flags|=128,_a(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Fe(qe,qe.current&1|2),e.child}t=t.sibling}s.tail!==null&&st()>To&&(e.flags|=128,r=!0,_a(s,!1),e.lanes=4194304)}else{if(!r)if(t=Vc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),_a(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ge)return Vt(e),null}else 2*st()-s.renderingStartTime>To&&n!==1073741824&&(e.flags|=128,r=!0,_a(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=st(),e.sibling=null,n=qe.current,Fe(qe,r?n&1|2:n&1),e):(Vt(e),null);case 22:case 23:return Im(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?on&1073741824&&(Vt(e),e.subtreeFlags&6&&(e.flags|=8192)):Vt(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function zA(t,e){switch(rm(e),e.tag){case 1:return tn(e.type)&&Nc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Eo(),$e(en),$e($t),hm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return dm(e),null;case 13:if($e(qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));vo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $e(qe),null;case 4:return Eo(),null;case 10:return am(e.type._context),null;case 22:case 23:return Im(),null;case 24:return null;default:return null}}var Uu=!1,Ut=!1,BA=typeof WeakSet=="function"?WeakSet:Set,te=null;function Qs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nt(t,e,r)}else n.current=null}function Gf(t,e,n){try{n()}catch(r){nt(t,e,r)}}var Tv=!1;function $A(t,e){if(Cf=Ac,t=Dw(),tm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,p=t,m=null;t:for(;;){for(var w;p!==n||i!==0&&p.nodeType!==3||(l=o+i),p!==s||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(w=p.firstChild)!==null;)m=p,p=w;for(;;){if(p===t)break t;if(m===n&&++c===i&&(l=o),m===s&&++d===r&&(u=o),(w=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=w}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Nf={focusedElem:t,selectionRange:n},Ac=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var A=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var T=A.memoizedProps,N=A.memoizedState,E=e.stateNode,v=E.getSnapshotBeforeUpdate(e.elementType===e.type?T:kn(e.type,T),N);E.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(b){nt(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return A=Tv,Tv=!1,A}function Ba(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Gf(e,n,s)}i=i.next}while(i!==r)}}function Ad(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Kf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function C0(t){var e=t.alternate;e!==null&&(t.alternate=null,C0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qn],delete e[dl],delete e[bf],delete e[xA],delete e[AA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function N0(t){return t.tag===5||t.tag===3||t.tag===4}function Iv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||N0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Cc));else if(r!==4&&(t=t.child,t!==null))for(qf(t,e,n),t=t.sibling;t!==null;)qf(t,e,n),t=t.sibling}function Qf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Qf(t,e,n),t=t.sibling;t!==null;)Qf(t,e,n),t=t.sibling}var At=null,Dn=!1;function Wr(t,e,n){for(n=n.child;n!==null;)k0(t,e,n),n=n.sibling}function k0(t,e,n){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(vd,n)}catch{}switch(n.tag){case 5:Ut||Qs(n,e);case 6:var r=At,i=Dn;At=null,Wr(t,e,n),At=r,Dn=i,At!==null&&(Dn?(t=At,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):At.removeChild(n.stateNode));break;case 18:At!==null&&(Dn?(t=At,n=n.stateNode,t.nodeType===8?Dh(t.parentNode,n):t.nodeType===1&&Dh(t,n),ol(t)):Dh(At,n.stateNode));break;case 4:r=At,i=Dn,At=n.stateNode.containerInfo,Dn=!0,Wr(t,e,n),At=r,Dn=i;break;case 0:case 11:case 14:case 15:if(!Ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Gf(n,e,o),i=i.next}while(i!==r)}Wr(t,e,n);break;case 1:if(!Ut&&(Qs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){nt(n,e,l)}Wr(t,e,n);break;case 21:Wr(t,e,n);break;case 22:n.mode&1?(Ut=(r=Ut)||n.memoizedState!==null,Wr(t,e,n),Ut=r):Wr(t,e,n);break;default:Wr(t,e,n)}}function Sv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new BA),e.forEach(function(r){var i=JA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Nn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:At=l.stateNode,Dn=!1;break e;case 3:At=l.stateNode.containerInfo,Dn=!0;break e;case 4:At=l.stateNode.containerInfo,Dn=!0;break e}l=l.return}if(At===null)throw Error(K(160));k0(s,o,i),At=null,Dn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){nt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)D0(e,t),e=e.sibling}function D0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nn(e,t),Gn(t),r&4){try{Ba(3,t,t.return),Ad(3,t)}catch(T){nt(t,t.return,T)}try{Ba(5,t,t.return)}catch(T){nt(t,t.return,T)}}break;case 1:Nn(e,t),Gn(t),r&512&&n!==null&&Qs(n,n.return);break;case 5:if(Nn(e,t),Gn(t),r&512&&n!==null&&Qs(n,n.return),t.flags&32){var i=t.stateNode;try{nl(i,"")}catch(T){nt(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&ZE(i,s),_f(l,o);var c=_f(l,s);for(o=0;o<u.length;o+=2){var d=u[o],p=u[o+1];d==="style"?iw(i,p):d==="dangerouslySetInnerHTML"?nw(i,p):d==="children"?nl(i,p):Bp(i,d,p,c)}switch(l){case"input":pf(i,s);break;case"textarea":ew(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?ro(i,!!s.multiple,w,!1):m!==!!s.multiple&&(s.defaultValue!=null?ro(i,!!s.multiple,s.defaultValue,!0):ro(i,!!s.multiple,s.multiple?[]:"",!1))}i[dl]=s}catch(T){nt(t,t.return,T)}}break;case 6:if(Nn(e,t),Gn(t),r&4){if(t.stateNode===null)throw Error(K(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(T){nt(t,t.return,T)}}break;case 3:if(Nn(e,t),Gn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ol(e.containerInfo)}catch(T){nt(t,t.return,T)}break;case 4:Nn(e,t),Gn(t);break;case 13:Nn(e,t),Gn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(wm=st())),r&4&&Sv(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ut=(c=Ut)||d,Nn(e,t),Ut=c):Nn(e,t),Gn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(te=t,d=t.child;d!==null;){for(p=te=d;te!==null;){switch(m=te,w=m.child,m.tag){case 0:case 11:case 14:case 15:Ba(4,m,m.return);break;case 1:Qs(m,m.return);var A=m.stateNode;if(typeof A.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(T){nt(r,n,T)}}break;case 5:Qs(m,m.return);break;case 22:if(m.memoizedState!==null){Av(p);continue}}w!==null?(w.return=m,te=w):Av(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=rw("display",o))}catch(T){nt(t,t.return,T)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(T){nt(t,t.return,T)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Nn(e,t),Gn(t),r&4&&Sv(t);break;case 21:break;default:Nn(e,t),Gn(t)}}function Gn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(N0(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(nl(i,""),r.flags&=-33);var s=Iv(t);Qf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Iv(t);qf(t,l,o);break;default:throw Error(K(161))}}catch(u){nt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function HA(t,e,n){te=t,b0(t)}function b0(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var i=te,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Uu;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Ut;l=Uu;var c=Ut;if(Uu=o,(Ut=u)&&!c)for(te=i;te!==null;)o=te,u=o.child,o.tag===22&&o.memoizedState!==null?Rv(i):u!==null?(u.return=o,te=u):Rv(i);for(;s!==null;)te=s,b0(s),s=s.sibling;te=i,Uu=l,Ut=c}xv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,te=s):xv(t)}}function xv(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ut||Ad(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ut)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:kn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&lv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}lv(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&ol(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Ut||e.flags&512&&Kf(e)}catch(m){nt(e,e.return,m)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function Av(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function Rv(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ad(4,e)}catch(u){nt(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){nt(e,i,u)}}var s=e.return;try{Kf(e)}catch(u){nt(e,s,u)}break;case 5:var o=e.return;try{Kf(e)}catch(u){nt(e,o,u)}}}catch(u){nt(e,e.return,u)}if(e===t){te=null;break}var l=e.sibling;if(l!==null){l.return=e.return,te=l;break}te=e.return}}var WA=Math.ceil,Uc=Or.ReactCurrentDispatcher,_m=Or.ReactCurrentOwner,In=Or.ReactCurrentBatchConfig,Ce=0,St=null,ht=null,Ct=0,on=0,Ys=Ci(0),_t=0,yl=null,ls=0,Rd=0,Em=0,$a=null,Xt=null,wm=0,To=1/0,cr=null,zc=!1,Yf=null,hi=null,zu=!1,ii=null,Bc=0,Ha=0,Xf=null,sc=-1,oc=0;function Kt(){return Ce&6?st():sc!==-1?sc:sc=st()}function fi(t){return t.mode&1?Ce&2&&Ct!==0?Ct&-Ct:PA.transition!==null?(oc===0&&(oc=gw()),oc):(t=Le,t!==0||(t=window.event,t=t===void 0?16:Iw(t.type)),t):1}function Fn(t,e,n,r){if(50<Ha)throw Ha=0,Xf=null,Error(K(185));jl(t,n,r),(!(Ce&2)||t!==St)&&(t===St&&(!(Ce&2)&&(Rd|=n),_t===4&&Jr(t,Ct)),nn(t,r),n===1&&Ce===0&&!(e.mode&1)&&(To=st()+500,Id&&Ni()))}function nn(t,e){var n=t.callbackNode;Px(t,e);var r=xc(t,t===St?Ct:0);if(r===0)n!==null&&My(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&My(n),e===1)t.tag===0?RA(Pv.bind(null,t)):Bw(Pv.bind(null,t)),IA(function(){!(Ce&6)&&Ni()}),n=null;else{switch(yw(r)){case 1:n=Kp;break;case 4:n=pw;break;case 16:n=Sc;break;case 536870912:n=mw;break;default:n=Sc}n=z0(n,L0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function L0(t,e){if(sc=-1,oc=0,Ce&6)throw Error(K(327));var n=t.callbackNode;if(lo()&&t.callbackNode!==n)return null;var r=xc(t,t===St?Ct:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=$c(t,r);else{e=r;var i=Ce;Ce|=2;var s=M0();(St!==t||Ct!==e)&&(cr=null,To=st()+500,ts(t,e));do try{qA();break}catch(l){O0(t,l)}while(!0);om(),Uc.current=s,Ce=i,ht!==null?e=0:(St=null,Ct=0,e=_t)}if(e!==0){if(e===2&&(i=Sf(t),i!==0&&(r=i,e=Jf(t,i))),e===1)throw n=yl,ts(t,0),Jr(t,r),nn(t,st()),n;if(e===6)Jr(t,r);else{if(i=t.current.alternate,!(r&30)&&!GA(i)&&(e=$c(t,r),e===2&&(s=Sf(t),s!==0&&(r=s,e=Jf(t,s))),e===1))throw n=yl,ts(t,0),Jr(t,r),nn(t,st()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(K(345));case 2:Ki(t,Xt,cr);break;case 3:if(Jr(t,r),(r&130023424)===r&&(e=wm+500-st(),10<e)){if(xc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Kt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Df(Ki.bind(null,t,Xt,cr),e);break}Ki(t,Xt,cr);break;case 4:if(Jr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-jn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=st()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*WA(r/1960))-r,10<r){t.timeoutHandle=Df(Ki.bind(null,t,Xt,cr),r);break}Ki(t,Xt,cr);break;case 5:Ki(t,Xt,cr);break;default:throw Error(K(329))}}}return nn(t,st()),t.callbackNode===n?L0.bind(null,t):null}function Jf(t,e){var n=$a;return t.current.memoizedState.isDehydrated&&(ts(t,e).flags|=256),t=$c(t,e),t!==2&&(e=Xt,Xt=n,e!==null&&Zf(e)),t}function Zf(t){Xt===null?Xt=t:Xt.push.apply(Xt,t)}function GA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Un(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Jr(t,e){for(e&=~Em,e&=~Rd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-jn(e),r=1<<n;t[n]=-1,e&=~r}}function Pv(t){if(Ce&6)throw Error(K(327));lo();var e=xc(t,0);if(!(e&1))return nn(t,st()),null;var n=$c(t,e);if(t.tag!==0&&n===2){var r=Sf(t);r!==0&&(e=r,n=Jf(t,r))}if(n===1)throw n=yl,ts(t,0),Jr(t,e),nn(t,st()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ki(t,Xt,cr),nn(t,st()),null}function Tm(t,e){var n=Ce;Ce|=1;try{return t(e)}finally{Ce=n,Ce===0&&(To=st()+500,Id&&Ni())}}function us(t){ii!==null&&ii.tag===0&&!(Ce&6)&&lo();var e=Ce;Ce|=1;var n=In.transition,r=Le;try{if(In.transition=null,Le=1,t)return t()}finally{Le=r,In.transition=n,Ce=e,!(Ce&6)&&Ni()}}function Im(){on=Ys.current,$e(Ys)}function ts(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,TA(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(rm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nc();break;case 3:Eo(),$e(en),$e($t),hm();break;case 5:dm(r);break;case 4:Eo();break;case 13:$e(qe);break;case 19:$e(qe);break;case 10:am(r.type._context);break;case 22:case 23:Im()}n=n.return}if(St=t,ht=t=pi(t.current,null),Ct=on=e,_t=0,yl=null,Em=Rd=ls=0,Xt=$a=null,Yi!==null){for(e=0;e<Yi.length;e++)if(n=Yi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Yi=null}return t}function O0(t,e){do{var n=ht;try{if(om(),nc.current=Fc,jc){for(var r=Qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}jc=!1}if(as=0,It=yt=Qe=null,za=!1,pl=0,_m.current=null,n===null||n.return===null){_t=1,yl=e,ht=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=Ct,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var w=mv(o);if(w!==null){w.flags&=-257,gv(w,o,l,s,e),w.mode&1&&pv(s,c,e),e=w,u=c;var A=e.updateQueue;if(A===null){var T=new Set;T.add(u),e.updateQueue=T}else A.add(u);break e}else{if(!(e&1)){pv(s,c,e),Sm();break e}u=Error(K(426))}}else if(Ge&&l.mode&1){var N=mv(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),gv(N,o,l,s,e),im(wo(u,l));break e}}s=u=wo(u,l),_t!==4&&(_t=2),$a===null?$a=[s]:$a.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=v0(s,u,e);av(s,E);break e;case 1:l=u;var v=s.type,I=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(hi===null||!hi.has(I)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=_0(s,l,e);av(s,b);break e}}s=s.return}while(s!==null)}j0(n)}catch(M){e=M,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(!0)}function M0(){var t=Uc.current;return Uc.current=Fc,t===null?Fc:t}function Sm(){(_t===0||_t===3||_t===2)&&(_t=4),St===null||!(ls&268435455)&&!(Rd&268435455)||Jr(St,Ct)}function $c(t,e){var n=Ce;Ce|=2;var r=M0();(St!==t||Ct!==e)&&(cr=null,ts(t,e));do try{KA();break}catch(i){O0(t,i)}while(!0);if(om(),Ce=n,Uc.current=r,ht!==null)throw Error(K(261));return St=null,Ct=0,_t}function KA(){for(;ht!==null;)V0(ht)}function qA(){for(;ht!==null&&!_x();)V0(ht)}function V0(t){var e=U0(t.alternate,t,on);t.memoizedProps=t.pendingProps,e===null?j0(t):ht=e,_m.current=null}function j0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=zA(n,e),n!==null){n.flags&=32767,ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_t=6,ht=null;return}}else if(n=UA(n,e,on),n!==null){ht=n;return}if(e=e.sibling,e!==null){ht=e;return}ht=e=t}while(e!==null);_t===0&&(_t=5)}function Ki(t,e,n){var r=Le,i=In.transition;try{In.transition=null,Le=1,QA(t,e,n,r)}finally{In.transition=i,Le=r}return null}function QA(t,e,n,r){do lo();while(ii!==null);if(Ce&6)throw Error(K(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Cx(t,s),t===St&&(ht=St=null,Ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zu||(zu=!0,z0(Sc,function(){return lo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=In.transition,In.transition=null;var o=Le;Le=1;var l=Ce;Ce|=4,_m.current=null,$A(t,n),D0(n,t),mA(Nf),Ac=!!Cf,Nf=Cf=null,t.current=n,HA(n),Ex(),Ce=l,Le=o,In.transition=s}else t.current=n;if(zu&&(zu=!1,ii=t,Bc=i),s=t.pendingLanes,s===0&&(hi=null),Ix(n.stateNode),nn(t,st()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(zc)throw zc=!1,t=Yf,Yf=null,t;return Bc&1&&t.tag!==0&&lo(),s=t.pendingLanes,s&1?t===Xf?Ha++:(Ha=0,Xf=t):Ha=0,Ni(),null}function lo(){if(ii!==null){var t=yw(Bc),e=In.transition,n=Le;try{if(In.transition=null,Le=16>t?16:t,ii===null)var r=!1;else{if(t=ii,ii=null,Bc=0,Ce&6)throw Error(K(331));var i=Ce;for(Ce|=4,te=t.current;te!==null;){var s=te,o=s.child;if(te.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(te=c;te!==null;){var d=te;switch(d.tag){case 0:case 11:case 15:Ba(8,d,s)}var p=d.child;if(p!==null)p.return=d,te=p;else for(;te!==null;){d=te;var m=d.sibling,w=d.return;if(C0(d),d===c){te=null;break}if(m!==null){m.return=w,te=m;break}te=w}}}var A=s.alternate;if(A!==null){var T=A.child;if(T!==null){A.child=null;do{var N=T.sibling;T.sibling=null,T=N}while(T!==null)}}te=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,te=o;else e:for(;te!==null;){if(s=te,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ba(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,te=E;break e}te=s.return}}var v=t.current;for(te=v;te!==null;){o=te;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,te=I;else e:for(o=v;te!==null;){if(l=te,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ad(9,l)}}catch(M){nt(l,l.return,M)}if(l===o){te=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,te=b;break e}te=l.return}}if(Ce=i,Ni(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(vd,t)}catch{}r=!0}return r}finally{Le=n,In.transition=e}}return!1}function Cv(t,e,n){e=wo(n,e),e=v0(t,e,1),t=di(t,e,1),e=Kt(),t!==null&&(jl(t,1,e),nn(t,e))}function nt(t,e,n){if(t.tag===3)Cv(t,t,n);else for(;e!==null;){if(e.tag===3){Cv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(hi===null||!hi.has(r))){t=wo(n,t),t=_0(e,t,1),e=di(e,t,1),t=Kt(),e!==null&&(jl(e,1,t),nn(e,t));break}}e=e.return}}function YA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Kt(),t.pingedLanes|=t.suspendedLanes&n,St===t&&(Ct&n)===n&&(_t===4||_t===3&&(Ct&130023424)===Ct&&500>st()-wm?ts(t,0):Em|=n),nn(t,e)}function F0(t,e){e===0&&(t.mode&1?(e=ku,ku<<=1,!(ku&130023424)&&(ku=4194304)):e=1);var n=Kt();t=Rr(t,e),t!==null&&(jl(t,e,n),nn(t,n))}function XA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),F0(t,n)}function JA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(e),F0(t,n)}var U0;U0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||en.current)Jt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Jt=!1,FA(t,e,n);Jt=!!(t.flags&131072)}else Jt=!1,Ge&&e.flags&1048576&&$w(e,bc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ic(t,e),t=e.pendingProps;var i=yo(e,$t.current);ao(e,n),i=pm(null,e,r,t,i,n);var s=mm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,tn(r)?(s=!0,kc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,um(e),i.updater=Sd,e.stateNode=i,i._reactInternals=e,Ff(e,r,t,n),e=Bf(null,e,r,!0,s,n)):(e.tag=0,Ge&&s&&nm(e),Gt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ic(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=eR(r),t=kn(r,t),i){case 0:e=zf(null,e,r,t,n);break e;case 1:e=_v(null,e,r,t,n);break e;case 11:e=yv(null,e,r,t,n);break e;case 14:e=vv(null,e,r,kn(r.type,t),n);break e}throw Error(K(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kn(r,i),zf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kn(r,i),_v(t,e,r,i,n);case 3:e:{if(I0(e),t===null)throw Error(K(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Kw(t,e),Mc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=wo(Error(K(423)),e),e=Ev(t,e,r,n,i);break e}else if(r!==i){i=wo(Error(K(424)),e),e=Ev(t,e,r,n,i);break e}else for(an=ci(e.stateNode.containerInfo.firstChild),ln=e,Ge=!0,Ln=null,n=Xw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vo(),r===i){e=Pr(t,e,n);break e}Gt(t,e,r,n)}e=e.child}return e;case 5:return Jw(e),t===null&&Mf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,kf(r,i)?o=null:s!==null&&kf(r,s)&&(e.flags|=32),T0(t,e),Gt(t,e,o,n),e.child;case 6:return t===null&&Mf(e),null;case 13:return S0(t,e,n);case 4:return cm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=_o(e,null,r,n):Gt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kn(r,i),yv(t,e,r,i,n);case 7:return Gt(t,e,e.pendingProps,n),e.child;case 8:return Gt(t,e,e.pendingProps.children,n),e.child;case 12:return Gt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Fe(Lc,r._currentValue),r._currentValue=o,s!==null)if(Un(s.value,o)){if(s.children===i.children&&!en.current){e=Pr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Er(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Vf(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(K(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Vf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Gt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ao(e,n),i=Sn(i),r=r(i),e.flags|=1,Gt(t,e,r,n),e.child;case 14:return r=e.type,i=kn(r,e.pendingProps),i=kn(r.type,i),vv(t,e,r,i,n);case 15:return E0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kn(r,i),ic(t,e),e.tag=1,tn(r)?(t=!0,kc(e)):t=!1,ao(e,n),Qw(e,r,i),Ff(e,r,i,n),Bf(null,e,r,!0,t,n);case 19:return x0(t,e,n);case 22:return w0(t,e,n)}throw Error(K(156,e.tag))};function z0(t,e){return fw(t,e)}function ZA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,e,n,r){return new ZA(t,e,n,r)}function xm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function eR(t){if(typeof t=="function")return xm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Hp)return 11;if(t===Wp)return 14}return 2}function pi(t,e){var n=t.alternate;return n===null?(n=wn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ac(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")xm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Us:return ns(n.children,i,s,e);case $p:o=8,i|=8;break;case uf:return t=wn(12,n,e,i|2),t.elementType=uf,t.lanes=s,t;case cf:return t=wn(13,n,e,i),t.elementType=cf,t.lanes=s,t;case df:return t=wn(19,n,e,i),t.elementType=df,t.lanes=s,t;case YE:return Pd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qE:o=10;break e;case QE:o=9;break e;case Hp:o=11;break e;case Wp:o=14;break e;case Qr:o=16,r=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=wn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ns(t,e,n,r){return t=wn(7,t,r,e),t.lanes=n,t}function Pd(t,e,n,r){return t=wn(22,t,r,e),t.elementType=YE,t.lanes=n,t.stateNode={isHidden:!1},t}function Uh(t,e,n){return t=wn(6,t,null,e),t.lanes=n,t}function zh(t,e,n){return e=wn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function tR(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wh(0),this.expirationTimes=wh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Am(t,e,n,r,i,s,o,l,u){return t=new tR(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=wn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},um(s),t}function nR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function B0(t){if(!t)return wi;t=t._reactInternals;e:{if(Es(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(tn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(tn(n))return zw(t,n,e)}return e}function $0(t,e,n,r,i,s,o,l,u){return t=Am(n,r,!0,t,i,s,o,l,u),t.context=B0(null),n=t.current,r=Kt(),i=fi(n),s=Er(r,i),s.callback=e??null,di(n,s,i),t.current.lanes=i,jl(t,i,r),nn(t,r),t}function Cd(t,e,n,r){var i=e.current,s=Kt(),o=fi(i);return n=B0(n),e.context===null?e.context=n:e.pendingContext=n,e=Er(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=di(i,e,o),t!==null&&(Fn(t,i,o,s),tc(t,i,o)),o}function Hc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Nv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Rm(t,e){Nv(t,e),(t=t.alternate)&&Nv(t,e)}var H0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Pm(t){this._internalRoot=t}Nd.prototype.render=Pm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));Cd(t,e,null,null)};Nd.prototype.unmount=Pm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;us(function(){Cd(null,t,null,null)}),e[Ar]=null}};function Nd(t){this._internalRoot=t}Nd.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ew();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Xr.length&&e!==0&&e<Xr[n].priority;n++);Xr.splice(n,0,t),n===0&&Tw(t)}};function Cm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function kv(){}function rR(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Hc(o);s.call(c)}}var o=$0(e,r,t,0,null,!1,!1,"",kv);return t._reactRootContainer=o,t[Ar]=o.current,ul(t.nodeType===8?t.parentNode:t),us(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=Hc(u);l.call(c)}}var u=Am(t,0,!1,null,null,!1,!1,"",kv);return t._reactRootContainer=u,t[Ar]=u.current,ul(t.nodeType===8?t.parentNode:t),us(function(){Cd(e,u,n,r)}),u}function Dd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=Hc(o);l.call(u)}}Cd(e,o,t,i)}else o=rR(n,e,t,i,r);return Hc(o)}vw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ca(e.pendingLanes);n!==0&&(qp(e,n|1),nn(e,st()),!(Ce&6)&&(To=st()+500,Ni()))}break;case 13:us(function(){var r=Rr(t,1);if(r!==null){var i=Kt();Fn(r,t,1,i)}}),Rm(t,1)}};Qp=function(t){if(t.tag===13){var e=Rr(t,134217728);if(e!==null){var n=Kt();Fn(e,t,134217728,n)}Rm(t,134217728)}};_w=function(t){if(t.tag===13){var e=fi(t),n=Rr(t,e);if(n!==null){var r=Kt();Fn(n,t,e,r)}Rm(t,e)}};Ew=function(){return Le};ww=function(t,e){var n=Le;try{return Le=t,e()}finally{Le=n}};wf=function(t,e,n){switch(e){case"input":if(pf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Td(r);if(!i)throw Error(K(90));JE(r),pf(r,i)}}}break;case"textarea":ew(t,n);break;case"select":e=n.value,e!=null&&ro(t,!!n.multiple,e,!1)}};aw=Tm;lw=us;var iR={usingClientEntryPoint:!1,Events:[Ul,Hs,Td,sw,ow,Tm]},Ea={findFiberByHostInstance:Qi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},sR={bundleType:Ea.bundleType,version:Ea.version,rendererPackageName:Ea.rendererPackageName,rendererConfig:Ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Or.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=dw(t),t===null?null:t.stateNode},findFiberByHostInstance:Ea.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bu.isDisabled&&Bu.supportsFiber)try{vd=Bu.inject(sR),Yn=Bu}catch{}}hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iR;hn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cm(e))throw Error(K(200));return nR(t,e,null,n)};hn.createRoot=function(t,e){if(!Cm(t))throw Error(K(299));var n=!1,r="",i=H0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Am(t,1,!1,null,null,n,!1,r,i),t[Ar]=e.current,ul(t.nodeType===8?t.parentNode:t),new Pm(e)};hn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=dw(e),t=t===null?null:t.stateNode,t};hn.flushSync=function(t){return us(t)};hn.hydrate=function(t,e,n){if(!kd(e))throw Error(K(200));return Dd(null,t,e,!0,n)};hn.hydrateRoot=function(t,e,n){if(!Cm(t))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=H0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=$0(e,null,t,1,n??null,i,!1,s,o),t[Ar]=e.current,ul(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Nd(e)};hn.render=function(t,e,n){if(!kd(e))throw Error(K(200));return Dd(null,t,e,!1,n)};hn.unmountComponentAtNode=function(t){if(!kd(t))throw Error(K(40));return t._reactRootContainer?(us(function(){Dd(null,null,t,!1,function(){t._reactRootContainer=null,t[Ar]=null})}),!0):!1};hn.unstable_batchedUpdates=Tm;hn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!kd(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return Dd(t,e,n,!1,r)};hn.version="18.2.0-next-9e3b772b8-20220608";function W0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(W0)}catch(t){console.error(t)}}W0(),$E.exports=hn;var Nm=$E.exports;const oR=DE(Nm),aR=kE({__proto__:null,default:oR},[Nm]);var Dv=Nm;af.createRoot=Dv.createRoot,af.hydrateRoot=Dv.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rt(){return rt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rt.apply(this,arguments)}var dt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(dt||(dt={}));const bv="popstate";function lR(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return vl("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:cs(i)}return cR(e,n,null,t)}function Ie(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Io(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uR(){return Math.random().toString(36).substr(2,8)}function Lv(t,e){return{usr:t.state,key:t.key,idx:e}}function vl(t,e,n,r){return n===void 0&&(n=null),rt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ki(e):e,{state:n,key:e&&e.key||r||uR()})}function cs(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ki(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function cR(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=dt.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(rt({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function p(){l=dt.Pop;let N=d(),E=N==null?null:N-c;c=N,u&&u({action:l,location:T.location,delta:E})}function m(N,E){l=dt.Push;let v=vl(T.location,N,E);c=d()+1;let I=Lv(v,c),b=T.createHref(v);try{o.pushState(I,"",b)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(b)}s&&u&&u({action:l,location:T.location,delta:1})}function w(N,E){l=dt.Replace;let v=vl(T.location,N,E);c=d();let I=Lv(v,c),b=T.createHref(v);o.replaceState(I,"",b),s&&u&&u({action:l,location:T.location,delta:0})}function A(N){let E=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof N=="string"?N:cs(N);return v=v.replace(/ $/,"%20"),Ie(E,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,E)}let T={get action(){return l},get location(){return t(i,o)},listen(N){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(bv,p),u=N,()=>{i.removeEventListener(bv,p),u=null}},createHref(N){return e(i,N)},createURL:A,encodeLocation(N){let E=A(N);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:m,replace:w,go(N){return o.go(N)}};return T}var tt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(tt||(tt={}));const dR=new Set(["lazy","caseSensitive","path","id","index","children"]);function hR(t){return t.index===!0}function ep(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],l=typeof i.id=="string"?i.id:o.join("-");if(Ie(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ie(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),hR(i)){let u=rt({},i,e(i),{id:l});return r[l]=u,u}else{let u=rt({},i,e(i),{id:l,children:void 0});return r[l]=u,i.children&&(u.children=ep(i.children,e,o,r)),u}})}function Xs(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ki(e):e,i=jo(r.pathname||"/",n);if(i==null)return null;let s=G0(t);pR(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=AR(i);o=IR(s[l],u)}return o}function fR(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function G0(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Ie(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=wr([r,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(Ie(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),G0(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:wR(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of K0(s.path))i(s,o,u)}),e}function K0(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=K0(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function pR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:TR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const mR=/^:[\w-]+$/,gR=3,yR=2,vR=1,_R=10,ER=-2,Ov=t=>t==="*";function wR(t,e){let n=t.split("/"),r=n.length;return n.some(Ov)&&(r+=ER),e&&(r+=yR),n.filter(i=>!Ov(i)).reduce((i,s)=>i+(mR.test(s)?gR:s===""?vR:_R),r)}function TR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function IR(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",d=SR({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c);if(!d)return null;Object.assign(r,d.params);let p=l.route;s.push({params:r,pathname:wr([i,d.pathname]),pathnameBase:CR(wr([i,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(i=wr([i,d.pathnameBase]))}return s}function SR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=xR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,d,p)=>{let{paramName:m,isOptional:w}=d;if(m==="*"){let T=l[p]||"";o=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const A=l[p];return w&&!A?c[m]=void 0:c[m]=(A||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function xR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Io(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function AR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Io(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function jo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function RR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ki(t):t;return{pathname:n?n.startsWith("/")?n:PR(n,e):e,search:NR(r),hash:kR(i)}}function PR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Bh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function q0(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function km(t,e){let n=q0(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Dm(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ki(t):(i=rt({},t),Ie(!i.pathname||!i.pathname.includes("?"),Bh("?","pathname","search",i)),Ie(!i.pathname||!i.pathname.includes("#"),Bh("#","pathname","hash",i)),Ie(!i.search||!i.search.includes("#"),Bh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}l=p>=0?e[p]:"/"}let u=RR(i,l),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const wr=t=>t.join("/").replace(/\/\/+/g,"/"),CR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),NR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class bm{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Q0(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Y0=["post","put","patch","delete"],DR=new Set(Y0),bR=["get",...Y0],LR=new Set(bR),OR=new Set([301,302,303,307,308]),MR=new Set([307,308]),$h={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},VR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},wa={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},X0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jR=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),J0="remix-router-transitions";function FR(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Ie(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let L=t.detectErrorBoundary;i=V=>({hasErrorBoundary:L(V)})}else i=jR;let s={},o=ep(t.routes,i,void 0,s),l,u=t.basename||"/",c=rt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),d=null,p=new Set,m=null,w=null,A=null,T=t.hydrationData!=null,N=Xs(o,t.history.location,u),E=null;if(N==null){let L=gn(404,{pathname:t.history.location.pathname}),{matches:V,route:B}=$v(o);N=V,E={[B.id]:L}}let v,I=N.some(L=>L.route.lazy),b=N.some(L=>L.route.loader);if(I)v=!1;else if(!b)v=!0;else if(c.v7_partialHydration){let L=t.hydrationData?t.hydrationData.loaderData:null,V=t.hydrationData?t.hydrationData.errors:null,B=Q=>Q.route.loader?Q.route.loader.hydrate===!0?!1:L&&L[Q.route.id]!==void 0||V&&V[Q.route.id]!==void 0:!0;if(V){let Q=N.findIndex(re=>V[re.route.id]!==void 0);v=N.slice(0,Q+1).every(B)}else v=N.every(B)}else v=t.hydrationData!=null;let M,D={historyAction:t.history.action,location:t.history.location,matches:N,initialized:v,navigation:$h,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||E,fetchers:new Map,blockers:new Map},_=dt.Pop,y=!1,S,P=!1,C=new Map,k=null,R=!1,Z=!1,se=[],Te=[],X=new Map,F=0,$=-1,z=new Map,q=new Set,J=new Map,de=new Map,we=new Set,Me=new Map,G=new Map,ye=!1;function ot(){if(d=t.history.listen(L=>{let{action:V,location:B,delta:Q}=L;if(ye){ye=!1;return}Io(G.size===0||Q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let re=fu({currentLocation:D.location,nextLocation:B,historyAction:V});if(re&&Q!=null){ye=!0,t.history.go(Q*-1),Ur(re,{state:"blocked",location:B,proceed(){Ur(re,{state:"proceeding",proceed:void 0,reset:void 0,location:B}),t.history.go(Q)},reset(){let pe=new Map(D.blockers);pe.set(re,wa),at({blockers:pe})}});return}return pt(V,B)}),n){YR(e,C);let L=()=>XR(e,C);e.addEventListener("pagehide",L),k=()=>e.removeEventListener("pagehide",L)}return D.initialized||pt(dt.Pop,D.location,{initialHydration:!0}),M}function he(){d&&d(),k&&k(),p.clear(),S&&S.abort(),D.fetchers.forEach((L,V)=>lt(V)),D.blockers.forEach((L,V)=>Zo(V))}function Ze(L){return p.add(L),()=>p.delete(L)}function at(L,V){V===void 0&&(V={}),D=rt({},D,L);let B=[],Q=[];c.v7_fetcherPersist&&D.fetchers.forEach((re,pe)=>{re.state==="idle"&&(we.has(pe)?Q.push(pe):B.push(pe))}),[...p].forEach(re=>re(D,{deletedFetchers:Q,unstable_viewTransitionOpts:V.viewTransitionOpts,unstable_flushSync:V.flushSync===!0})),c.v7_fetcherPersist&&(B.forEach(re=>D.fetchers.delete(re)),Q.forEach(re=>lt(re)))}function pn(L,V,B){var Q,re;let{flushSync:pe}=B===void 0?{}:B,ue=D.actionData!=null&&D.navigation.formMethod!=null&&bn(D.navigation.formMethod)&&D.navigation.state==="loading"&&((Q=L.state)==null?void 0:Q._isRedirect)!==!0,ne;V.actionData?Object.keys(V.actionData).length>0?ne=V.actionData:ne=null:ue?ne=D.actionData:ne=null;let oe=V.loaderData?Bv(D.loaderData,V.loaderData,V.matches||[],V.errors):D.loaderData,_e=D.blockers;_e.size>0&&(_e=new Map(_e),_e.forEach((Ve,We)=>_e.set(We,wa)));let He=y===!0||D.navigation.formMethod!=null&&bn(D.navigation.formMethod)&&((re=L.state)==null?void 0:re._isRedirect)!==!0;l&&(o=l,l=void 0),R||_===dt.Pop||(_===dt.Push?t.history.push(L,L.state):_===dt.Replace&&t.history.replace(L,L.state));let ve;if(_===dt.Pop){let Ve=C.get(D.location.pathname);Ve&&Ve.has(L.pathname)?ve={currentLocation:D.location,nextLocation:L}:C.has(L.pathname)&&(ve={currentLocation:L,nextLocation:D.location})}else if(P){let Ve=C.get(D.location.pathname);Ve?Ve.add(L.pathname):(Ve=new Set([L.pathname]),C.set(D.location.pathname,Ve)),ve={currentLocation:D.location,nextLocation:L}}at(rt({},V,{actionData:ne,loaderData:oe,historyAction:_,location:L,initialized:!0,navigation:$h,revalidation:"idle",restoreScrollPosition:zr(L,V.matches||D.matches),preventScrollReset:He,blockers:_e}),{viewTransitionOpts:ve,flushSync:pe===!0}),_=dt.Pop,y=!1,P=!1,R=!1,Z=!1,se=[],Te=[]}async function ee(L,V){if(typeof L=="number"){t.history.go(L);return}let B=tp(D.location,D.matches,u,c.v7_prependBasename,L,c.v7_relativeSplatPath,V==null?void 0:V.fromRouteId,V==null?void 0:V.relative),{path:Q,submission:re,error:pe}=Mv(c.v7_normalizeFormMethod,!1,B,V),ue=D.location,ne=vl(D.location,Q,V&&V.state);ne=rt({},ne,t.history.encodeLocation(ne));let oe=V&&V.replace!=null?V.replace:void 0,_e=dt.Push;oe===!0?_e=dt.Replace:oe===!1||re!=null&&bn(re.formMethod)&&re.formAction===D.location.pathname+D.location.search&&(_e=dt.Replace);let He=V&&"preventScrollReset"in V?V.preventScrollReset===!0:void 0,ve=(V&&V.unstable_flushSync)===!0,Ve=fu({currentLocation:ue,nextLocation:ne,historyAction:_e});if(Ve){Ur(Ve,{state:"blocked",location:ne,proceed(){Ur(Ve,{state:"proceeding",proceed:void 0,reset:void 0,location:ne}),ee(L,V)},reset(){let We=new Map(D.blockers);We.set(Ve,wa),at({blockers:We})}});return}return await pt(_e,ne,{submission:re,pendingError:pe,preventScrollReset:He,replace:V&&V.replace,enableViewTransition:V&&V.unstable_viewTransition,flushSync:ve})}function De(){if(ji(),at({revalidation:"loading"}),D.navigation.state!=="submitting"){if(D.navigation.state==="idle"){pt(D.historyAction,D.location,{startUninterruptedRevalidation:!0});return}pt(_||D.historyAction,D.navigation.location,{overrideNavigation:D.navigation})}}async function pt(L,V,B){S&&S.abort(),S=null,_=L,R=(B&&B.startUninterruptedRevalidation)===!0,pu(D.location,D.matches),y=(B&&B.preventScrollReset)===!0,P=(B&&B.enableViewTransition)===!0;let Q=l||o,re=B&&B.overrideNavigation,pe=Xs(Q,V,u),ue=(B&&B.flushSync)===!0;if(!pe){let We=gn(404,{pathname:V.pathname}),{matches:Wt,route:ut}=$v(Q);ea(),pn(V,{matches:Wt,loaderData:{},errors:{[ut.id]:We}},{flushSync:ue});return}if(D.initialized&&!Z&&HR(D.location,V)&&!(B&&B.submission&&bn(B.submission.formMethod))){pn(V,{matches:pe},{flushSync:ue});return}S=new AbortController;let ne=Ia(t.history,V,S.signal,B&&B.submission),oe,_e;if(B&&B.pendingError)_e={[Wa(pe).route.id]:B.pendingError};else if(B&&B.submission&&bn(B.submission.formMethod)){let We=await $n(ne,V,B.submission,pe,{replace:B.replace,flushSync:ue});if(We.shortCircuited)return;oe=We.pendingActionData,_e=We.pendingActionError,re=Hh(V,B.submission),ue=!1,ne=new Request(ne.url,{signal:ne.signal})}let{shortCircuited:He,loaderData:ve,errors:Ve}=await Yo(ne,V,pe,re,B&&B.submission,B&&B.fetcherSubmission,B&&B.replace,B&&B.initialHydration===!0,ue,oe,_e);He||(S=null,pn(V,rt({matches:pe},oe?{actionData:oe}:{},{loaderData:ve,errors:Ve})))}async function $n(L,V,B,Q,re){re===void 0&&(re={}),ji();let pe=qR(V,B);at({navigation:pe},{flushSync:re.flushSync===!0});let ue,ne=rp(Q,V);if(!ne.route.action&&!ne.route.lazy)ue={type:tt.error,error:gn(405,{method:L.method,pathname:V.pathname,routeId:ne.route.id})};else if(ue=await Ta("action",L,ne,Q,s,i,u,c.v7_relativeSplatPath),L.signal.aborted)return{shortCircuited:!0};if(Zi(ue)){let oe;return re&&re.replace!=null?oe=re.replace:oe=ue.location===D.location.pathname+D.location.search,await Vr(D,ue,{submission:B,replace:oe}),{shortCircuited:!0}}if(Js(ue)){let oe=Wa(Q,ne.route.id);return(re&&re.replace)!==!0&&(_=dt.Push),{pendingActionData:{},pendingActionError:{[oe.route.id]:ue.error}}}if(Ji(ue))throw gn(400,{type:"defer-action"});return{pendingActionData:{[ne.route.id]:ue.data}}}async function Yo(L,V,B,Q,re,pe,ue,ne,oe,_e,He){let ve=Q||Hh(V,re),Ve=re||pe||Gv(ve),We=l||o,[Wt,ut]=Vv(t.history,D,B,Ve,V,c.v7_partialHydration&&ne===!0,Z,se,Te,we,J,q,We,u,_e,He);if(ea(Re=>!(B&&B.some(be=>be.route.id===Re))||Wt&&Wt.some(be=>be.route.id===Re)),$=++F,Wt.length===0&&ut.length===0){let Re=du();return pn(V,rt({matches:B,loaderData:{},errors:He||null},_e?{actionData:_e}:{},Re?{fetchers:new Map(D.fetchers)}:{}),{flushSync:oe}),{shortCircuited:!0}}if(!R&&(!c.v7_partialHydration||!ne)){ut.forEach(be=>{let gt=D.fetchers.get(be.key),zi=Sa(void 0,gt?gt.data:void 0);D.fetchers.set(be.key,zi)});let Re=_e||D.actionData;at(rt({navigation:ve},Re?Object.keys(Re).length===0?{actionData:null}:{actionData:Re}:{},ut.length>0?{fetchers:new Map(D.fetchers)}:{}),{flushSync:oe})}ut.forEach(Re=>{X.has(Re.key)&&Rn(Re.key),Re.controller&&X.set(Re.key,Re.controller)});let Pn=()=>ut.forEach(Re=>Rn(Re.key));S&&S.signal.addEventListener("abort",Pn);let{results:Rs,loaderResults:Hn,fetcherResults:rn}=await cu(D.matches,B,Wt,ut,L);if(L.signal.aborted)return{shortCircuited:!0};S&&S.signal.removeEventListener("abort",Pn),ut.forEach(Re=>X.delete(Re.key));let bt=Hv(Rs);if(bt){if(bt.idx>=Wt.length){let Re=ut[bt.idx-Wt.length].key;q.add(Re)}return await Vr(D,bt.result,{replace:ue}),{shortCircuited:!0}}let{loaderData:Ps,errors:Br}=zv(D,B,Wt,Hn,He,ut,rn,Me);Me.forEach((Re,be)=>{Re.subscribe(gt=>{(gt||Re.done)&&Me.delete(be)})}),c.v7_partialHydration&&ne&&D.errors&&Object.entries(D.errors).filter(Re=>{let[be]=Re;return!Wt.some(gt=>gt.route.id===be)}).forEach(Re=>{let[be,gt]=Re;Br=Object.assign(Br||{},{[be]:gt})});let Fi=du(),Wn=Fr($),Ui=Fi||Wn||ut.length>0;return rt({loaderData:Ps,errors:Br},Ui?{fetchers:new Map(D.fetchers)}:{})}function ah(L,V,B,Q){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");X.has(L)&&Rn(L);let re=(Q&&Q.unstable_flushSync)===!0,pe=l||o,ue=tp(D.location,D.matches,u,c.v7_prependBasename,B,c.v7_relativeSplatPath,V,Q==null?void 0:Q.relative),ne=Xs(pe,ue,u);if(!ne){jr(L,V,gn(404,{pathname:ue}),{flushSync:re});return}let{path:oe,submission:_e,error:He}=Mv(c.v7_normalizeFormMethod,!0,ue,Q);if(He){jr(L,V,He,{flushSync:re});return}let ve=rp(ne,oe);if(y=(Q&&Q.preventScrollReset)===!0,_e&&bn(_e.formMethod)){uu(L,V,oe,ve,ne,re,_e);return}J.set(L,{routeId:V,path:oe}),Xo(L,V,oe,ve,ne,re,_e)}async function uu(L,V,B,Q,re,pe,ue){if(ji(),J.delete(L),!Q.route.action&&!Q.route.lazy){let be=gn(405,{method:ue.formMethod,pathname:B,routeId:V});jr(L,V,be,{flushSync:pe});return}let ne=D.fetchers.get(L);mn(L,QR(ue,ne),{flushSync:pe});let oe=new AbortController,_e=Ia(t.history,B,oe.signal,ue);X.set(L,oe);let He=F,ve=await Ta("action",_e,Q,re,s,i,u,c.v7_relativeSplatPath);if(_e.signal.aborted){X.get(L)===oe&&X.delete(L);return}if(c.v7_fetcherPersist&&we.has(L)){if(Zi(ve)||Js(ve)){mn(L,Kr(void 0));return}}else{if(Zi(ve))if(X.delete(L),$>He){mn(L,Kr(void 0));return}else return q.add(L),mn(L,Sa(ue)),Vr(D,ve,{fetcherSubmission:ue});if(Js(ve)){jr(L,V,ve.error);return}}if(Ji(ve))throw gn(400,{type:"defer-action"});let Ve=D.navigation.location||D.location,We=Ia(t.history,Ve,oe.signal),Wt=l||o,ut=D.navigation.state!=="idle"?Xs(Wt,D.navigation.location,u):D.matches;Ie(ut,"Didn't find any matches after fetcher action");let Pn=++F;z.set(L,Pn);let Rs=Sa(ue,ve.data);D.fetchers.set(L,Rs);let[Hn,rn]=Vv(t.history,D,ut,ue,Ve,!1,Z,se,Te,we,J,q,Wt,u,{[Q.route.id]:ve.data},void 0);rn.filter(be=>be.key!==L).forEach(be=>{let gt=be.key,zi=D.fetchers.get(gt),ia=Sa(void 0,zi?zi.data:void 0);D.fetchers.set(gt,ia),X.has(gt)&&Rn(gt),be.controller&&X.set(gt,be.controller)}),at({fetchers:new Map(D.fetchers)});let bt=()=>rn.forEach(be=>Rn(be.key));oe.signal.addEventListener("abort",bt);let{results:Ps,loaderResults:Br,fetcherResults:Fi}=await cu(D.matches,ut,Hn,rn,We);if(oe.signal.aborted)return;oe.signal.removeEventListener("abort",bt),z.delete(L),X.delete(L),rn.forEach(be=>X.delete(be.key));let Wn=Hv(Ps);if(Wn){if(Wn.idx>=Hn.length){let be=rn[Wn.idx-Hn.length].key;q.add(be)}return Vr(D,Wn.result)}let{loaderData:Ui,errors:Re}=zv(D,D.matches,Hn,Br,void 0,rn,Fi,Me);if(D.fetchers.has(L)){let be=Kr(ve.data);D.fetchers.set(L,be)}Fr(Pn),D.navigation.state==="loading"&&Pn>$?(Ie(_,"Expected pending action"),S&&S.abort(),pn(D.navigation.location,{matches:ut,loaderData:Ui,errors:Re,fetchers:new Map(D.fetchers)})):(at({errors:Re,loaderData:Bv(D.loaderData,Ui,ut,Re),fetchers:new Map(D.fetchers)}),Z=!1)}async function Xo(L,V,B,Q,re,pe,ue){let ne=D.fetchers.get(L);mn(L,Sa(ue,ne?ne.data:void 0),{flushSync:pe});let oe=new AbortController,_e=Ia(t.history,B,oe.signal);X.set(L,oe);let He=F,ve=await Ta("loader",_e,Q,re,s,i,u,c.v7_relativeSplatPath);if(Ji(ve)&&(ve=await tT(ve,_e.signal,!0)||ve),X.get(L)===oe&&X.delete(L),!_e.signal.aborted){if(we.has(L)){mn(L,Kr(void 0));return}if(Zi(ve))if($>He){mn(L,Kr(void 0));return}else{q.add(L),await Vr(D,ve);return}if(Js(ve)){jr(L,V,ve.error);return}Ie(!Ji(ve),"Unhandled fetcher deferred data"),mn(L,Kr(ve.data))}}async function Vr(L,V,B){let{submission:Q,fetcherSubmission:re,replace:pe}=B===void 0?{}:B;V.revalidate&&(Z=!0);let ue=vl(L.location,V.location,{_isRedirect:!0});if(Ie(ue,"Expected a location on the redirect navigation"),n){let Ve=!1;if(V.reloadDocument)Ve=!0;else if(X0.test(V.location)){const We=t.history.createURL(V.location);Ve=We.origin!==e.location.origin||jo(We.pathname,u)==null}if(Ve){pe?e.location.replace(V.location):e.location.assign(V.location);return}}S=null;let ne=pe===!0?dt.Replace:dt.Push,{formMethod:oe,formAction:_e,formEncType:He}=L.navigation;!Q&&!re&&oe&&_e&&He&&(Q=Gv(L.navigation));let ve=Q||re;if(MR.has(V.status)&&ve&&bn(ve.formMethod))await pt(ne,ue,{submission:rt({},ve,{formAction:V.location}),preventScrollReset:y});else{let Ve=Hh(ue,Q);await pt(ne,ue,{overrideNavigation:Ve,fetcherSubmission:re,preventScrollReset:y})}}async function cu(L,V,B,Q,re){let pe=await Promise.all([...B.map(oe=>Ta("loader",re,oe,V,s,i,u,c.v7_relativeSplatPath)),...Q.map(oe=>oe.matches&&oe.match&&oe.controller?Ta("loader",Ia(t.history,oe.path,oe.controller.signal),oe.match,oe.matches,s,i,u,c.v7_relativeSplatPath):{type:tt.error,error:gn(404,{pathname:oe.path})})]),ue=pe.slice(0,B.length),ne=pe.slice(B.length);return await Promise.all([Wv(L,B,ue,ue.map(()=>re.signal),!1,D.loaderData),Wv(L,Q.map(oe=>oe.match),ne,Q.map(oe=>oe.controller?oe.controller.signal:null),!0)]),{results:pe,loaderResults:ue,fetcherResults:ne}}function ji(){Z=!0,se.push(...ea()),J.forEach((L,V)=>{X.has(V)&&(Te.push(V),Rn(V))})}function mn(L,V,B){B===void 0&&(B={}),D.fetchers.set(L,V),at({fetchers:new Map(D.fetchers)},{flushSync:(B&&B.flushSync)===!0})}function jr(L,V,B,Q){Q===void 0&&(Q={});let re=Wa(D.matches,V);lt(L),at({errors:{[re.route.id]:B},fetchers:new Map(D.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function mt(L){return c.v7_fetcherPersist&&(de.set(L,(de.get(L)||0)+1),we.has(L)&&we.delete(L)),D.fetchers.get(L)||VR}function lt(L){let V=D.fetchers.get(L);X.has(L)&&!(V&&V.state==="loading"&&z.has(L))&&Rn(L),J.delete(L),z.delete(L),q.delete(L),we.delete(L),D.fetchers.delete(L)}function As(L){if(c.v7_fetcherPersist){let V=(de.get(L)||0)-1;V<=0?(de.delete(L),we.add(L)):de.set(L,V)}else lt(L);at({fetchers:new Map(D.fetchers)})}function Rn(L){let V=X.get(L);Ie(V,"Expected fetch controller: "+L),V.abort(),X.delete(L)}function Jo(L){for(let V of L){let B=mt(V),Q=Kr(B.data);D.fetchers.set(V,Q)}}function du(){let L=[],V=!1;for(let B of q){let Q=D.fetchers.get(B);Ie(Q,"Expected fetcher: "+B),Q.state==="loading"&&(q.delete(B),L.push(B),V=!0)}return Jo(L),V}function Fr(L){let V=[];for(let[B,Q]of z)if(Q<L){let re=D.fetchers.get(B);Ie(re,"Expected fetcher: "+B),re.state==="loading"&&(Rn(B),z.delete(B),V.push(B))}return Jo(V),V.length>0}function hu(L,V){let B=D.blockers.get(L)||wa;return G.get(L)!==V&&G.set(L,V),B}function Zo(L){D.blockers.delete(L),G.delete(L)}function Ur(L,V){let B=D.blockers.get(L)||wa;Ie(B.state==="unblocked"&&V.state==="blocked"||B.state==="blocked"&&V.state==="blocked"||B.state==="blocked"&&V.state==="proceeding"||B.state==="blocked"&&V.state==="unblocked"||B.state==="proceeding"&&V.state==="unblocked","Invalid blocker state transition: "+B.state+" -> "+V.state);let Q=new Map(D.blockers);Q.set(L,V),at({blockers:Q})}function fu(L){let{currentLocation:V,nextLocation:B,historyAction:Q}=L;if(G.size===0)return;G.size>1&&Io(!1,"A router only supports one blocker at a time");let re=Array.from(G.entries()),[pe,ue]=re[re.length-1],ne=D.blockers.get(pe);if(!(ne&&ne.state==="proceeding")&&ue({currentLocation:V,nextLocation:B,historyAction:Q}))return pe}function ea(L){let V=[];return Me.forEach((B,Q)=>{(!L||L(Q))&&(B.cancel(),V.push(Q),Me.delete(Q))}),V}function ta(L,V,B){if(m=L,A=V,w=B||null,!T&&D.navigation===$h){T=!0;let Q=zr(D.location,D.matches);Q!=null&&at({restoreScrollPosition:Q})}return()=>{m=null,A=null,w=null}}function na(L,V){return w&&w(L,V.map(Q=>fR(Q,D.loaderData)))||L.key}function pu(L,V){if(m&&A){let B=na(L,V);m[B]=A()}}function zr(L,V){if(m){let B=na(L,V),Q=m[B];if(typeof Q=="number")return Q}return null}function ra(L){s={},l=ep(L,i,void 0,s)}return M={get basename(){return u},get future(){return c},get state(){return D},get routes(){return o},get window(){return e},initialize:ot,subscribe:Ze,enableScrollRestoration:ta,navigate:ee,fetch:ah,revalidate:De,createHref:L=>t.history.createHref(L),encodeLocation:L=>t.history.encodeLocation(L),getFetcher:mt,deleteFetcher:As,dispose:he,getBlocker:hu,deleteBlocker:Zo,_internalFetchControllers:X,_internalActiveDeferreds:Me,_internalSetRoutes:ra},M}function UR(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function tp(t,e,n,r,i,s,o,l){let u,c;if(o){u=[];for(let p of e)if(u.push(p),p.route.id===o){c=p;break}}else u=e,c=e[e.length-1];let d=Dm(i||".",km(u,s),jo(t.pathname,n)||t.pathname,l==="path");return i==null&&(d.search=t.search,d.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!Lm(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:wr([n,d.pathname])),cs(d)}function Mv(t,e,n,r){if(!r||!UR(r))return{path:n};if(r.formMethod&&!KR(r.formMethod))return{path:n,error:gn(405,{method:r.formMethod})};let i=()=>({path:n,error:gn(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),l=eT(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!bn(o))return i();let m=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((w,A)=>{let[T,N]=A;return""+w+T+"="+N+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:m}}}else if(r.formEncType==="application/json"){if(!bn(o))return i();try{let m=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:m,text:void 0}}}catch{return i()}}}Ie(typeof FormData=="function","FormData is not available in this environment");let u,c;if(r.formData)u=np(r.formData),c=r.formData;else if(r.body instanceof FormData)u=np(r.body),c=r.body;else if(r.body instanceof URLSearchParams)u=r.body,c=Uv(u);else if(r.body==null)u=new URLSearchParams,c=new FormData;else try{u=new URLSearchParams(r.body),c=Uv(u)}catch{return i()}let d={formMethod:o,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(bn(d.formMethod))return{path:n,submission:d};let p=ki(n);return e&&p.search&&Lm(p.search)&&u.append("index",""),p.search="?"+u,{path:cs(p),submission:d}}function zR(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function Vv(t,e,n,r,i,s,o,l,u,c,d,p,m,w,A,T){let N=T?Object.values(T)[0]:A?Object.values(A)[0]:void 0,E=t.createURL(e.location),v=t.createURL(i),I=T?Object.keys(T)[0]:void 0,M=zR(n,I).filter((_,y)=>{let{route:S}=_;if(S.lazy)return!0;if(S.loader==null)return!1;if(s)return S.loader.hydrate?!0:e.loaderData[S.id]===void 0&&(!e.errors||e.errors[S.id]===void 0);if(BR(e.loaderData,e.matches[y],_)||l.some(k=>k===_.route.id))return!0;let P=e.matches[y],C=_;return jv(_,rt({currentUrl:E,currentParams:P.params,nextUrl:v,nextParams:C.params},r,{actionResult:N,defaultShouldRevalidate:o||E.pathname+E.search===v.pathname+v.search||E.search!==v.search||Z0(P,C)}))}),D=[];return d.forEach((_,y)=>{if(s||!n.some(R=>R.route.id===_.routeId)||c.has(y))return;let S=Xs(m,_.path,w);if(!S){D.push({key:y,routeId:_.routeId,path:_.path,matches:null,match:null,controller:null});return}let P=e.fetchers.get(y),C=rp(S,_.path),k=!1;p.has(y)?k=!1:u.includes(y)?k=!0:P&&P.state!=="idle"&&P.data===void 0?k=o:k=jv(C,rt({currentUrl:E,currentParams:e.matches[e.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},r,{actionResult:N,defaultShouldRevalidate:o})),k&&D.push({key:y,routeId:_.routeId,path:_.path,matches:S,match:C,controller:new AbortController})}),[M,D]}function BR(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function Z0(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function jv(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function Fv(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Ie(i,"No route found in manifest");let s={};for(let o in r){let u=i[o]!==void 0&&o!=="hasErrorBoundary";Io(!u,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!u&&!dR.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,rt({},e(i),{lazy:void 0}))}async function Ta(t,e,n,r,i,s,o,l,u){u===void 0&&(u={});let c,d,p,m=T=>{let N,E=new Promise((v,I)=>N=I);return p=()=>N(),e.signal.addEventListener("abort",p),Promise.race([T({request:e,params:n.params,context:u.requestContext}),E])};try{let T=n.route[t];if(n.route.lazy)if(T){let N,E=await Promise.all([m(T).catch(v=>{N=v}),Fv(n.route,s,i)]);if(N)throw N;d=E[0]}else if(await Fv(n.route,s,i),T=n.route[t],T)d=await m(T);else if(t==="action"){let N=new URL(e.url),E=N.pathname+N.search;throw gn(405,{method:e.method,pathname:E,routeId:n.route.id})}else return{type:tt.data,data:void 0};else if(T)d=await m(T);else{let N=new URL(e.url),E=N.pathname+N.search;throw gn(404,{pathname:E})}Ie(d!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(T){c=tt.error,d=T}finally{p&&e.signal.removeEventListener("abort",p)}if(GR(d)){let T=d.status;if(OR.has(T)){let E=d.headers.get("Location");if(Ie(E,"Redirects returned/thrown from loaders/actions must have a Location header"),!X0.test(E))E=tp(new URL(e.url),r.slice(0,r.indexOf(n)+1),o,!0,E,l);else if(!u.isStaticRequest){let v=new URL(e.url),I=E.startsWith("//")?new URL(v.protocol+E):new URL(E),b=jo(I.pathname,o)!=null;I.origin===v.origin&&b&&(E=I.pathname+I.search+I.hash)}if(u.isStaticRequest)throw d.headers.set("Location",E),d;return{type:tt.redirect,status:T,location:E,revalidate:d.headers.get("X-Remix-Revalidate")!==null,reloadDocument:d.headers.get("X-Remix-Reload-Document")!==null}}if(u.isRouteRequest)throw{type:c===tt.error?tt.error:tt.data,response:d};let N;try{let E=d.headers.get("Content-Type");E&&/\bapplication\/json\b/.test(E)?d.body==null?N=null:N=await d.json():N=await d.text()}catch(E){return{type:tt.error,error:E}}return c===tt.error?{type:c,error:new bm(T,d.statusText,N),headers:d.headers}:{type:tt.data,data:N,statusCode:d.status,headers:d.headers}}if(c===tt.error)return{type:c,error:d};if(WR(d)){var w,A;return{type:tt.deferred,deferredData:d,statusCode:(w=d.init)==null?void 0:w.status,headers:((A=d.init)==null?void 0:A.headers)&&new Headers(d.init.headers)}}return{type:tt.data,data:d}}function Ia(t,e,n,r){let i=t.createURL(eT(e)).toString(),s={signal:n};if(r&&bn(r.formMethod)){let{formMethod:o,formEncType:l}=r;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=np(r.formData):s.body=r.formData}return new Request(i,s)}function np(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Uv(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function $R(t,e,n,r,i){let s={},o=null,l,u=!1,c={};return n.forEach((d,p)=>{let m=e[p].route.id;if(Ie(!Zi(d),"Cannot handle redirect results in processLoaderData"),Js(d)){let w=Wa(t,m),A=d.error;r&&(A=Object.values(r)[0],r=void 0),o=o||{},o[w.route.id]==null&&(o[w.route.id]=A),s[m]=void 0,u||(u=!0,l=Q0(d.error)?d.error.status:500),d.headers&&(c[m]=d.headers)}else Ji(d)?(i.set(m,d.deferredData),s[m]=d.deferredData.data):s[m]=d.data,d.statusCode!=null&&d.statusCode!==200&&!u&&(l=d.statusCode),d.headers&&(c[m]=d.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:l||200,loaderHeaders:c}}function zv(t,e,n,r,i,s,o,l){let{loaderData:u,errors:c}=$R(e,n,r,i,l);for(let d=0;d<s.length;d++){let{key:p,match:m,controller:w}=s[d];Ie(o!==void 0&&o[d]!==void 0,"Did not find corresponding fetcher result");let A=o[d];if(!(w&&w.signal.aborted))if(Js(A)){let T=Wa(t.matches,m==null?void 0:m.route.id);c&&c[T.route.id]||(c=rt({},c,{[T.route.id]:A.error})),t.fetchers.delete(p)}else if(Zi(A))Ie(!1,"Unhandled fetcher revalidation redirect");else if(Ji(A))Ie(!1,"Unhandled fetcher deferred data");else{let T=Kr(A.data);t.fetchers.set(p,T)}}return{loaderData:u,errors:c}}function Bv(t,e,n,r){let i=rt({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Wa(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function $v(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function gn(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(o="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",l='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new bm(t||500,o,new Error(l),!0)}function Hv(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Zi(n))return{result:n,idx:e}}}function eT(t){let e=typeof t=="string"?ki(t):t;return cs(rt({},e,{hash:""}))}function HR(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Ji(t){return t.type===tt.deferred}function Js(t){return t.type===tt.error}function Zi(t){return(t&&t.type)===tt.redirect}function WR(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function GR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function KR(t){return LR.has(t.toLowerCase())}function bn(t){return DR.has(t.toLowerCase())}async function Wv(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let l=n[o],u=e[o];if(!u)continue;let c=t.find(p=>p.route.id===u.route.id),d=c!=null&&!Z0(c,u)&&(s&&s[u.route.id])!==void 0;if(Ji(l)&&(i||d)){let p=r[o];Ie(p,"Expected an AbortSignal for revalidating fetcher deferred result"),await tT(l,p,i).then(m=>{m&&(n[o]=m||n[o])})}}}async function tT(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:tt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:tt.error,error:i}}return{type:tt.data,data:t.deferredData.data}}}function Lm(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function rp(t,e){let n=typeof e=="string"?ki(e).search:e.search;if(t[t.length-1].route.index&&Lm(n||""))return t[t.length-1];let r=q0(t);return r[r.length-1]}function Gv(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Hh(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function qR(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Sa(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function QR(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Kr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function YR(t,e){try{let n=t.sessionStorage.getItem(J0);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function XR(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(J0,JSON.stringify(n))}catch(r){Io(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wc(){return Wc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wc.apply(this,arguments)}const bd=j.createContext(null),nT=j.createContext(null),ws=j.createContext(null),Om=j.createContext(null),Di=j.createContext({outlet:null,matches:[],isDataRoute:!1}),rT=j.createContext(null);function JR(t,e){let{relative:n}=e===void 0?{}:e;Bl()||Ie(!1);let{basename:r,navigator:i}=j.useContext(ws),{hash:s,pathname:o,search:l}=sT(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:wr([r,o])),i.createHref({pathname:u,search:l,hash:s})}function Bl(){return j.useContext(Om)!=null}function Ld(){return Bl()||Ie(!1),j.useContext(Om).location}function iT(t){j.useContext(ws).static||j.useLayoutEffect(t)}function Fo(){let{isDataRoute:t}=j.useContext(Di);return t?dP():ZR()}function ZR(){Bl()||Ie(!1);let t=j.useContext(bd),{basename:e,future:n,navigator:r}=j.useContext(ws),{matches:i}=j.useContext(Di),{pathname:s}=Ld(),o=JSON.stringify(km(i,n.v7_relativeSplatPath)),l=j.useRef(!1);return iT(()=>{l.current=!0}),j.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let p=Dm(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:wr([e,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[e,r,o,s,t])}function eP(){let{matches:t}=j.useContext(Di),e=t[t.length-1];return e?e.params:{}}function sT(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=j.useContext(ws),{matches:i}=j.useContext(Di),{pathname:s}=Ld(),o=JSON.stringify(km(i,r.v7_relativeSplatPath));return j.useMemo(()=>Dm(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function tP(t,e,n,r){Bl()||Ie(!1);let{navigator:i}=j.useContext(ws),{matches:s}=j.useContext(Di),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Ld(),d;d=c;let p=d.pathname||"/",m=p;if(u!=="/"){let T=u.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(T.length).join("/")}let w=Xs(t,{pathname:m});return oP(w&&w.map(T=>Object.assign({},T,{params:Object.assign({},l,T.params),pathname:wr([u,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?u:wr([u,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),s,n,r)}function nP(){let t=cP(),e=Q0(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:i},n):null,null)}const rP=j.createElement(nP,null);class iP extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?j.createElement(Di.Provider,{value:this.props.routeContext},j.createElement(rT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sP(t){let{routeContext:e,match:n,children:r}=t,i=j.useContext(bd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(Di.Provider,{value:e},r)}function oP(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id]));d>=0||Ie(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=d),p.route.id){let{loaderData:m,errors:w}=n,A=p.route.loader&&m[p.route.id]===void 0&&(!w||w[p.route.id]===void 0);if(p.route.lazy||A){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,p,m)=>{let w,A=!1,T=null,N=null;n&&(w=l&&p.route.id?l[p.route.id]:void 0,T=p.route.errorElement||rP,u&&(c<0&&m===0?(hP("route-fallback"),A=!0,N=null):c===m&&(A=!0,N=p.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,m+1)),v=()=>{let I;return w?I=T:A?I=N:p.route.Component?I=j.createElement(p.route.Component,null):p.route.element?I=p.route.element:I=d,j.createElement(sP,{match:p,routeContext:{outlet:d,matches:E,isDataRoute:n!=null},children:I})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?j.createElement(iP,{location:n.location,revalidation:n.revalidation,component:T,error:w,children:v(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):v()},null)}var oT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(oT||{}),Gc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Gc||{});function aP(t){let e=j.useContext(bd);return e||Ie(!1),e}function lP(t){let e=j.useContext(nT);return e||Ie(!1),e}function uP(t){let e=j.useContext(Di);return e||Ie(!1),e}function aT(t){let e=uP(),n=e.matches[e.matches.length-1];return n.route.id||Ie(!1),n.route.id}function cP(){var t;let e=j.useContext(rT),n=lP(Gc.UseRouteError),r=aT(Gc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function dP(){let{router:t}=aP(oT.UseNavigateStable),e=aT(Gc.UseNavigateStable),n=j.useRef(!1);return iT(()=>{n.current=!0}),j.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Wc({fromRouteId:e},s)))},[t,e])}const Kv={};function hP(t,e,n){Kv[t]||(Kv[t]=!0)}function fP(t){let{basename:e="/",children:n=null,location:r,navigationType:i=dt.Pop,navigator:s,static:o=!1,future:l}=t;Bl()&&Ie(!1);let u=e.replace(/^\/*/,"/"),c=j.useMemo(()=>({basename:u,navigator:s,static:o,future:Wc({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof r=="string"&&(r=ki(r));let{pathname:d="/",search:p="",hash:m="",state:w=null,key:A="default"}=r,T=j.useMemo(()=>{let N=jo(d,u);return N==null?null:{location:{pathname:N,search:p,hash:m,state:w,key:A},navigationType:i}},[u,d,p,m,w,A,i]);return T==null?null:j.createElement(ws.Provider,{value:c},j.createElement(Om.Provider,{children:n,value:T}))}new Promise(()=>{});function pP(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:j.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:j.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:j.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _l(){return _l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_l.apply(this,arguments)}function mP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function gP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function yP(t,e){return t.button===0&&(!e||e==="_self")&&!gP(t)}const vP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],_P="6";try{window.__reactRouterVersion=_P}catch{}function EP(t,e){return FR({basename:void 0,future:_l({},void 0,{v7_prependBasename:!0}),history:lR({window:void 0}),hydrationData:wP(),routes:t,mapRouteProperties:pP,window:void 0}).initialize()}function wP(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=_l({},e,{errors:TP(e.errors)})),e}function TP(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new bm(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const IP=j.createContext({isTransitioning:!1}),SP=j.createContext(new Map),xP="startTransition",qv=XS[xP],AP="flushSync",Qv=aR[AP];function RP(t){qv?qv(t):t()}function xa(t){Qv?Qv(t):t()}let PP=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function CP(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=j.useState(n.state),[o,l]=j.useState(),[u,c]=j.useState({isTransitioning:!1}),[d,p]=j.useState(),[m,w]=j.useState(),[A,T]=j.useState(),N=j.useRef(new Map),{v7_startTransition:E}=r||{},v=j.useCallback(_=>{E?RP(_):_()},[E]),I=j.useCallback((_,y)=>{let{deletedFetchers:S,unstable_flushSync:P,unstable_viewTransitionOpts:C}=y;S.forEach(R=>N.current.delete(R)),_.fetchers.forEach((R,Z)=>{R.data!==void 0&&N.current.set(Z,R.data)});let k=n.window==null||typeof n.window.document.startViewTransition!="function";if(!C||k){P?xa(()=>s(_)):v(()=>s(_));return}if(P){xa(()=>{m&&(d&&d.resolve(),m.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:C.currentLocation,nextLocation:C.nextLocation})});let R=n.window.document.startViewTransition(()=>{xa(()=>s(_))});R.finished.finally(()=>{xa(()=>{p(void 0),w(void 0),l(void 0),c({isTransitioning:!1})})}),xa(()=>w(R));return}m?(d&&d.resolve(),m.skipTransition(),T({state:_,currentLocation:C.currentLocation,nextLocation:C.nextLocation})):(l(_),c({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}))},[n.window,m,d,N,v]);j.useLayoutEffect(()=>n.subscribe(I),[n,I]),j.useEffect(()=>{u.isTransitioning&&!u.flushSync&&p(new PP)},[u]),j.useEffect(()=>{if(d&&o&&n.window){let _=o,y=d.promise,S=n.window.document.startViewTransition(async()=>{v(()=>s(_)),await y});S.finished.finally(()=>{p(void 0),w(void 0),l(void 0),c({isTransitioning:!1})}),w(S)}},[v,o,d,n.window]),j.useEffect(()=>{d&&o&&i.location.key===o.location.key&&d.resolve()},[d,m,i.location,o]),j.useEffect(()=>{!u.isTransitioning&&A&&(l(A.state),c({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}),T(void 0))},[u.isTransitioning,A]),j.useEffect(()=>{},[]);let b=j.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:_=>n.navigate(_),push:(_,y,S)=>n.navigate(_,{state:y,preventScrollReset:S==null?void 0:S.preventScrollReset}),replace:(_,y,S)=>n.navigate(_,{replace:!0,state:y,preventScrollReset:S==null?void 0:S.preventScrollReset})}),[n]),M=n.basename||"/",D=j.useMemo(()=>({router:n,navigator:b,static:!1,basename:M}),[n,b,M]);return j.createElement(j.Fragment,null,j.createElement(bd.Provider,{value:D},j.createElement(nT.Provider,{value:i},j.createElement(SP.Provider,{value:N.current},j.createElement(IP.Provider,{value:u},j.createElement(fP,{basename:M,location:i.location,navigationType:i.historyAction,navigator:b,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?j.createElement(NP,{routes:n.routes,future:n.future,state:i}):e))))),null)}function NP(t){let{routes:e,future:n,state:r}=t;return tP(e,void 0,r,n)}const kP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Et=j.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:u,to:c,preventScrollReset:d,unstable_viewTransition:p}=e,m=mP(e,vP),{basename:w}=j.useContext(ws),A,T=!1;if(typeof c=="string"&&DP.test(c)&&(A=c,kP))try{let I=new URL(window.location.href),b=c.startsWith("//")?new URL(I.protocol+c):new URL(c),M=jo(b.pathname,w);b.origin===I.origin&&M!=null?c=M+b.search+b.hash:T=!0}catch{}let N=JR(c,{relative:i}),E=bP(c,{replace:o,state:l,target:u,preventScrollReset:d,relative:i,unstable_viewTransition:p});function v(I){r&&r(I),I.defaultPrevented||E(I)}return j.createElement("a",_l({},m,{href:A||N,onClick:T||s?r:v,ref:n,target:u}))});var Yv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Yv||(Yv={}));var Xv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Xv||(Xv={}));function bP(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,u=Fo(),c=Ld(),d=sT(t,{relative:o});return j.useCallback(p=>{if(yP(p,n)){p.preventDefault();let m=r!==void 0?r:cs(c)===cs(d);u(t,{replace:m,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l})}},[c,u,d,r,i,n,t,s,o,l])}const lT="/assets/anime-BFP84sUM.jpg",LP=()=>g.jsxs("div",{className:"flex items-center justify-center h-screen bg-black",children:[g.jsx("img",{src:lT,alt:"",className:"w-[1520px] h-full object-cover opacity-30 relative"}),g.jsxs("div",{className:"text-white text-center absolute",children:[g.jsx("div",{className:"w-20 h-20 border-t-4 border-gray-300 rounded-full animate-spin mx-auto mb-4"}),g.jsx("p",{className:"text-gray-300 font-semibold text-xl",children:"Loading..."})]})]});var uT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Jv=Bt.createContext&&Bt.createContext(uT),OP=["attr","size","title"];function MP(t,e){if(t==null)return{};var n=VP(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Kc(){return Kc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kc.apply(this,arguments)}function Zv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zv(Object(n),!0).forEach(function(r){jP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jP(t,e,n){return e=FP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FP(t){var e=UP(t,"string");return typeof e=="symbol"?e:String(e)}function UP(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cT(t){return t&&t.map((e,n)=>Bt.createElement(e.tag,qc({key:n},e.attr),cT(e.child)))}function or(t){return e=>Bt.createElement(zP,Kc({attr:qc({},t.attr)},e),cT(t.child))}function zP(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=MP(t,OP),l=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),Bt.createElement("svg",Kc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:u,style:qc(qc({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&Bt.createElement("title",null,s),t.children)};return Jv!==void 0?Bt.createElement(Jv.Consumer,null,n=>e(n)):e(uT)}function bs(t){return or({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"},child:[]}]})(t)}var e_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},BP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},hT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=s>>2,p=(s&3)<<4|l>>4;let m=(l&15)<<2|c>>6,w=c&63;u||(w=64,o||(m=64)),r.push(n[d],n[p],n[m],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):BP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||p==null)throw new $P;const m=s<<2|l>>4;if(r.push(m),c!==64){const w=l<<4&240|c>>2;if(r.push(w),p!==64){const A=c<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $P extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HP=function(t){const e=dT(t);return hT.encodeByteArray(e,!0)},Qc=function(t){return HP(t).replace(/\./g,"")},fT=function(t){try{return hT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP=()=>WP().__FIREBASE_DEFAULTS__,KP=()=>{if(typeof process>"u"||typeof e_>"u")return;const t=e_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fT(t[1]);return e&&JSON.parse(e)},Od=()=>{try{return GP()||KP()||qP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pT=t=>{var e,n;return(n=(e=Od())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},QP=t=>{const e=pT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},mT=()=>{var t;return(t=Od())===null||t===void 0?void 0:t.config},gT=t=>{var e;return(e=Od())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Qc(JSON.stringify(n)),Qc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ht())}function ZP(){var t;const e=(t=Od())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rC(){const t=Ht();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function iC(){return!ZP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sC(){try{return typeof indexedDB=="object"}catch{return!1}}function oC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="FirebaseError";class Mr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=aC,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$l.prototype.create)}}class $l{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?lC(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Mr(i,l,r)}}function lC(t,e){return t.replace(uC,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const uC=/\{\$([^}]+)}/g;function cC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Yc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(t_(s)&&t_(o)){if(!Yc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function t_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ka(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Da(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function dC(t,e){const n=new hC(t,e);return n.subscribe.bind(n)}class hC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");fC(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Wh),i.error===void 0&&(i.error=Wh),i.complete===void 0&&(i.complete=Wh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Wh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t){return t&&t._delegate?t._delegate:t}class ds{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new YP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gC(e))try{this.getOrInitializeService({instanceIdentifier:qi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=qi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qi){return this.instances.has(e)}getOptions(e=qi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qi){return this.component?this.component.multipleInstances?e:qi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mC(t){return t===qi?void 0:t}function gC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const vC={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},_C=Ae.INFO,EC={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},wC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=EC[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mm{constructor(e){this.name=e,this._logLevel=_C,this._logHandler=wC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const TC=(t,e)=>e.some(n=>t instanceof n);let n_,r_;function IC(){return n_||(n_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SC(){return r_||(r_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yT=new WeakMap,ip=new WeakMap,vT=new WeakMap,Gh=new WeakMap,Vm=new WeakMap;function xC(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(mi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&yT.set(n,t)}).catch(()=>{}),Vm.set(e,t),e}function AC(t){if(ip.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ip.set(t,e)}let sp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ip.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RC(t){sp=t(sp)}function PC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Kh(this),e,...n);return vT.set(r,e.sort?e.sort():[e]),mi(r)}:SC().includes(t)?function(...e){return t.apply(Kh(this),e),mi(yT.get(this))}:function(...e){return mi(t.apply(Kh(this),e))}}function CC(t){return typeof t=="function"?PC(t):(t instanceof IDBTransaction&&AC(t),TC(t,IC())?new Proxy(t,sp):t)}function mi(t){if(t instanceof IDBRequest)return xC(t);if(Gh.has(t))return Gh.get(t);const e=CC(t);return e!==t&&(Gh.set(t,e),Vm.set(e,t)),e}const Kh=t=>Vm.get(t);function NC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=mi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(mi(o.result),u.oldVersion,u.newVersion,mi(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const kC=["get","getKey","getAll","getAllKeys","count"],DC=["put","add","delete","clear"],qh=new Map;function i_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(qh.get(e))return qh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=DC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||kC.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return qh.set(e,s),s}RC(t=>({...t,get:(e,n,r)=>i_(e,n)||t.get(e,n,r),has:(e,n)=>!!i_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function LC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const op="@firebase/app",s_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr=new Mm("@firebase/app"),OC="@firebase/app-compat",MC="@firebase/analytics-compat",VC="@firebase/analytics",jC="@firebase/app-check-compat",FC="@firebase/app-check",UC="@firebase/auth",zC="@firebase/auth-compat",BC="@firebase/database",$C="@firebase/data-connect",HC="@firebase/database-compat",WC="@firebase/functions",GC="@firebase/functions-compat",KC="@firebase/installations",qC="@firebase/installations-compat",QC="@firebase/messaging",YC="@firebase/messaging-compat",XC="@firebase/performance",JC="@firebase/performance-compat",ZC="@firebase/remote-config",eN="@firebase/remote-config-compat",tN="@firebase/storage",nN="@firebase/storage-compat",rN="@firebase/firestore",iN="@firebase/vertexai-preview",sN="@firebase/firestore-compat",oN="firebase",aN="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="[DEFAULT]",lN={[op]:"fire-core",[OC]:"fire-core-compat",[VC]:"fire-analytics",[MC]:"fire-analytics-compat",[FC]:"fire-app-check",[jC]:"fire-app-check-compat",[UC]:"fire-auth",[zC]:"fire-auth-compat",[BC]:"fire-rtdb",[$C]:"fire-data-connect",[HC]:"fire-rtdb-compat",[WC]:"fire-fn",[GC]:"fire-fn-compat",[KC]:"fire-iid",[qC]:"fire-iid-compat",[QC]:"fire-fcm",[YC]:"fire-fcm-compat",[XC]:"fire-perf",[JC]:"fire-perf-compat",[ZC]:"fire-rc",[eN]:"fire-rc-compat",[tN]:"fire-gcs",[nN]:"fire-gcs-compat",[rN]:"fire-fst",[sN]:"fire-fst-compat",[iN]:"fire-vertex","fire-js":"fire-js",[oN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=new Map,uN=new Map,lp=new Map;function o_(t,e){try{t.container.addComponent(e)}catch(n){Cr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function So(t){const e=t.name;if(lp.has(e))return Cr.debug(`There were multiple attempts to register component ${e}.`),!1;lp.set(e,t);for(const n of Xc.values())o_(n,t);for(const n of uN.values())o_(n,t);return!0}function jm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Qn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gi=new $l("app","Firebase",cN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=aN;function _T(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ap,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw gi.create("bad-app-name",{appName:String(i)});if(n||(n=mT()),!n)throw gi.create("no-options");const s=Xc.get(i);if(s){if(Yc(n,s.options)&&Yc(r,s.config))return s;throw gi.create("duplicate-app",{appName:i})}const o=new yC(i);for(const u of lp.values())o.addComponent(u);const l=new dN(n,r,o);return Xc.set(i,l),l}function ET(t=ap){const e=Xc.get(t);if(!e&&t===ap&&mT())return _T();if(!e)throw gi.create("no-app",{appName:t});return e}function yi(t,e,n){var r;let i=(r=lN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cr.warn(l.join(" "));return}So(new ds(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN="firebase-heartbeat-database",fN=1,El="firebase-heartbeat-store";let Qh=null;function wT(){return Qh||(Qh=NC(hN,fN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(El)}catch(n){console.warn(n)}}}}).catch(t=>{throw gi.create("idb-open",{originalErrorMessage:t.message})})),Qh}async function pN(t){try{const n=(await wT()).transaction(El),r=await n.objectStore(El).get(TT(t));return await n.done,r}catch(e){if(e instanceof Mr)Cr.warn(e.message);else{const n=gi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Cr.warn(n.message)}}}async function a_(t,e){try{const r=(await wT()).transaction(El,"readwrite");await r.objectStore(El).put(e,TT(t)),await r.done}catch(n){if(n instanceof Mr)Cr.warn(n.message);else{const r=gi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Cr.warn(r.message)}}}function TT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=1024,gN=30*24*60*60*1e3;class yN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _N(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=l_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=gN}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Cr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=l_(),{heartbeatsToSend:r,unsentEntries:i}=vN(this._heartbeatsCache.heartbeats),s=Qc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Cr.warn(n),""}}}function l_(){return new Date().toISOString().substring(0,10)}function vN(t,e=mN){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),u_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),u_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _N{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sC()?oC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return a_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return a_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function u_(t){return Qc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(t){So(new ds("platform-logger",e=>new bC(e),"PRIVATE")),So(new ds("heartbeat",e=>new yN(e),"PRIVATE")),yi(op,s_,t),yi(op,s_,"esm2017"),yi("fire-js","")}EN("");function Fm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function IT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wN=IT,ST=new $l("auth","Firebase",IT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=new Mm("@firebase/auth");function TN(t,...e){Jc.logLevel<=Ae.WARN&&Jc.warn(`Auth (${Uo}): ${t}`,...e)}function lc(t,...e){Jc.logLevel<=Ae.ERROR&&Jc.error(`Auth (${Uo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(t,...e){throw Um(t,...e)}function Jn(t,...e){return Um(t,...e)}function xT(t,e,n){const r=Object.assign(Object.assign({},wN()),{[e]:n});return new $l("auth","Firebase",r).create(e,{appName:t.name})}function Tr(t){return xT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Um(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ST.create(t,...e)}function ce(t,e,...n){if(!t)throw Um(e,...n)}function mr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw lc(e),new Error(e)}function Nr(t,e){t||mr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function IN(){return c_()==="http:"||c_()==="https:"}function c_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IN()||tC()||"connection"in navigator)?navigator.onLine:!0}function xN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Nr(n>e,"Short delay should be less than long delay!"),this.isMobile=JP()||nC()}get(){return SN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(t,e){Nr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=new Wl(3e4,6e4);function bi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Li(t,e,n,r,i={}){return RT(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=Hl(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},s);return eC()||(c.referrerPolicy="no-referrer"),AT.fetch()(PT(t,t.config.apiHost,n,l),c)})}async function RT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},AN),e);try{const i=new CN(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw $u(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw $u(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw $u(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw $u(t,"user-disabled",o);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw xT(t,d,c);zn(t,d)}}catch(i){if(i instanceof Mr)throw i;zn(t,"network-request-failed",{message:String(i)})}}async function Gl(t,e,n,r,i={}){const s=await Li(t,e,n,r,i);return"mfaPendingCredential"in s&&zn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function PT(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?zm(t.config,i):`${t.config.apiScheme}://${i}`}function PN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class CN{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Jn(this.auth,"network-request-failed")),RN.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $u(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Jn(t,e,r);return i.customData._tokenResponse=n,i}function d_(t){return t!==void 0&&t.enterprise!==void 0}class NN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return PN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function kN(t,e){return Li(t,"GET","/v2/recaptchaConfig",bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN(t,e){return Li(t,"POST","/v1/accounts:delete",e)}async function CT(t,e){return Li(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bN(t,e=!1){const n=dn(t),r=await n.getIdToken(e),i=Bm(r);ce(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ga(Yh(i.auth_time)),issuedAtTime:Ga(Yh(i.iat)),expirationTime:Ga(Yh(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Yh(t){return Number(t)*1e3}function Bm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return lc("JWT malformed, contained fewer than 3 sections"),null;try{const i=fT(n);return i?JSON.parse(i):(lc("Failed to decode base64 JWT payload"),null)}catch(i){return lc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function h_(t){const e=Bm(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Mr&&LN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function LN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ga(this.lastLoginAt),this.creationTime=Ga(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await wl(t,CT(n,{idToken:r}));ce(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?NT(s.providerUserInfo):[],l=VN(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),d=u?c:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new cp(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,p)}async function MN(t){const e=dn(t);await Zc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VN(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function NT(t){return t.map(e=>{var{providerId:n}=e,r=Fm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN(t,e){const n=await RT(t,{},async()=>{const r=Hl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=PT(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",AT.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function FN(t,e){return Li(t,"POST","/v2/accounts:revokeToken",bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):h_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ce(e.length!==0,"internal-error");const n=h_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await jN(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new uo;return r&&(ce(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ce(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ce(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return mr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class gr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Fm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ON(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new cp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await wl(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return bN(this,e)}reload(){return MN(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new gr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Zc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(Tr(this.auth));const e=await this.getIdToken();return await wl(this,DN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,u,c,d;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=n.photoURL)!==null&&o!==void 0?o:void 0,T=(l=n.tenantId)!==null&&l!==void 0?l:void 0,N=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,E=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:I,emailVerified:b,isAnonymous:M,providerData:D,stsTokenManager:_}=n;ce(I&&_,e,"internal-error");const y=uo.fromJSON(this.name,_);ce(typeof I=="string",e,"internal-error"),Gr(p,e.name),Gr(m,e.name),ce(typeof b=="boolean",e,"internal-error"),ce(typeof M=="boolean",e,"internal-error"),Gr(w,e.name),Gr(A,e.name),Gr(T,e.name),Gr(N,e.name),Gr(E,e.name),Gr(v,e.name);const S=new gr({uid:I,auth:e,email:m,emailVerified:b,displayName:p,isAnonymous:M,photoURL:A,phoneNumber:w,tenantId:T,stsTokenManager:y,createdAt:E,lastLoginAt:v});return D&&Array.isArray(D)&&(S.providerData=D.map(P=>Object.assign({},P))),N&&(S._redirectEventId=N),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new uo;i.updateFromServerResponse(n);const s=new gr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Zc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ce(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?NT(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new uo;l.updateFromIdToken(r);const u=new gr({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new cp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_=new Map;function yr(t){Nr(t instanceof Function,"Expected a class definition");let e=f_.get(t);return e?(Nr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,f_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}kT.type="NONE";const p_=kT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(t,e,n){return`firebase:${t}:${e}:${n}`}class co{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=uc(this.userKey,i.apiKey,s),this.fullPersistenceKey=uc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?gr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new co(yr(p_),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||yr(p_);const o=uc(r,e.config.apiKey,e.name);let l=null;for(const c of n)try{const d=await c._get(o);if(d){const p=gr._fromJSON(e,d);c!==s&&(l=p),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new co(s,e,r):(s=u[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new co(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VT(e))return"Blackberry";if(jT(e))return"Webos";if(bT(e))return"Safari";if((e.includes("chrome/")||LT(e))&&!e.includes("edge/"))return"Chrome";if(MT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function DT(t=Ht()){return/firefox\//i.test(t)}function bT(t=Ht()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LT(t=Ht()){return/crios\//i.test(t)}function OT(t=Ht()){return/iemobile/i.test(t)}function MT(t=Ht()){return/android/i.test(t)}function VT(t=Ht()){return/blackberry/i.test(t)}function jT(t=Ht()){return/webos/i.test(t)}function $m(t=Ht()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function UN(t=Ht()){var e;return $m(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function zN(){return rC()&&document.documentMode===10}function FT(t=Ht()){return $m(t)||MT(t)||jT(t)||VT(t)||/windows phone/i.test(t)||OT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(t,e=[]){let n;switch(t){case"Browser":n=m_(Ht());break;case"Worker":n=`${m_(Ht())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Uo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const u=e(s);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $N(t,e={}){return Li(t,"GET","/v2/passwordPolicy",bi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=6;class WN{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:HN,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new g_(this),this.idTokenSubscription=new g_(this),this.beforeStateQueue=new BN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ST,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await co.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await CT(this,{idToken:e}),r=await gr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Qn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Zc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qn(this.app))return Promise.reject(Tr(this));const n=e?dn(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(Tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qn(this.app)?Promise.reject(Tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $N(this),n=new WN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $l("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await FN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&yr(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await co.create(this,[yr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&TN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ts(t){return dn(t)}class g_{constructor(e){this.auth=e,this.observer=null,this.addObserver=dC(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Md={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KN(t){Md=t}function zT(t){return Md.loadJS(t)}function qN(){return Md.recaptchaEnterpriseScript}function QN(){return Md.gapiScript}function YN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const XN="recaptcha-enterprise",JN="NO_RECAPTCHA";class ZN{constructor(e){this.type=XN,this.auth=Ts(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{kN(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new NN(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{l(u)})})}function i(s,o,l){const u=window.grecaptcha;d_(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(JN)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&d_(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=qN();u.length!==0&&(u+=l),zT(u).then(()=>{i(l,s,o)}).catch(c=>{o(c)})}}).catch(l=>{o(l)})})}}async function y_(t,e,n,r=!1){const i=new ZN(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function dp(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await y_(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await y_(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(t,e){const n=jm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Yc(s,e??{}))return i;zn(i,"already-initialized")}return n.initialize({options:e})}function tk(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(yr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function nk(t,e,n){const r=Ts(t);ce(r._canInitEmulator,r,"emulator-config-failed"),ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=BT(e),{host:o,port:l}=rk(e),u=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),ik()}function BT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function rk(t){const e=BT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:v_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:v_(o)}}}function v_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ik(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mr("not implemented")}_getIdTokenResponse(e){return mr("not implemented")}_linkToIdToken(e,n){return mr("not implemented")}_getReauthenticationResolver(e){return mr("not implemented")}}async function sk(t,e){return Li(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ok(t,e){return Gl(t,"POST","/v1/accounts:signInWithPassword",bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ak(t,e){return Gl(t,"POST","/v1/accounts:signInWithEmailLink",bi(t,e))}async function lk(t,e){return Gl(t,"POST","/v1/accounts:signInWithEmailLink",bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl extends Hm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Tl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Tl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dp(e,n,"signInWithPassword",ok);case"emailLink":return ak(e,{email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dp(e,r,"signUpPassword",sk);case"emailLink":return lk(e,{idToken:n,email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(t,e){return Gl(t,"POST","/v1/accounts:signInWithIdp",bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk="http://localhost";class hs extends Hm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new hs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Fm(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new hs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ho(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ho(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ho(e,n)}buildRequest(){const e={requestUri:uk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Hl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dk(t){const e=ka(Da(t)).link,n=e?ka(Da(e)).deep_link_id:null,r=ka(Da(t)).deep_link_id;return(r?ka(Da(r)).link:null)||r||n||e||t}class Wm{constructor(e){var n,r,i,s,o,l;const u=ka(Da(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,d=(r=u.oobCode)!==null&&r!==void 0?r:null,p=ck((i=u.mode)!==null&&i!==void 0?i:null);ce(c&&d&&p,"argument-error"),this.apiKey=c,this.operation=p,this.code=d,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=dk(e);try{return new Wm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this.providerId=zo.PROVIDER_ID}static credential(e,n){return Tl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Wm.parseLink(n);return ce(r,"argument-error"),Tl._fromEmailAndCode(e,r.code,r.tenantId)}}zo.PROVIDER_ID="password";zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends $T{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Kl{constructor(){super("facebook.com")}static credential(e){return hs._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends Kl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return hs._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ei.credential(n,r)}catch{return null}}}ei.GOOGLE_SIGN_IN_METHOD="google.com";ei.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends Kl{constructor(){super("github.com")}static credential(e){return hs._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ti.credential(e.oauthAccessToken)}catch{return null}}}ti.GITHUB_SIGN_IN_METHOD="github.com";ti.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends Kl{constructor(){super("twitter.com")}static credential(e,n){return hs._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ni.credential(n,r)}catch{return null}}}ni.TWITTER_SIGN_IN_METHOD="twitter.com";ni.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hk(t,e){return Gl(t,"POST","/v1/accounts:signUp",bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await gr._fromIdTokenResponse(e,r,i),o=__(r);return new fs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=__(r);return new fs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function __(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends Mr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ed.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ed(e,n,r,i)}}function HT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ed._fromErrorAndOperation(t,s,e,r):s})}async function fk(t,e,n=!1){const r=await wl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pk(t,e,n=!1){const{auth:r}=t;if(Qn(r.app))return Promise.reject(Tr(r));const i="reauthenticate";try{const s=await wl(t,HT(r,i,e,t),n);ce(s.idToken,r,"internal-error");const o=Bm(s.idToken);ce(o,r,"internal-error");const{sub:l}=o;return ce(t.uid===l,r,"user-mismatch"),fs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&zn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WT(t,e,n=!1){if(Qn(t.app))return Promise.reject(Tr(t));const r="signIn",i=await HT(t,r,e),s=await fs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function mk(t,e){return WT(Ts(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GT(t){const e=Ts(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function gk(t,e,n){if(Qn(t.app))return Promise.reject(Tr(t));const r=Ts(t),o=await dp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hk).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&GT(t),u}),l=await fs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function yk(t,e,n){return Qn(t.app)?Promise.reject(Tr(t)):mk(dn(t),zo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&GT(t),r})}function vk(t,e,n,r){return dn(t).onIdTokenChanged(e,n,r)}function _k(t,e,n){return dn(t).beforeAuthStateChanged(e,n)}function Ek(t){return dn(t).signOut()}const td="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(td,"1"),this.storage.removeItem(td),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=1e3,Tk=10;class qT extends KT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);zN()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Tk):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},wk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qT.type="LOCAL";const Ik=qT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT extends KT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}QT.type="SESSION";const YT=QT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Vd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async c=>c(n.origin,s)),u=await Sk(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const c=Gm("",20);i.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const m=p;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(m.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(){return window}function Ak(t){Zn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(){return typeof Zn().WorkerGlobalScope<"u"&&typeof Zn().importScripts=="function"}async function Rk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Pk(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Ck(){return XT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="firebaseLocalStorageDb",Nk=1,nd="firebaseLocalStorage",ZT="fbase_key";class ql{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jd(t,e){return t.transaction([nd],e?"readwrite":"readonly").objectStore(nd)}function kk(){const t=indexedDB.deleteDatabase(JT);return new ql(t).toPromise()}function hp(){const t=indexedDB.open(JT,Nk);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(nd,{keyPath:ZT})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(nd)?e(r):(r.close(),await kk(),e(await hp()))})})}async function E_(t,e,n){const r=jd(t,!0).put({[ZT]:e,value:n});return new ql(r).toPromise()}async function Dk(t,e){const n=jd(t,!1).get(e),r=await new ql(n).toPromise();return r===void 0?null:r.value}function w_(t,e){const n=jd(t,!0).delete(e);return new ql(n).toPromise()}const bk=800,Lk=3;class e1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Lk)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vd._getInstance(Ck()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Rk(),!this.activeServiceWorker)return;this.sender=new xk(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Pk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hp();return await E_(e,td,"1"),await w_(e,td),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>E_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Dk(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>w_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=jd(i,!1).getAll();return new ql(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}e1.type="LOCAL";const Ok=e1;new Wl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(t,e){return e?yr(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km extends Hm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Vk(t){return WT(t.auth,new Km(t),t.bypassAuthState)}function jk(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),pk(n,new Km(t),t.bypassAuthState)}async function Fk(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),fk(n,new Km(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Vk;case"linkViaPopup":case"linkViaRedirect":return Fk;case"reauthViaPopup":case"reauthViaRedirect":return jk;default:zn(this.auth,"internal-error")}}resolve(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=new Wl(2e3,1e4);class Zs extends t1{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Zs.currentPopupAction&&Zs.currentPopupAction.cancel(),Zs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){Nr(this.filter.length===1,"Popup operations only handle one event");const e=Gm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Uk.get())};e()}}Zs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk="pendingRedirect",cc=new Map;class Bk extends t1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=cc.get(this.auth._key());if(!e){try{const r=await $k(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}cc.set(this.auth._key(),e)}return this.bypassAuthState||cc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $k(t,e){const n=Gk(e),r=Wk(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Hk(t,e){cc.set(t._key(),e)}function Wk(t){return yr(t._redirectPersistence)}function Gk(t){return uc(zk,t.config.apiKey,t.name)}async function Kk(t,e,n=!1){if(Qn(t.app))return Promise.reject(Tr(t));const r=Ts(t),i=Mk(r,e),o=await new Bk(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk=10*60*1e3;class Qk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Yk(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!n1(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Jn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qk&&this.cachedEventUids.clear(),this.cachedEventUids.has(T_(e))}saveEventToCache(e){this.cachedEventUids.add(T_(e)),this.lastProcessedEventTime=Date.now()}}function T_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function n1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Yk(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return n1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xk(t,e={}){return Li(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zk=/^https?/;async function e2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Xk(t);for(const n of e)try{if(t2(n))return}catch{}zn(t,"unauthorized-domain")}function t2(t){const e=up(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Zk.test(n))return!1;if(Jk.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=new Wl(3e4,6e4);function I_(){const t=Zn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function r2(t){return new Promise((e,n)=>{var r,i,s;function o(){I_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{I_(),n(Jn(t,"network-request-failed"))},timeout:n2.get()})}if(!((i=(r=Zn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Zn().gapi)===null||s===void 0)&&s.load)o();else{const l=YN("iframefcb");return Zn()[l]=()=>{gapi.load?o():n(Jn(t,"network-request-failed"))},zT(`${QN()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw dc=null,e})}let dc=null;function i2(t){return dc=dc||r2(t),dc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=new Wl(5e3,15e3),o2="__/auth/iframe",a2="emulator/auth/iframe",l2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},u2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function c2(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zm(e,a2):`https://${t.config.authDomain}/${o2}`,r={apiKey:e.apiKey,appName:t.name,v:Uo},i=u2.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Hl(r).slice(1)}`}async function d2(t){const e=await i2(t),n=Zn().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:c2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:l2,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Jn(t,"network-request-failed"),l=Zn().setTimeout(()=>{s(o)},s2.get());function u(){Zn().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},f2=500,p2=600,m2="_blank",g2="http://localhost";class S_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function y2(t,e,n,r=f2,i=p2){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},h2),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Ht().toLowerCase();n&&(l=LT(c)?m2:n),DT(c)&&(e=e||g2,u.scrollbars="yes");const d=Object.entries(u).reduce((m,[w,A])=>`${m}${w}=${A},`,"");if(UN(c)&&l!=="_self")return v2(e||"",l),new S_(null);const p=window.open(e||"",l,d);ce(p,t,"popup-blocked");try{p.focus()}catch{}return new S_(p)}function v2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="__/auth/handler",E2="emulator/auth/handler",w2=encodeURIComponent("fac");async function x_(t,e,n,r,i,s){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Uo,eventId:i};if(e instanceof $T){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",cC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))o[d]=p}if(e instanceof Kl){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await t._getAppCheckToken(),c=u?`#${w2}=${encodeURIComponent(u)}`:"";return`${T2(t)}?${Hl(l).slice(1)}${c}`}function T2({config:t}){return t.emulator?zm(t,E2):`https://${t.authDomain}/${_2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh="webStorageSupport";class I2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YT,this._completeRedirectFn=Kk,this._overrideRedirectResult=Hk}async _openPopup(e,n,r,i){var s;Nr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await x_(e,n,r,up(),i);return y2(e,o,Gm())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await x_(e,n,r,up(),i);return Ak(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Nr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await d2(e),r=new Qk(e);return n.register("authEvent",i=>(ce(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xh,{type:Xh},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Xh];o!==void 0&&n(!!o),zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=e2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return FT()||bT()||$m()}}const S2=I2;var A_="@firebase/auth",R_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function R2(t){So(new ds("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;ce(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UT(t)},c=new GN(r,i,s,u);return tk(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),So(new ds("auth-internal",e=>{const n=Ts(e.getProvider("auth").getImmediate());return(r=>new x2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),yi(A_,R_,A2(t)),yi(A_,R_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=5*60,C2=gT("authIdTokenMaxAge")||P2;let P_=null;const N2=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>C2)return;const i=n==null?void 0:n.token;P_!==i&&(P_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function k2(t=ET()){const e=jm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=ek(t,{popupRedirectResolver:S2,persistence:[Ok,Ik,YT]}),r=gT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=N2(s.toString());_k(n,o,()=>o(n.currentUser)),vk(n,l=>o(l))}}const i=pT("auth");return i&&nk(n,`http://${i}`),n}function D2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}KN({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Jn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",D2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});R2("Browser");var b2="firebase",L2="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yi(b2,L2,"app");var C_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rs,r1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,y){function S(){}S.prototype=y.prototype,_.D=y.prototype,_.prototype=new S,_.prototype.constructor=_,_.C=function(P,C,k){for(var R=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)R[Z-2]=arguments[Z];return y.prototype[C].apply(P,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,y,S){S||(S=0);var P=Array(16);if(typeof y=="string")for(var C=0;16>C;++C)P[C]=y.charCodeAt(S++)|y.charCodeAt(S++)<<8|y.charCodeAt(S++)<<16|y.charCodeAt(S++)<<24;else for(C=0;16>C;++C)P[C]=y[S++]|y[S++]<<8|y[S++]<<16|y[S++]<<24;y=_.g[0],S=_.g[1],C=_.g[2];var k=_.g[3],R=y+(k^S&(C^k))+P[0]+3614090360&4294967295;y=S+(R<<7&4294967295|R>>>25),R=k+(C^y&(S^C))+P[1]+3905402710&4294967295,k=y+(R<<12&4294967295|R>>>20),R=C+(S^k&(y^S))+P[2]+606105819&4294967295,C=k+(R<<17&4294967295|R>>>15),R=S+(y^C&(k^y))+P[3]+3250441966&4294967295,S=C+(R<<22&4294967295|R>>>10),R=y+(k^S&(C^k))+P[4]+4118548399&4294967295,y=S+(R<<7&4294967295|R>>>25),R=k+(C^y&(S^C))+P[5]+1200080426&4294967295,k=y+(R<<12&4294967295|R>>>20),R=C+(S^k&(y^S))+P[6]+2821735955&4294967295,C=k+(R<<17&4294967295|R>>>15),R=S+(y^C&(k^y))+P[7]+4249261313&4294967295,S=C+(R<<22&4294967295|R>>>10),R=y+(k^S&(C^k))+P[8]+1770035416&4294967295,y=S+(R<<7&4294967295|R>>>25),R=k+(C^y&(S^C))+P[9]+2336552879&4294967295,k=y+(R<<12&4294967295|R>>>20),R=C+(S^k&(y^S))+P[10]+4294925233&4294967295,C=k+(R<<17&4294967295|R>>>15),R=S+(y^C&(k^y))+P[11]+2304563134&4294967295,S=C+(R<<22&4294967295|R>>>10),R=y+(k^S&(C^k))+P[12]+1804603682&4294967295,y=S+(R<<7&4294967295|R>>>25),R=k+(C^y&(S^C))+P[13]+4254626195&4294967295,k=y+(R<<12&4294967295|R>>>20),R=C+(S^k&(y^S))+P[14]+2792965006&4294967295,C=k+(R<<17&4294967295|R>>>15),R=S+(y^C&(k^y))+P[15]+1236535329&4294967295,S=C+(R<<22&4294967295|R>>>10),R=y+(C^k&(S^C))+P[1]+4129170786&4294967295,y=S+(R<<5&4294967295|R>>>27),R=k+(S^C&(y^S))+P[6]+3225465664&4294967295,k=y+(R<<9&4294967295|R>>>23),R=C+(y^S&(k^y))+P[11]+643717713&4294967295,C=k+(R<<14&4294967295|R>>>18),R=S+(k^y&(C^k))+P[0]+3921069994&4294967295,S=C+(R<<20&4294967295|R>>>12),R=y+(C^k&(S^C))+P[5]+3593408605&4294967295,y=S+(R<<5&4294967295|R>>>27),R=k+(S^C&(y^S))+P[10]+38016083&4294967295,k=y+(R<<9&4294967295|R>>>23),R=C+(y^S&(k^y))+P[15]+3634488961&4294967295,C=k+(R<<14&4294967295|R>>>18),R=S+(k^y&(C^k))+P[4]+3889429448&4294967295,S=C+(R<<20&4294967295|R>>>12),R=y+(C^k&(S^C))+P[9]+568446438&4294967295,y=S+(R<<5&4294967295|R>>>27),R=k+(S^C&(y^S))+P[14]+3275163606&4294967295,k=y+(R<<9&4294967295|R>>>23),R=C+(y^S&(k^y))+P[3]+4107603335&4294967295,C=k+(R<<14&4294967295|R>>>18),R=S+(k^y&(C^k))+P[8]+1163531501&4294967295,S=C+(R<<20&4294967295|R>>>12),R=y+(C^k&(S^C))+P[13]+2850285829&4294967295,y=S+(R<<5&4294967295|R>>>27),R=k+(S^C&(y^S))+P[2]+4243563512&4294967295,k=y+(R<<9&4294967295|R>>>23),R=C+(y^S&(k^y))+P[7]+1735328473&4294967295,C=k+(R<<14&4294967295|R>>>18),R=S+(k^y&(C^k))+P[12]+2368359562&4294967295,S=C+(R<<20&4294967295|R>>>12),R=y+(S^C^k)+P[5]+4294588738&4294967295,y=S+(R<<4&4294967295|R>>>28),R=k+(y^S^C)+P[8]+2272392833&4294967295,k=y+(R<<11&4294967295|R>>>21),R=C+(k^y^S)+P[11]+1839030562&4294967295,C=k+(R<<16&4294967295|R>>>16),R=S+(C^k^y)+P[14]+4259657740&4294967295,S=C+(R<<23&4294967295|R>>>9),R=y+(S^C^k)+P[1]+2763975236&4294967295,y=S+(R<<4&4294967295|R>>>28),R=k+(y^S^C)+P[4]+1272893353&4294967295,k=y+(R<<11&4294967295|R>>>21),R=C+(k^y^S)+P[7]+4139469664&4294967295,C=k+(R<<16&4294967295|R>>>16),R=S+(C^k^y)+P[10]+3200236656&4294967295,S=C+(R<<23&4294967295|R>>>9),R=y+(S^C^k)+P[13]+681279174&4294967295,y=S+(R<<4&4294967295|R>>>28),R=k+(y^S^C)+P[0]+3936430074&4294967295,k=y+(R<<11&4294967295|R>>>21),R=C+(k^y^S)+P[3]+3572445317&4294967295,C=k+(R<<16&4294967295|R>>>16),R=S+(C^k^y)+P[6]+76029189&4294967295,S=C+(R<<23&4294967295|R>>>9),R=y+(S^C^k)+P[9]+3654602809&4294967295,y=S+(R<<4&4294967295|R>>>28),R=k+(y^S^C)+P[12]+3873151461&4294967295,k=y+(R<<11&4294967295|R>>>21),R=C+(k^y^S)+P[15]+530742520&4294967295,C=k+(R<<16&4294967295|R>>>16),R=S+(C^k^y)+P[2]+3299628645&4294967295,S=C+(R<<23&4294967295|R>>>9),R=y+(C^(S|~k))+P[0]+4096336452&4294967295,y=S+(R<<6&4294967295|R>>>26),R=k+(S^(y|~C))+P[7]+1126891415&4294967295,k=y+(R<<10&4294967295|R>>>22),R=C+(y^(k|~S))+P[14]+2878612391&4294967295,C=k+(R<<15&4294967295|R>>>17),R=S+(k^(C|~y))+P[5]+4237533241&4294967295,S=C+(R<<21&4294967295|R>>>11),R=y+(C^(S|~k))+P[12]+1700485571&4294967295,y=S+(R<<6&4294967295|R>>>26),R=k+(S^(y|~C))+P[3]+2399980690&4294967295,k=y+(R<<10&4294967295|R>>>22),R=C+(y^(k|~S))+P[10]+4293915773&4294967295,C=k+(R<<15&4294967295|R>>>17),R=S+(k^(C|~y))+P[1]+2240044497&4294967295,S=C+(R<<21&4294967295|R>>>11),R=y+(C^(S|~k))+P[8]+1873313359&4294967295,y=S+(R<<6&4294967295|R>>>26),R=k+(S^(y|~C))+P[15]+4264355552&4294967295,k=y+(R<<10&4294967295|R>>>22),R=C+(y^(k|~S))+P[6]+2734768916&4294967295,C=k+(R<<15&4294967295|R>>>17),R=S+(k^(C|~y))+P[13]+1309151649&4294967295,S=C+(R<<21&4294967295|R>>>11),R=y+(C^(S|~k))+P[4]+4149444226&4294967295,y=S+(R<<6&4294967295|R>>>26),R=k+(S^(y|~C))+P[11]+3174756917&4294967295,k=y+(R<<10&4294967295|R>>>22),R=C+(y^(k|~S))+P[2]+718787259&4294967295,C=k+(R<<15&4294967295|R>>>17),R=S+(k^(C|~y))+P[9]+3951481745&4294967295,_.g[0]=_.g[0]+y&4294967295,_.g[1]=_.g[1]+(C+(R<<21&4294967295|R>>>11))&4294967295,_.g[2]=_.g[2]+C&4294967295,_.g[3]=_.g[3]+k&4294967295}r.prototype.u=function(_,y){y===void 0&&(y=_.length);for(var S=y-this.blockSize,P=this.B,C=this.h,k=0;k<y;){if(C==0)for(;k<=S;)i(this,_,k),k+=this.blockSize;if(typeof _=="string"){for(;k<y;)if(P[C++]=_.charCodeAt(k++),C==this.blockSize){i(this,P),C=0;break}}else for(;k<y;)if(P[C++]=_[k++],C==this.blockSize){i(this,P),C=0;break}}this.h=C,this.o+=y},r.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var y=1;y<_.length-8;++y)_[y]=0;var S=8*this.o;for(y=_.length-8;y<_.length;++y)_[y]=S&255,S/=256;for(this.u(_),_=Array(16),y=S=0;4>y;++y)for(var P=0;32>P;P+=8)_[S++]=this.g[y]>>>P&255;return _};function s(_,y){var S=l;return Object.prototype.hasOwnProperty.call(S,_)?S[_]:S[_]=y(_)}function o(_,y){this.h=y;for(var S=[],P=!0,C=_.length-1;0<=C;C--){var k=_[C]|0;P&&k==y||(S[C]=k,P=!1)}this.g=S}var l={};function u(_){return-128<=_&&128>_?s(_,function(y){return new o([y|0],0>y?-1:0)}):new o([_|0],0>_?-1:0)}function c(_){if(isNaN(_)||!isFinite(_))return p;if(0>_)return N(c(-_));for(var y=[],S=1,P=0;_>=S;P++)y[P]=_/S|0,S*=4294967296;return new o(y,0)}function d(_,y){if(_.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(_.charAt(0)=="-")return N(d(_.substring(1),y));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(y,8)),P=p,C=0;C<_.length;C+=8){var k=Math.min(8,_.length-C),R=parseInt(_.substring(C,C+k),y);8>k?(k=c(Math.pow(y,k)),P=P.j(k).add(c(R))):(P=P.j(S),P=P.add(c(R)))}return P}var p=u(0),m=u(1),w=u(16777216);t=o.prototype,t.m=function(){if(T(this))return-N(this).m();for(var _=0,y=1,S=0;S<this.g.length;S++){var P=this.i(S);_+=(0<=P?P:4294967296+P)*y,y*=4294967296}return _},t.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(A(this))return"0";if(T(this))return"-"+N(this).toString(_);for(var y=c(Math.pow(_,6)),S=this,P="";;){var C=b(S,y).g;S=E(S,C.j(y));var k=((0<S.g.length?S.g[0]:S.h)>>>0).toString(_);if(S=C,A(S))return k+P;for(;6>k.length;)k="0"+k;P=k+P}},t.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function A(_){if(_.h!=0)return!1;for(var y=0;y<_.g.length;y++)if(_.g[y]!=0)return!1;return!0}function T(_){return _.h==-1}t.l=function(_){return _=E(this,_),T(_)?-1:A(_)?0:1};function N(_){for(var y=_.g.length,S=[],P=0;P<y;P++)S[P]=~_.g[P];return new o(S,~_.h).add(m)}t.abs=function(){return T(this)?N(this):this},t.add=function(_){for(var y=Math.max(this.g.length,_.g.length),S=[],P=0,C=0;C<=y;C++){var k=P+(this.i(C)&65535)+(_.i(C)&65535),R=(k>>>16)+(this.i(C)>>>16)+(_.i(C)>>>16);P=R>>>16,k&=65535,R&=65535,S[C]=R<<16|k}return new o(S,S[S.length-1]&-2147483648?-1:0)};function E(_,y){return _.add(N(y))}t.j=function(_){if(A(this)||A(_))return p;if(T(this))return T(_)?N(this).j(N(_)):N(N(this).j(_));if(T(_))return N(this.j(N(_)));if(0>this.l(w)&&0>_.l(w))return c(this.m()*_.m());for(var y=this.g.length+_.g.length,S=[],P=0;P<2*y;P++)S[P]=0;for(P=0;P<this.g.length;P++)for(var C=0;C<_.g.length;C++){var k=this.i(P)>>>16,R=this.i(P)&65535,Z=_.i(C)>>>16,se=_.i(C)&65535;S[2*P+2*C]+=R*se,v(S,2*P+2*C),S[2*P+2*C+1]+=k*se,v(S,2*P+2*C+1),S[2*P+2*C+1]+=R*Z,v(S,2*P+2*C+1),S[2*P+2*C+2]+=k*Z,v(S,2*P+2*C+2)}for(P=0;P<y;P++)S[P]=S[2*P+1]<<16|S[2*P];for(P=y;P<2*y;P++)S[P]=0;return new o(S,0)};function v(_,y){for(;(_[y]&65535)!=_[y];)_[y+1]+=_[y]>>>16,_[y]&=65535,y++}function I(_,y){this.g=_,this.h=y}function b(_,y){if(A(y))throw Error("division by zero");if(A(_))return new I(p,p);if(T(_))return y=b(N(_),y),new I(N(y.g),N(y.h));if(T(y))return y=b(_,N(y)),new I(N(y.g),y.h);if(30<_.g.length){if(T(_)||T(y))throw Error("slowDivide_ only works with positive integers.");for(var S=m,P=y;0>=P.l(_);)S=M(S),P=M(P);var C=D(S,1),k=D(P,1);for(P=D(P,2),S=D(S,2);!A(P);){var R=k.add(P);0>=R.l(_)&&(C=C.add(S),k=R),P=D(P,1),S=D(S,1)}return y=E(_,C.j(y)),new I(C,y)}for(C=p;0<=_.l(y);){for(S=Math.max(1,Math.floor(_.m()/y.m())),P=Math.ceil(Math.log(S)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),k=c(S),R=k.j(y);T(R)||0<R.l(_);)S-=P,k=c(S),R=k.j(y);A(k)&&(k=m),C=C.add(k),_=E(_,R)}return new I(C,_)}t.A=function(_){return b(this,_).h},t.and=function(_){for(var y=Math.max(this.g.length,_.g.length),S=[],P=0;P<y;P++)S[P]=this.i(P)&_.i(P);return new o(S,this.h&_.h)},t.or=function(_){for(var y=Math.max(this.g.length,_.g.length),S=[],P=0;P<y;P++)S[P]=this.i(P)|_.i(P);return new o(S,this.h|_.h)},t.xor=function(_){for(var y=Math.max(this.g.length,_.g.length),S=[],P=0;P<y;P++)S[P]=this.i(P)^_.i(P);return new o(S,this.h^_.h)};function M(_){for(var y=_.g.length+1,S=[],P=0;P<y;P++)S[P]=_.i(P)<<1|_.i(P-1)>>>31;return new o(S,_.h)}function D(_,y){var S=y>>5;y%=32;for(var P=_.g.length-S,C=[],k=0;k<P;k++)C[k]=0<y?_.i(k+S)>>>y|_.i(k+S+1)<<32-y:_.i(k+S);return new o(C,_.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,r1=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,rs=o}).apply(typeof C_<"u"?C_:typeof self<"u"?self:typeof window<"u"?window:{});var Hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var i1,ba,s1,hc,fp,o1,a1,l1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,f){return a==Array.prototype||a==Object.prototype||(a[h]=f.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hu=="object"&&Hu];for(var h=0;h<a.length;++h){var f=a[h];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(a,h){if(h)e:{var f=r;a=a.split(".");for(var x=0;x<a.length-1;x++){var O=a[x];if(!(O in f))break e;f=f[O]}a=a[a.length-1],x=f[a],h=h(x),h!=x&&h!=null&&e(f,a,{configurable:!0,writable:!0,value:h})}}function s(a,h){a instanceof String&&(a+="");var f=0,x=!1,O={next:function(){if(!x&&f<a.length){var U=f++;return{value:h(U,a[U]),done:!1}}return x=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}i("Array.prototype.values",function(a){return a||function(){return s(this,function(h,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function c(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function d(a,h,f){return a.call.apply(a.bind,arguments)}function p(a,h,f){if(!a)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,x),a.apply(h,O)}}return function(){return a.apply(h,arguments)}}function m(a,h,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,m.apply(null,arguments)}function w(a,h){var f=Array.prototype.slice.call(arguments,1);return function(){var x=f.slice();return x.push.apply(x,arguments),a.apply(this,x)}}function A(a,h){function f(){}f.prototype=h.prototype,a.aa=h.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(x,O,U){for(var Y=Array(arguments.length-2),je=2;je<arguments.length;je++)Y[je-2]=arguments[je];return h.prototype[O].apply(x,Y)}}function T(a){const h=a.length;if(0<h){const f=Array(h);for(let x=0;x<h;x++)f[x]=a[x];return f}return[]}function N(a,h){for(let f=1;f<arguments.length;f++){const x=arguments[f];if(u(x)){const O=a.length||0,U=x.length||0;a.length=O+U;for(let Y=0;Y<U;Y++)a[O+Y]=x[Y]}else a.push(x)}}class E{constructor(h,f){this.i=h,this.j=f,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function v(a){return/^[\s\xa0]*$/.test(a)}function I(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function b(a){return b[" "](a),a}b[" "]=function(){};var M=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function D(a,h,f){for(const x in a)h.call(f,a[x],x,a)}function _(a,h){for(const f in a)h.call(void 0,a[f],f,a)}function y(a){const h={};for(const f in a)h[f]=a[f];return h}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(a,h){let f,x;for(let O=1;O<arguments.length;O++){x=arguments[O];for(f in x)a[f]=x[f];for(let U=0;U<S.length;U++)f=S[U],Object.prototype.hasOwnProperty.call(x,f)&&(a[f]=x[f])}}function C(a){var h=1;a=a.split(":");const f=[];for(;0<h&&a.length;)f.push(a.shift()),h--;return a.length&&f.push(a.join(":")),f}function k(a){l.setTimeout(()=>{throw a},0)}function R(){var a=$;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class Z{constructor(){this.h=this.g=null}add(h,f){const x=se.get();x.set(h,f),this.h?this.h.next=x:this.g=x,this.h=x}}var se=new E(()=>new Te,a=>a.reset());class Te{constructor(){this.next=this.g=this.h=null}set(h,f){this.h=h,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let X,F=!1,$=new Z,z=()=>{const a=l.Promise.resolve(void 0);X=()=>{a.then(q)}};var q=()=>{for(var a;a=R();){try{a.h.call(a.g)}catch(f){k(f)}var h=se;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}F=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const f=()=>{};l.addEventListener("test",f,h),l.removeEventListener("test",f,h)}catch{}return a}();function Me(a,h){if(de.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,x=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(M){e:{try{b(h.nodeName);var O=!0;break e}catch{}O=!1}O||(h=null)}}else f=="mouseover"?h=a.fromElement:f=="mouseout"&&(h=a.toElement);this.relatedTarget=h,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:G[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Me.aa.h.call(this)}}A(Me,de);var G={2:"touch",3:"pen",4:"mouse"};Me.prototype.h=function(){Me.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var ye="closure_listenable_"+(1e6*Math.random()|0),ot=0;function he(a,h,f,x,O){this.listener=a,this.proxy=null,this.src=h,this.type=f,this.capture=!!x,this.ha=O,this.key=++ot,this.da=this.fa=!1}function Ze(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function at(a){this.src=a,this.g={},this.h=0}at.prototype.add=function(a,h,f,x,O){var U=a.toString();a=this.g[U],a||(a=this.g[U]=[],this.h++);var Y=ee(a,h,x,O);return-1<Y?(h=a[Y],f||(h.fa=!1)):(h=new he(h,this.src,U,!!x,O),h.fa=f,a.push(h)),h};function pn(a,h){var f=h.type;if(f in a.g){var x=a.g[f],O=Array.prototype.indexOf.call(x,h,void 0),U;(U=0<=O)&&Array.prototype.splice.call(x,O,1),U&&(Ze(h),a.g[f].length==0&&(delete a.g[f],a.h--))}}function ee(a,h,f,x){for(var O=0;O<a.length;++O){var U=a[O];if(!U.da&&U.listener==h&&U.capture==!!f&&U.ha==x)return O}return-1}var De="closure_lm_"+(1e6*Math.random()|0),pt={};function $n(a,h,f,x,O){if(Array.isArray(h)){for(var U=0;U<h.length;U++)$n(a,h[U],f,x,O);return null}return f=jr(f),a&&a[ye]?a.K(h,f,c(x)?!!x.capture:!1,O):Yo(a,h,f,!1,x,O)}function Yo(a,h,f,x,O,U){if(!h)throw Error("Invalid event type");var Y=c(O)?!!O.capture:!!O,je=ji(a);if(je||(a[De]=je=new at(a)),f=je.add(h,f,x,Y,U),f.proxy)return f;if(x=ah(),f.proxy=x,x.src=a,x.listener=f,a.addEventListener)we||(O=Y),O===void 0&&(O=!1),a.addEventListener(h.toString(),x,O);else if(a.attachEvent)a.attachEvent(Vr(h.toString()),x);else if(a.addListener&&a.removeListener)a.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return f}function ah(){function a(f){return h.call(a.src,a.listener,f)}const h=cu;return a}function uu(a,h,f,x,O){if(Array.isArray(h))for(var U=0;U<h.length;U++)uu(a,h[U],f,x,O);else x=c(x)?!!x.capture:!!x,f=jr(f),a&&a[ye]?(a=a.i,h=String(h).toString(),h in a.g&&(U=a.g[h],f=ee(U,f,x,O),-1<f&&(Ze(U[f]),Array.prototype.splice.call(U,f,1),U.length==0&&(delete a.g[h],a.h--)))):a&&(a=ji(a))&&(h=a.g[h.toString()],a=-1,h&&(a=ee(h,f,x,O)),(f=-1<a?h[a]:null)&&Xo(f))}function Xo(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[ye])pn(h.i,a);else{var f=a.type,x=a.proxy;h.removeEventListener?h.removeEventListener(f,x,a.capture):h.detachEvent?h.detachEvent(Vr(f),x):h.addListener&&h.removeListener&&h.removeListener(x),(f=ji(h))?(pn(f,a),f.h==0&&(f.src=null,h[De]=null)):Ze(a)}}}function Vr(a){return a in pt?pt[a]:pt[a]="on"+a}function cu(a,h){if(a.da)a=!0;else{h=new Me(h,this);var f=a.listener,x=a.ha||a.src;a.fa&&Xo(a),a=f.call(x,h)}return a}function ji(a){return a=a[De],a instanceof at?a:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function jr(a){return typeof a=="function"?a:(a[mn]||(a[mn]=function(h){return a.handleEvent(h)}),a[mn])}function mt(){J.call(this),this.i=new at(this),this.M=this,this.F=null}A(mt,J),mt.prototype[ye]=!0,mt.prototype.removeEventListener=function(a,h,f,x){uu(this,a,h,f,x)};function lt(a,h){var f,x=a.F;if(x)for(f=[];x;x=x.F)f.push(x);if(a=a.M,x=h.type||h,typeof h=="string")h=new de(h,a);else if(h instanceof de)h.target=h.target||a;else{var O=h;h=new de(x,a),P(h,O)}if(O=!0,f)for(var U=f.length-1;0<=U;U--){var Y=h.g=f[U];O=As(Y,x,!0,h)&&O}if(Y=h.g=a,O=As(Y,x,!0,h)&&O,O=As(Y,x,!1,h)&&O,f)for(U=0;U<f.length;U++)Y=h.g=f[U],O=As(Y,x,!1,h)&&O}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var f=a.g[h],x=0;x<f.length;x++)Ze(f[x]);delete a.g[h],a.h--}}this.F=null},mt.prototype.K=function(a,h,f,x){return this.i.add(String(a),h,!1,f,x)},mt.prototype.L=function(a,h,f,x){return this.i.add(String(a),h,!0,f,x)};function As(a,h,f,x){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var O=!0,U=0;U<h.length;++U){var Y=h[U];if(Y&&!Y.da&&Y.capture==f){var je=Y.listener,xt=Y.ha||Y.src;Y.fa&&pn(a.i,Y),O=je.call(xt,x)!==!1&&O}}return O&&!x.defaultPrevented}function Rn(a,h,f){if(typeof a=="function")f&&(a=m(a,f));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(a,h||0)}function Jo(a){a.g=Rn(()=>{a.g=null,a.i&&(a.i=!1,Jo(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class du extends J{constructor(h,f){super(),this.m=h,this.l=f,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Jo(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fr(a){J.call(this),this.h=a,this.g={}}A(Fr,J);var hu=[];function Zo(a){D(a.g,function(h,f){this.g.hasOwnProperty(f)&&Xo(h)},a),a.g={}}Fr.prototype.N=function(){Fr.aa.N.call(this),Zo(this)},Fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ur=l.JSON.stringify,fu=l.JSON.parse,ea=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function ta(){}ta.prototype.h=null;function na(a){return a.h||(a.h=a.i())}function pu(){}var zr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ra(){de.call(this,"d")}A(ra,de);function L(){de.call(this,"c")}A(L,de);var V={},B=null;function Q(){return B=B||new mt}V.La="serverreachability";function re(a){de.call(this,V.La,a)}A(re,de);function pe(a){const h=Q();lt(h,new re(h))}V.STAT_EVENT="statevent";function ue(a,h){de.call(this,V.STAT_EVENT,a),this.stat=h}A(ue,de);function ne(a){const h=Q();lt(h,new ue(h,a))}V.Ma="timingevent";function oe(a,h){de.call(this,V.Ma,a),this.size=h}A(oe,de);function _e(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},h)}function He(){this.g=!0}He.prototype.xa=function(){this.g=!1};function ve(a,h,f,x,O,U){a.info(function(){if(a.g)if(U)for(var Y="",je=U.split("&"),xt=0;xt<je.length;xt++){var Ne=je[xt].split("=");if(1<Ne.length){var Lt=Ne[0];Ne=Ne[1];var Ot=Lt.split("_");Y=2<=Ot.length&&Ot[1]=="type"?Y+(Lt+"="+Ne+"&"):Y+(Lt+"=redacted&")}}else Y=null;else Y=U;return"XMLHTTP REQ ("+x+") [attempt "+O+"]: "+h+`
`+f+`
`+Y})}function Ve(a,h,f,x,O,U,Y){a.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+O+"]: "+h+`
`+f+`
`+U+" "+Y})}function We(a,h,f,x){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+ut(a,f)+(x?" "+x:"")})}function Wt(a,h){a.info(function(){return"TIMEOUT: "+h})}He.prototype.info=function(){};function ut(a,h){if(!a.g)return h;if(!h)return null;try{var f=JSON.parse(h);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var x=f[a];if(!(2>x.length)){var O=x[1];if(Array.isArray(O)&&!(1>O.length)){var U=O[0];if(U!="noop"&&U!="stop"&&U!="close")for(var Y=1;Y<O.length;Y++)O[Y]=""}}}}return Ur(f)}catch{return h}}var Pn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Rs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hn;function rn(){}A(rn,ta),rn.prototype.g=function(){return new XMLHttpRequest},rn.prototype.i=function(){return{}},Hn=new rn;function bt(a,h,f,x){this.j=a,this.i=h,this.l=f,this.R=x||1,this.U=new Fr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ps}function Ps(){this.i=null,this.g="",this.h=!1}var Br={},Fi={};function Wn(a,h,f){a.L=1,a.v=yu(lr(h)),a.m=f,a.P=!0,Ui(a,null)}function Ui(a,h){a.F=Date.now(),gt(a),a.A=lr(a.v);var f=a.A,x=a.R;Array.isArray(x)||(x=[String(x)]),ny(f.i,"t",x),a.C=0,f=a.j.J,a.h=new Ps,a.g=Ey(a.j,f?h:null,!a.m),0<a.O&&(a.M=new du(m(a.Y,a,a.g),a.O)),h=a.U,f=a.g,x=a.ca;var O="readystatechange";Array.isArray(O)||(O&&(hu[0]=O.toString()),O=hu);for(var U=0;U<O.length;U++){var Y=$n(f,O[U],x||h.handleEvent,!1,h.h||h);if(!Y)break;h.g[Y.key]=Y}h=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),pe(),ve(a.i,a.u,a.A,a.l,a.R,a.m)}bt.prototype.ca=function(a){a=a.target;const h=this.M;h&&ur(a)==3?h.j():this.Y(a)},bt.prototype.Y=function(a){try{if(a==this.g)e:{const Ot=ur(this.g);var h=this.g.Ba();const ks=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||uy(this.g)))){this.J||Ot!=4||h==7||(h==8||0>=ks?pe(3):pe(2)),ia(this);var f=this.g.Z();this.X=f;t:if(Re(this)){var x=uy(this.g);a="";var O=x.length,U=ur(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bi(this),sa(this);var Y="";break t}this.h.i=new l.TextDecoder}for(h=0;h<O;h++)this.h.h=!0,a+=this.h.i.decode(x[h],{stream:!(U&&h==O-1)});x.length=0,this.h.g+=a,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=f==200,Ve(this.i,this.u,this.A,this.l,this.R,Ot,f),this.o){if(this.T&&!this.K){t:{if(this.g){var je,xt=this.g;if((je=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(je)){var Ne=je;break t}}Ne=null}if(f=Ne)We(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lh(this,f);else{this.o=!1,this.s=3,ne(12),Bi(this),sa(this);break e}}if(this.P){f=!0;let Cn;for(;!this.J&&this.C<Y.length;)if(Cn=be(this,Y),Cn==Fi){Ot==4&&(this.s=4,ne(14),f=!1),We(this.i,this.l,null,"[Incomplete Response]");break}else if(Cn==Br){this.s=4,ne(15),We(this.i,this.l,Y,"[Invalid Chunk]"),f=!1;break}else We(this.i,this.l,Cn,null),lh(this,Cn);if(Re(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||Y.length!=0||this.h.h||(this.s=1,ne(16),f=!1),this.o=this.o&&f,!f)We(this.i,this.l,Y,"[Invalid Chunked Response]"),Bi(this),sa(this);else if(0<Y.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),ph(Lt),Lt.M=!0,ne(11))}}else We(this.i,this.l,Y,null),lh(this,Y);Ot==4&&Bi(this),this.o&&!this.J&&(Ot==4?gy(this.j,this):(this.o=!1,gt(this)))}else LS(this.g),f==400&&0<Y.indexOf("Unknown SID")?(this.s=3,ne(12)):(this.s=0,ne(13)),Bi(this),sa(this)}}}catch{}finally{}};function Re(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function be(a,h){var f=a.C,x=h.indexOf(`
`,f);return x==-1?Fi:(f=Number(h.substring(f,x)),isNaN(f)?Br:(x+=1,x+f>h.length?Fi:(h=h.slice(x,x+f),a.C=x+f,h)))}bt.prototype.cancel=function(){this.J=!0,Bi(this)};function gt(a){a.S=Date.now()+a.I,zi(a,a.I)}function zi(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=_e(m(a.ba,a),h)}function ia(a){a.B&&(l.clearTimeout(a.B),a.B=null)}bt.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(Wt(this.i,this.A),this.L!=2&&(pe(),ne(17)),Bi(this),this.s=2,sa(this)):zi(this,this.S-a)};function sa(a){a.j.G==0||a.J||gy(a.j,a)}function Bi(a){ia(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,Zo(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function lh(a,h){try{var f=a.j;if(f.G!=0&&(f.g==a||uh(f.h,a))){if(!a.K&&uh(f.h,a)&&f.G==3){try{var x=f.Da.g.parse(h)}catch{x=null}if(Array.isArray(x)&&x.length==3){var O=x;if(O[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)Iu(f),wu(f);else break e;fh(f),ne(18)}}else f.za=O[1],0<f.za-f.T&&37500>O[2]&&f.F&&f.v==0&&!f.C&&(f.C=_e(m(f.Za,f),6e3));if(1>=Kg(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Hi(f,11)}else if((a.K||f.g==a)&&Iu(f),!v(h))for(O=f.Da.g.parse(h),h=0;h<O.length;h++){let Ne=O[h];if(f.T=Ne[0],Ne=Ne[1],f.G==2)if(Ne[0]=="c"){f.K=Ne[1],f.ia=Ne[2];const Lt=Ne[3];Lt!=null&&(f.la=Lt,f.j.info("VER="+f.la));const Ot=Ne[4];Ot!=null&&(f.Aa=Ot,f.j.info("SVER="+f.Aa));const ks=Ne[5];ks!=null&&typeof ks=="number"&&0<ks&&(x=1.5*ks,f.L=x,f.j.info("backChannelRequestTimeoutMs_="+x)),x=f;const Cn=a.g;if(Cn){const xu=Cn.g?Cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xu){var U=x.h;U.g||xu.indexOf("spdy")==-1&&xu.indexOf("quic")==-1&&xu.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(ch(U,U.h),U.h=null))}if(x.D){const mh=Cn.g?Cn.g.getResponseHeader("X-HTTP-Session-Id"):null;mh&&(x.ya=mh,ze(x.I,x.D,mh))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),x=f;var Y=a;if(x.qa=_y(x,x.J?x.ia:null,x.W),Y.K){qg(x.h,Y);var je=Y,xt=x.L;xt&&(je.I=xt),je.B&&(ia(je),gt(je)),x.g=Y}else py(x);0<f.i.length&&Tu(f)}else Ne[0]!="stop"&&Ne[0]!="close"||Hi(f,7);else f.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?Hi(f,7):hh(f):Ne[0]!="noop"&&f.l&&f.l.ta(Ne),f.v=0)}}pe(4)}catch{}}var vS=class{constructor(a,h){this.g=a,this.map=h}};function Wg(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gg(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Kg(a){return a.h?1:a.g?a.g.size:0}function uh(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function ch(a,h){a.g?a.g.add(h):a.h=h}function qg(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}Wg.prototype.cancel=function(){if(this.i=Qg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Qg(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const f of a.g.values())h=h.concat(f.D);return h}return T(a.i)}function _S(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var h=[],f=a.length,x=0;x<f;x++)h.push(a[x]);return h}h=[],f=0;for(x in a)h[f++]=a[x];return h}function ES(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var h=[];a=a.length;for(var f=0;f<a;f++)h.push(f);return h}h=[],f=0;for(const x in a)h[f++]=x;return h}}}function Yg(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var f=ES(a),x=_S(a),O=x.length,U=0;U<O;U++)h.call(void 0,x[U],f&&f[U],a)}var Xg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wS(a,h){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var x=a[f].indexOf("="),O=null;if(0<=x){var U=a[f].substring(0,x);O=a[f].substring(x+1)}else U=a[f];h(U,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function $i(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof $i){this.h=a.h,mu(this,a.j),this.o=a.o,this.g=a.g,gu(this,a.s),this.l=a.l;var h=a.i,f=new la;f.i=h.i,h.g&&(f.g=new Map(h.g),f.h=h.h),Jg(this,f),this.m=a.m}else a&&(h=String(a).match(Xg))?(this.h=!1,mu(this,h[1]||"",!0),this.o=oa(h[2]||""),this.g=oa(h[3]||"",!0),gu(this,h[4]),this.l=oa(h[5]||"",!0),Jg(this,h[6]||"",!0),this.m=oa(h[7]||"")):(this.h=!1,this.i=new la(null,this.h))}$i.prototype.toString=function(){var a=[],h=this.j;h&&a.push(aa(h,Zg,!0),":");var f=this.g;return(f||h=="file")&&(a.push("//"),(h=this.o)&&a.push(aa(h,Zg,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(aa(f,f.charAt(0)=="/"?SS:IS,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",aa(f,AS)),a.join("")};function lr(a){return new $i(a)}function mu(a,h,f){a.j=f?oa(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function gu(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function Jg(a,h,f){h instanceof la?(a.i=h,RS(a.i,a.h)):(f||(h=aa(h,xS)),a.i=new la(h,a.h))}function ze(a,h,f){a.i.set(h,f)}function yu(a){return ze(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function oa(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function aa(a,h,f){return typeof a=="string"?(a=encodeURI(a).replace(h,TS),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function TS(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Zg=/[#\/\?@]/g,IS=/[#\?:]/g,SS=/[#\?]/g,xS=/[#\?@]/g,AS=/#/g;function la(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function $r(a){a.g||(a.g=new Map,a.h=0,a.i&&wS(a.i,function(h,f){a.add(decodeURIComponent(h.replace(/\+/g," ")),f)}))}t=la.prototype,t.add=function(a,h){$r(this),this.i=null,a=Cs(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(h),this.h+=1,this};function ey(a,h){$r(a),h=Cs(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function ty(a,h){return $r(a),h=Cs(a,h),a.g.has(h)}t.forEach=function(a,h){$r(this),this.g.forEach(function(f,x){f.forEach(function(O){a.call(h,O,x,this)},this)},this)},t.na=function(){$r(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),f=[];for(let x=0;x<h.length;x++){const O=a[x];for(let U=0;U<O.length;U++)f.push(h[x])}return f},t.V=function(a){$r(this);let h=[];if(typeof a=="string")ty(this,a)&&(h=h.concat(this.g.get(Cs(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)h=h.concat(a[f])}return h},t.set=function(a,h){return $r(this),this.i=null,a=Cs(this,a),ty(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function ny(a,h,f){ey(a,h),0<f.length&&(a.i=null,a.g.set(Cs(a,h),T(f)),a.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var f=0;f<h.length;f++){var x=h[f];const U=encodeURIComponent(String(x)),Y=this.V(x);for(x=0;x<Y.length;x++){var O=U;Y[x]!==""&&(O+="="+encodeURIComponent(String(Y[x]))),a.push(O)}}return this.i=a.join("&")};function Cs(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function RS(a,h){h&&!a.j&&($r(a),a.i=null,a.g.forEach(function(f,x){var O=x.toLowerCase();x!=O&&(ey(this,x),ny(this,O,f))},a)),a.j=h}function PS(a,h){const f=new He;if(l.Image){const x=new Image;x.onload=w(Hr,f,"TestLoadImage: loaded",!0,h,x),x.onerror=w(Hr,f,"TestLoadImage: error",!1,h,x),x.onabort=w(Hr,f,"TestLoadImage: abort",!1,h,x),x.ontimeout=w(Hr,f,"TestLoadImage: timeout",!1,h,x),l.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=a}else h(!1)}function CS(a,h){const f=new He,x=new AbortController,O=setTimeout(()=>{x.abort(),Hr(f,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:x.signal}).then(U=>{clearTimeout(O),U.ok?Hr(f,"TestPingServer: ok",!0,h):Hr(f,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(O),Hr(f,"TestPingServer: error",!1,h)})}function Hr(a,h,f,x,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),x(f)}catch{}}function NS(){this.g=new ea}function kS(a,h,f){const x=f||"";try{Yg(a,function(O,U){let Y=O;c(O)&&(Y=Ur(O)),h.push(x+U+"="+encodeURIComponent(Y))})}catch(O){throw h.push(x+"type="+encodeURIComponent("_badmap")),O}}function vu(a){this.l=a.Ub||null,this.j=a.eb||!1}A(vu,ta),vu.prototype.g=function(){return new _u(this.l,this.j)},vu.prototype.i=function(a){return function(){return a}}({});function _u(a,h){mt.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(_u,mt),t=_u.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,ca(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ua(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ca(this)),this.g&&(this.readyState=3,ca(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ry(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function ry(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?ua(this):ca(this),this.readyState==3&&ry(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,ua(this))},t.Qa=function(a){this.g&&(this.response=a,ua(this))},t.ga=function(){this.g&&ua(this)};function ua(a){a.readyState=4,a.l=null,a.j=null,a.v=null,ca(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var f=h.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=h.next();return a.join(`\r
`)};function ca(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(_u.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function iy(a){let h="";return D(a,function(f,x){h+=x,h+=":",h+=f,h+=`\r
`}),h}function dh(a,h,f){e:{for(x in f){var x=!1;break e}x=!0}x||(f=iy(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):ze(a,h,f))}function et(a){mt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(et,mt);var DS=/^https?$/i,bS=["POST","PUT"];t=et.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,f,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hn.g(),this.v=this.o?na(this.o):na(Hn),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(U){sy(this,U);return}if(a=f||"",f=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var O in x)f.set(O,x[O]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const U of x.keys())f.set(U,x.get(U));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(f.keys()).find(U=>U.toLowerCase()=="content-type"),O=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(bS,h,void 0))||x||O||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,Y]of f)this.g.setRequestHeader(U,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ly(this),this.u=!0,this.g.send(a),this.u=!1}catch(U){sy(this,U)}};function sy(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,oy(a),Eu(a)}function oy(a){a.A||(a.A=!0,lt(a,"complete"),lt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,lt(this,"complete"),lt(this,"abort"),Eu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Eu(this,!0)),et.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ay(this):this.bb())},t.bb=function(){ay(this)};function ay(a){if(a.h&&typeof o<"u"&&(!a.v[1]||ur(a)!=4||a.Z()!=2)){if(a.u&&ur(a)==4)Rn(a.Ea,0,a);else if(lt(a,"readystatechange"),ur(a)==4){a.h=!1;try{const Y=a.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var f;if(!(f=h)){var x;if(x=Y===0){var O=String(a.D).match(Xg)[1]||null;!O&&l.self&&l.self.location&&(O=l.self.location.protocol.slice(0,-1)),x=!DS.test(O?O.toLowerCase():"")}f=x}if(f)lt(a,"complete"),lt(a,"success");else{a.m=6;try{var U=2<ur(a)?a.g.statusText:""}catch{U=""}a.l=U+" ["+a.Z()+"]",oy(a)}}finally{Eu(a)}}}}function Eu(a,h){if(a.g){ly(a);const f=a.g,x=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||lt(a,"ready");try{f.onreadystatechange=x}catch{}}}function ly(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function ur(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<ur(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),fu(h)}};function uy(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function LS(a){const h={};a=(a.g&&2<=ur(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<a.length;x++){if(v(a[x]))continue;var f=C(a[x]);const O=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const U=h[O]||[];h[O]=U,U.push(f)}_(h,function(x){return x.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function da(a,h,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||h}function cy(a){this.Aa=0,this.i=[],this.j=new He,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=da("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=da("baseRetryDelayMs",5e3,a),this.cb=da("retryDelaySeedMs",1e4,a),this.Wa=da("forwardChannelMaxRetries",2,a),this.wa=da("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Wg(a&&a.concurrentRequestLimit),this.Da=new NS,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=cy.prototype,t.la=8,t.G=1,t.connect=function(a,h,f,x){ne(0),this.W=a,this.H=h||{},f&&x!==void 0&&(this.H.OSID=f,this.H.OAID=x),this.F=this.X,this.I=_y(this,null,this.W),Tu(this)};function hh(a){if(dy(a),a.G==3){var h=a.U++,f=lr(a.I);if(ze(f,"SID",a.K),ze(f,"RID",h),ze(f,"TYPE","terminate"),ha(a,f),h=new bt(a,a.j,h),h.L=2,h.v=yu(lr(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=h.v,f=!0),f||(h.g=Ey(h.j,null),h.g.ea(h.v)),h.F=Date.now(),gt(h)}vy(a)}function wu(a){a.g&&(ph(a),a.g.cancel(),a.g=null)}function dy(a){wu(a),a.u&&(l.clearTimeout(a.u),a.u=null),Iu(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Tu(a){if(!Gg(a.h)&&!a.s){a.s=!0;var h=a.Ga;X||z(),F||(X(),F=!0),$.add(h,a),a.B=0}}function OS(a,h){return Kg(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=_e(m(a.Ga,a,h),yy(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const O=new bt(this,this.j,a);let U=this.o;if(this.S&&(U?(U=y(U),P(U,this.S)):U=this.S),this.m!==null||this.O||(O.H=U,U=null),this.P)e:{for(var h=0,f=0;f<this.i.length;f++){t:{var x=this.i[f];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(h+=x,4096<h){h=f;break e}if(h===4096||f===this.i.length-1){h=f+1;break e}}h=1e3}else h=1e3;h=fy(this,O,h),f=lr(this.I),ze(f,"RID",a),ze(f,"CVER",22),this.D&&ze(f,"X-HTTP-Session-Id",this.D),ha(this,f),U&&(this.O?h="headers="+encodeURIComponent(String(iy(U)))+"&"+h:this.m&&dh(f,this.m,U)),ch(this.h,O),this.Ua&&ze(f,"TYPE","init"),this.P?(ze(f,"$req",h),ze(f,"SID","null"),O.T=!0,Wn(O,f,null)):Wn(O,f,h),this.G=2}}else this.G==3&&(a?hy(this,a):this.i.length==0||Gg(this.h)||hy(this))};function hy(a,h){var f;h?f=h.l:f=a.U++;const x=lr(a.I);ze(x,"SID",a.K),ze(x,"RID",f),ze(x,"AID",a.T),ha(a,x),a.m&&a.o&&dh(x,a.m,a.o),f=new bt(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),h&&(a.i=h.D.concat(a.i)),h=fy(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),ch(a.h,f),Wn(f,x,h)}function ha(a,h){a.H&&D(a.H,function(f,x){ze(h,x,f)}),a.l&&Yg({},function(f,x){ze(h,x,f)})}function fy(a,h,f){f=Math.min(a.i.length,f);var x=a.l?m(a.l.Na,a.l,a):null;e:{var O=a.i;let U=-1;for(;;){const Y=["count="+f];U==-1?0<f?(U=O[0].g,Y.push("ofs="+U)):U=0:Y.push("ofs="+U);let je=!0;for(let xt=0;xt<f;xt++){let Ne=O[xt].g;const Lt=O[xt].map;if(Ne-=U,0>Ne)U=Math.max(0,O[xt].g-100),je=!1;else try{kS(Lt,Y,"req"+Ne+"_")}catch{x&&x(Lt)}}if(je){x=Y.join("&");break e}}}return a=a.i.splice(0,f),h.D=a,x}function py(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;X||z(),F||(X(),F=!0),$.add(h,a),a.v=0}}function fh(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=_e(m(a.Fa,a),yy(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,my(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=_e(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ne(10),wu(this),my(this))};function ph(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function my(a){a.g=new bt(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=lr(a.qa);ze(h,"RID","rpc"),ze(h,"SID",a.K),ze(h,"AID",a.T),ze(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&ze(h,"TO",a.ja),ze(h,"TYPE","xmlhttp"),ha(a,h),a.m&&a.o&&dh(h,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=yu(lr(h)),f.m=null,f.P=!0,Ui(f,a)}t.Za=function(){this.C!=null&&(this.C=null,wu(this),fh(this),ne(19))};function Iu(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function gy(a,h){var f=null;if(a.g==h){Iu(a),ph(a),a.g=null;var x=2}else if(uh(a.h,h))f=h.D,qg(a.h,h),x=1;else return;if(a.G!=0){if(h.o)if(x==1){f=h.m?h.m.length:0,h=Date.now()-h.F;var O=a.B;x=Q(),lt(x,new oe(x,f)),Tu(a)}else py(a);else if(O=h.s,O==3||O==0&&0<h.X||!(x==1&&OS(a,h)||x==2&&fh(a)))switch(f&&0<f.length&&(h=a.h,h.i=h.i.concat(f)),O){case 1:Hi(a,5);break;case 4:Hi(a,10);break;case 3:Hi(a,6);break;default:Hi(a,2)}}}function yy(a,h){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*h}function Hi(a,h){if(a.j.info("Error code "+h),h==2){var f=m(a.fb,a),x=a.Xa;const O=!x;x=new $i(x||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||mu(x,"https"),yu(x),O?PS(x.toString(),f):CS(x.toString(),f)}else ne(2);a.G=0,a.l&&a.l.sa(h),vy(a),dy(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ne(2)):(this.j.info("Failed to ping google.com"),ne(1))};function vy(a){if(a.G=0,a.ka=[],a.l){const h=Qg(a.h);(h.length!=0||a.i.length!=0)&&(N(a.ka,h),N(a.ka,a.i),a.h.i.length=0,T(a.i),a.i.length=0),a.l.ra()}}function _y(a,h,f){var x=f instanceof $i?lr(f):new $i(f);if(x.g!="")h&&(x.g=h+"."+x.g),gu(x,x.s);else{var O=l.location;x=O.protocol,h=h?h+"."+O.hostname:O.hostname,O=+O.port;var U=new $i(null);x&&mu(U,x),h&&(U.g=h),O&&gu(U,O),f&&(U.l=f),x=U}return f=a.D,h=a.ya,f&&h&&ze(x,f,h),ze(x,"VER",a.la),ha(a,x),x}function Ey(a,h,f){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new et(new vu({eb:f})):new et(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function wy(){}t=wy.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Su(){}Su.prototype.g=function(a,h){return new sn(a,h)};function sn(a,h){mt.call(this),this.g=new cy(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!v(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!v(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new Ns(this)}A(sn,mt),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){hh(this.g)},sn.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=Ur(a),a=f);h.i.push(new vS(h.Ya++,a)),h.G==3&&Tu(h)},sn.prototype.N=function(){this.g.l=null,delete this.j,hh(this.g),delete this.g,sn.aa.N.call(this)};function Ty(a){ra.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const f in h){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}A(Ty,ra);function Iy(){L.call(this),this.status=1}A(Iy,L);function Ns(a){this.g=a}A(Ns,wy),Ns.prototype.ua=function(){lt(this.g,"a")},Ns.prototype.ta=function(a){lt(this.g,new Ty(a))},Ns.prototype.sa=function(a){lt(this.g,new Iy)},Ns.prototype.ra=function(){lt(this.g,"b")},Su.prototype.createWebChannel=Su.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,l1=function(){return new Su},a1=function(){return Q()},o1=V,fp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pn.NO_ERROR=0,Pn.TIMEOUT=8,Pn.HTTP_ERROR=6,hc=Pn,Rs.COMPLETE="complete",s1=Rs,pu.EventType=zr,zr.OPEN="a",zr.CLOSE="b",zr.ERROR="c",zr.MESSAGE="d",mt.prototype.listen=mt.prototype.K,ba=pu,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,i1=et}).apply(typeof Hu<"u"?Hu:typeof self<"u"?self:typeof window<"u"?window:{});const N_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new Mm("@firebase/firestore");function Aa(){return ps.logLevel}function ie(t,...e){if(ps.logLevel<=Ae.DEBUG){const n=e.map(qm);ps.debug(`Firestore (${Bo}): ${t}`,...n)}}function kr(t,...e){if(ps.logLevel<=Ae.ERROR){const n=e.map(qm);ps.error(`Firestore (${Bo}): ${t}`,...n)}}function xo(t,...e){if(ps.logLevel<=Ae.WARN){const n=e.map(qm);ps.warn(`Firestore (${Bo}): ${t}`,...n)}}function qm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t="Unexpected state"){const e=`FIRESTORE (${Bo}) INTERNAL ASSERTION FAILED: `+t;throw kr(e),new Error(e)}function Oe(t,e){t||fe()}function ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class O2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ft.UNAUTHENTICATED))}shutdown(){}}class M2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class V2{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Oe(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new vi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new vi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new vi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Oe(typeof r.accessToken=="string"),new u1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string"),new Ft(e)}}class j2{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class F2{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new j2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class U2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class z2{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Oe(this.o===void 0);const r=s=>{s.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ie("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Oe(typeof n.token=="string"),this.R=n.token,new U2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=B2(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ke(t,e){return t<e?-1:t>e?1:0}function Ao(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ae(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new wt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new me(e)}static min(){return new me(new wt(0,0))}static max(){return new me(new wt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n,r){n===void 0?n=0:n>e.length&&fe(),r===void 0?r=e.length-n:r>e.length-n&&fe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Il.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Il?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ke extends Il{construct(e,n,r){return new Ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ke(n)}static emptyPath(){return new Ke([])}}const $2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pt extends Il{construct(e,n,r){return new Pt(e,n,r)}static isValidIdentifier(e){return $2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Pt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ae(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ae(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ae(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new ae(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pt(n)}static emptyPath(){return new Pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(Ke.fromString(e))}static fromName(e){return new le(Ke.fromString(e).popFirst(5))}static empty(){return new le(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new Ke(e.slice()))}}function H2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=me.fromTimestamp(r===1e9?new wt(n+1,0):new wt(n,r));return new Ti(i,le.empty(),e)}function W2(t){return new Ti(t.readTime,t.key,-1)}class Ti{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ti(me.min(),le.empty(),-1)}static max(){return new Ti(me.max(),le.empty(),-1)}}function G2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=le.comparator(t.documentKey,e.documentKey),n!==0?n:ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class q2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(t){if(t.code!==W.FAILED_PRECONDITION||t.message!==K2)throw t;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(i=>i?H.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new H((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++l,l===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new H((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Q2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Qm.oe=-1;function Fd(t){return t==null}function rd(t){return t===0&&1/t==-1/0}function Y2(t){return typeof t=="number"&&Number.isInteger(t)&&!rd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $o(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function d1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new Xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new Xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wu(this.root,e,this.comparator,!0)}}class Wu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Rt.RED,this.left=i??Rt.EMPTY,this.right=s??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Rt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Rt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();const e=this.left.check();if(e!==this.right.check())throw fe();return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1;Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new D_(this.data.getIterator())}getIteratorFrom(e){return new D_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class D_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new Mn([])}unionWith(e){let n=new Nt(Pt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ao(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new h1("Invalid base64 string: "+s):s}}(e);return new Dt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const X2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ii(t){if(Oe(!!t),typeof t=="string"){let e=0;const n=X2.exec(t);if(Oe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:it(t.seconds),nanos:it(t.nanos)}}function it(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ms(t){return typeof t=="string"?Dt.fromBase64String(t):Dt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Xm(t){const e=t.mapValue.fields.__previous_value__;return Ym(e)?Xm(e):e}function Sl(t){const e=Ii(t.mapValue.fields.__local_write_time__.timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,n,r,i,s,o,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}class xl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new xl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof xl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function gs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ym(t)?4:eD(t)?9007199254740991:Z2(t)?10:11:fe()}function nr(t,e){if(t===e)return!0;const n=gs(t);if(n!==gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sl(t).isEqual(Sl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ii(i.timestampValue),l=Ii(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ms(i.bytesValue).isEqual(ms(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return it(i.geoPointValue.latitude)===it(s.geoPointValue.latitude)&&it(i.geoPointValue.longitude)===it(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return it(i.integerValue)===it(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=it(i.doubleValue),l=it(s.doubleValue);return o===l?rd(o)===rd(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Ao(t.arrayValue.values||[],e.arrayValue.values||[],nr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(k_(o)!==k_(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!nr(o[u],l[u])))return!1;return!0}(t,e);default:return fe()}}function Al(t,e){return(t.values||[]).find(n=>nr(n,e))!==void 0}function Ro(t,e){if(t===e)return 0;const n=gs(t),r=gs(e);if(n!==r)return ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=it(s.integerValue||s.doubleValue),u=it(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return b_(t.timestampValue,e.timestampValue);case 4:return b_(Sl(t),Sl(e));case 5:return ke(t.stringValue,e.stringValue);case 6:return function(s,o){const l=ms(s),u=ms(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let c=0;c<l.length&&c<u.length;c++){const d=ke(l[c],u[c]);if(d!==0)return d}return ke(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=ke(it(s.latitude),it(o.latitude));return l!==0?l:ke(it(s.longitude),it(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return L_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,u,c,d;const p=s.fields||{},m=o.fields||{},w=(l=p.value)===null||l===void 0?void 0:l.arrayValue,A=(u=m.value)===null||u===void 0?void 0:u.arrayValue,T=ke(((c=w==null?void 0:w.values)===null||c===void 0?void 0:c.length)||0,((d=A==null?void 0:A.values)===null||d===void 0?void 0:d.length)||0);return T!==0?T:L_(w,A)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Gu.mapValue&&o===Gu.mapValue)return 0;if(s===Gu.mapValue)return 1;if(o===Gu.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const m=ke(u[p],d[p]);if(m!==0)return m;const w=Ro(l[u[p]],c[d[p]]);if(w!==0)return w}return ke(u.length,d.length)}(t.mapValue,e.mapValue);default:throw fe()}}function b_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ke(t,e);const n=Ii(t),r=Ii(e),i=ke(n.seconds,r.seconds);return i!==0?i:ke(n.nanos,r.nanos)}function L_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ro(n[i],r[i]);if(s)return s}return ke(n.length,r.length)}function Po(t){return pp(t)}function pp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ii(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ms(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return le.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=pp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${pp(n.fields[o])}`;return i+"}"}(t.mapValue):fe()}function mp(t){return!!t&&"integerValue"in t}function Jm(t){return!!t&&"arrayValue"in t}function O_(t){return!!t&&"nullValue"in t}function M_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fc(t){return!!t&&"mapValue"in t}function Z2(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ka(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return $o(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ka(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ka(t.arrayValue.values[n]);return e}return Object.assign({},t)}function eD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!fc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ka(n)}setAll(e){let n=Pt.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Ka(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());fc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return nr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];fc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){$o(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new En(Ka(this.value))}}function f1(t){const e=[];return $o(t.fields,(n,r)=>{const i=new Pt([n]);if(fc(r)){const s=f1(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new zt(e,0,me.min(),me.min(),me.min(),En.empty(),0)}static newFoundDocument(e,n,r,i){return new zt(e,1,n,me.min(),r,i,0)}static newNoDocument(e,n){return new zt(e,2,n,me.min(),me.min(),En.empty(),0)}static newUnknownDocument(e,n){return new zt(e,3,n,me.min(),me.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n){this.position=e,this.inclusive=n}}function V_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=le.comparator(le.fromName(o.referenceValue),n.key):r=Ro(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function j_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!nr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n="asc"){this.field=e,this.dir=n}}function tD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{}class vt extends p1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new rD(e,n,r):n==="array-contains"?new oD(e,r):n==="in"?new aD(e,r):n==="not-in"?new lD(e,r):n==="array-contains-any"?new uD(e,r):new vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new iD(e,r):new sD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ro(n,this.value)):n!==null&&gs(this.value)===gs(n)&&this.matchesComparison(Ro(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rr extends p1{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new rr(e,n)}matches(e){return m1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function m1(t){return t.op==="and"}function g1(t){return nD(t)&&m1(t)}function nD(t){for(const e of t.filters)if(e instanceof rr)return!1;return!0}function gp(t){if(t instanceof vt)return t.field.canonicalString()+t.op.toString()+Po(t.value);if(g1(t))return t.filters.map(e=>gp(e)).join(",");{const e=t.filters.map(n=>gp(n)).join(",");return`${t.op}(${e})`}}function y1(t,e){return t instanceof vt?function(r,i){return i instanceof vt&&r.op===i.op&&r.field.isEqual(i.field)&&nr(r.value,i.value)}(t,e):t instanceof rr?function(r,i){return i instanceof rr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&y1(o,i.filters[l]),!0):!1}(t,e):void fe()}function v1(t){return t instanceof vt?function(n){return`${n.field.canonicalString()} ${n.op} ${Po(n.value)}`}(t):t instanceof rr?function(n){return n.op.toString()+" {"+n.getFilters().map(v1).join(" ,")+"}"}(t):"Filter"}class rD extends vt{constructor(e,n,r){super(e,n,r),this.key=le.fromName(r.referenceValue)}matches(e){const n=le.comparator(e.key,this.key);return this.matchesComparison(n)}}class iD extends vt{constructor(e,n){super(e,"in",n),this.keys=_1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class sD extends vt{constructor(e,n){super(e,"not-in",n),this.keys=_1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function _1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>le.fromName(r.referenceValue))}class oD extends vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jm(n)&&Al(n.arrayValue,this.value)}}class aD extends vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Al(this.value.arrayValue,n)}}class lD extends vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Al(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Al(this.value.arrayValue,n)}}class uD extends vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Al(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function F_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new cD(t,e,n,r,i,s,o)}function Zm(t){const e=ge(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>gp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Fd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Po(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Po(r)).join(",")),e.ue=n}return e.ue}function eg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!tD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!y1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!j_(t.startAt,e.startAt)&&j_(t.endAt,e.endAt)}function yp(t){return le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function dD(t,e,n,r,i,s,o,l){return new Ud(t,e,n,r,i,s,o,l)}function tg(t){return new Ud(t)}function U_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hD(t){return t.collectionGroup!==null}function qa(t){const e=ge(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Nt(Pt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new sd(s,r))}),n.has(Pt.keyField().canonicalString())||e.ce.push(new sd(Pt.keyField(),r))}return e.ce}function er(t){const e=ge(t);return e.le||(e.le=fD(e,qa(t))),e.le}function fD(t,e){if(t.limitType==="F")return F_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new sd(i.field,s)});const n=t.endAt?new id(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new id(t.startAt.position,t.startAt.inclusive):null;return F_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function vp(t,e,n){return new Ud(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zd(t,e){return eg(er(t),er(e))&&t.limitType===e.limitType}function E1(t){return`${Zm(er(t))}|lt:${t.limitType}`}function Ls(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>v1(i)).join(", ")}]`),Fd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Po(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Po(i)).join(",")),`Target(${r})`}(er(t))}; limitType=${t.limitType})`}function Bd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):le.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of qa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,u){const c=V_(o,l,u);return o.inclusive?c<=0:c<0}(r.startAt,qa(r),i)||r.endAt&&!function(o,l,u){const c=V_(o,l,u);return o.inclusive?c>=0:c>0}(r.endAt,qa(r),i))}(t,e)}function pD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function w1(t){return(e,n)=>{let r=!1;for(const i of qa(t)){const s=mD(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function mD(t,e,n){const r=t.field.isKeyField()?le.comparator(e.key,n.key):function(s,o,l){const u=o.data.field(s),c=l.data.field(s);return u!==null&&c!==null?Ro(u,c):fe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){$o(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return d1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=new Xe(le.comparator);function Dr(){return gD}const T1=new Xe(le.comparator);function La(...t){let e=T1;for(const n of t)e=e.insert(n.key,n);return e}function I1(t){let e=T1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function es(){return Qa()}function S1(){return Qa()}function Qa(){return new Ho(t=>t.toString(),(t,e)=>t.isEqual(e))}const yD=new Xe(le.comparator),vD=new Nt(le.comparator);function Se(...t){let e=vD;for(const n of t)e=e.add(n);return e}const _D=new Nt(ke);function ED(){return _D}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rd(e)?"-0":e}}function x1(t){return{integerValue:""+t}}function wD(t,e){return Y2(e)?x1(e):ng(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(){this._=void 0}}function TD(t,e,n){return t instanceof od?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Ym(s)&&(s=Xm(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Rl?R1(t,e):t instanceof Pl?P1(t,e):function(i,s){const o=A1(i,s),l=z_(o)+z_(i.Pe);return mp(o)&&mp(i.Pe)?x1(l):ng(i.serializer,l)}(t,e)}function ID(t,e,n){return t instanceof Rl?R1(t,e):t instanceof Pl?P1(t,e):n}function A1(t,e){return t instanceof ad?function(r){return mp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class od extends $d{}class Rl extends $d{constructor(e){super(),this.elements=e}}function R1(t,e){const n=C1(e);for(const r of t.elements)n.some(i=>nr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Pl extends $d{constructor(e){super(),this.elements=e}}function P1(t,e){let n=C1(e);for(const r of t.elements)n=n.filter(i=>!nr(i,r));return{arrayValue:{values:n}}}class ad extends $d{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function z_(t){return it(t.integerValue||t.doubleValue)}function C1(t){return Jm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function SD(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Rl&&i instanceof Rl||r instanceof Pl&&i instanceof Pl?Ao(r.elements,i.elements,nr):r instanceof ad&&i instanceof ad?nr(r.Pe,i.Pe):r instanceof od&&i instanceof od}(t.transform,e.transform)}class xD{constructor(e,n){this.version=e,this.transformResults=n}}class Ir{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ir}static exists(e){return new Ir(void 0,e)}static updateTime(e){return new Ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hd{}function N1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new D1(t.key,Ir.none()):new Xl(t.key,t.data,Ir.none());{const n=t.data,r=En.empty();let i=new Nt(Pt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Is(t.key,r,new Mn(i.toArray()),Ir.none())}}function AD(t,e,n){t instanceof Xl?function(i,s,o){const l=i.value.clone(),u=$_(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Is?function(i,s,o){if(!pc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=$_(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(k1(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ya(t,e,n,r){return t instanceof Xl?function(s,o,l,u){if(!pc(s.precondition,o))return l;const c=s.value.clone(),d=H_(s.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Is?function(s,o,l,u){if(!pc(s.precondition,o))return l;const c=H_(s.fieldTransforms,u,o),d=o.data;return d.setAll(k1(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,l){return pc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function RD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=A1(r.transform,i||null);s!=null&&(n===null&&(n=En.empty()),n.set(r.field,s))}return n||null}function B_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ao(r,i,(s,o)=>SD(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xl extends Hd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Is extends Hd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function k1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function $_(t,e,n){const r=new Map;Oe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,ID(o,l,n[i]))}return r}function H_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,TD(s,o,e))}return r}class D1 extends Hd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PD extends Hd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&AD(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ya(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ya(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=S1();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=N1(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Se())}isEqual(e){return this.batchId===e.batchId&&Ao(this.mutations,e.mutations,(n,r)=>B_(n,r))&&Ao(this.baseMutations,e.baseMutations,(n,r)=>B_(n,r))}}class rg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Oe(e.mutations.length===r.length);let i=function(){return yD}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new rg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,Pe;function DD(t){switch(t){default:return fe();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function b1(t){if(t===void 0)return kr("GRPC error has no .code"),W.UNKNOWN;switch(t){case ct.OK:return W.OK;case ct.CANCELLED:return W.CANCELLED;case ct.UNKNOWN:return W.UNKNOWN;case ct.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case ct.INTERNAL:return W.INTERNAL;case ct.UNAVAILABLE:return W.UNAVAILABLE;case ct.UNAUTHENTICATED:return W.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case ct.NOT_FOUND:return W.NOT_FOUND;case ct.ALREADY_EXISTS:return W.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return W.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case ct.ABORTED:return W.ABORTED;case ct.OUT_OF_RANGE:return W.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return W.UNIMPLEMENTED;case ct.DATA_LOSS:return W.DATA_LOSS;default:return fe()}}(Pe=ct||(ct={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=new rs([4294967295,4294967295],0);function W_(t){const e=bD().encode(t),n=new r1;return n.update(e),new Uint8Array(n.digest())}function G_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new rs([n,r],0),new rs([i,s],0)]}class ig{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Oa(`Invalid padding: ${n}`);if(r<0)throw new Oa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Oa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Oa(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=rs.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(rs.fromNumber(r)));return i.compare(LD)===1&&(i=new rs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=W_(e),[r,i]=G_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new ig(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=W_(e),[r,i]=G_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Oa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Jl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wd(me.min(),i,new Xe(ke),Dr(),Se())}}class Jl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Jl(r,n,Se(),Se(),Se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class L1{constructor(e,n){this.targetId=e,this.me=n}}class O1{constructor(e,n,r=Dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class K_{constructor(){this.fe=0,this.ge=Q_(),this.pe=Dt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Se(),n=Se(),r=Se();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:fe()}}),new Jl(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Q_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Oe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class OD{constructor(e){this.Le=e,this.Be=new Map,this.ke=Dr(),this.qe=q_(),this.Qe=new Xe(ke)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:fe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(yp(s))if(r===0){const o=new le(s.path);this.Ue(n,o,zt.newNoDocument(o,me.min()))}else Oe(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),u=l?this.Xe(l,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=ms(r).toUint8Array()}catch(u){if(u instanceof h1)return xo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new ig(o,i,s)}catch(u){return xo(u instanceof Oa?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&yp(l.target)){const u=new le(l.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,zt.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Se();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Wd(e,n,this.Qe,this.ke,r);return this.ke=Dr(),this.qe=q_(),this.Qe=new Xe(ke),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new K_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Nt(ke),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ie("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new K_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function q_(){return new Xe(le.comparator)}function Q_(){return new Xe(le.comparator)}const MD={asc:"ASCENDING",desc:"DESCENDING"},VD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jD={and:"AND",or:"OR"};class FD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _p(t,e){return t.useProto3Json||Fd(e)?e:{value:e}}function ld(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function M1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function UD(t,e){return ld(t,e.toTimestamp())}function tr(t){return Oe(!!t),me.fromTimestamp(function(n){const r=Ii(n);return new wt(r.seconds,r.nanos)}(t))}function sg(t,e){return Ep(t,e).canonicalString()}function Ep(t,e){const n=function(i){return new Ke(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function V1(t){const e=Ke.fromString(t);return Oe(B1(e)),e}function wp(t,e){return sg(t.databaseId,e.path)}function Jh(t,e){const n=V1(e);if(n.get(1)!==t.databaseId.projectId)throw new ae(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ae(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new le(F1(n))}function j1(t,e){return sg(t.databaseId,e)}function zD(t){const e=V1(t);return e.length===4?Ke.emptyPath():F1(e)}function Tp(t){return new Ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function F1(t){return Oe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Y_(t,e,n){return{name:wp(t,e),fields:n.value.mapValue.fields}}function BD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Oe(d===void 0||typeof d=="string"),Dt.fromBase64String(d||"")):(Oe(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Dt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(c){const d=c.code===void 0?W.UNKNOWN:b1(c.code);return new ae(d,c.message||"")}(o);n=new O1(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Jh(t,r.document.name),s=tr(r.document.updateTime),o=r.document.createTime?tr(r.document.createTime):me.min(),l=new En({mapValue:{fields:r.document.fields}}),u=zt.newFoundDocument(i,s,o,l),c=r.targetIds||[],d=r.removedTargetIds||[];n=new mc(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Jh(t,r.document),s=r.readTime?tr(r.readTime):me.min(),o=zt.newNoDocument(i,s),l=r.removedTargetIds||[];n=new mc([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Jh(t,r.document),s=r.removedTargetIds||[];n=new mc([],s,i,null)}else{if(!("filter"in e))return fe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new kD(i,s),l=r.targetId;n=new L1(l,o)}}return n}function $D(t,e){let n;if(e instanceof Xl)n={update:Y_(t,e.key,e.value)};else if(e instanceof D1)n={delete:wp(t,e.key)};else if(e instanceof Is)n={update:Y_(t,e.key,e.data),updateMask:JD(e.fieldMask)};else{if(!(e instanceof PD))return fe();n={verify:wp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof od)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Rl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Pl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ad)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw fe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:UD(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:fe()}(t,e.precondition)),n}function HD(t,e){return t&&t.length>0?(Oe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?tr(i.updateTime):tr(s);return o.isEqual(me.min())&&(o=tr(s)),new xD(o,i.transformResults||[])}(n,e))):[]}function WD(t,e){return{documents:[j1(t,e.path)]}}function GD(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=j1(t,i);const s=function(c){if(c.length!==0)return z1(rr.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(m){return{field:Os(m.field),direction:QD(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=_p(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function KD(t){let e=zD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Oe(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(p){const m=U1(p);return m instanceof rr&&g1(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(A){return new sd(Ms(A.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,Fd(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){const m=!!p.before,w=p.values||[];return new id(w,m)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const m=!p.before,w=p.values||[];return new id(w,m)}(n.endAt)),dD(e,i,o,s,l,"F",u,c)}function qD(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function U1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ms(n.unaryFilter.field);return vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ms(n.unaryFilter.field);return vt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ms(n.unaryFilter.field);return vt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ms(n.unaryFilter.field);return vt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}(t):t.fieldFilter!==void 0?function(n){return vt.create(Ms(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return rr.create(n.compositeFilter.filters.map(r=>U1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return fe()}}(n.compositeFilter.op))}(t):fe()}function QD(t){return MD[t]}function YD(t){return VD[t]}function XD(t){return jD[t]}function Os(t){return{fieldPath:t.canonicalString()}}function Ms(t){return Pt.fromServerFormat(t.fieldPath)}function z1(t){return t instanceof vt?function(n){if(n.op==="=="){if(M_(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NAN"}};if(O_(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(M_(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NOT_NAN"}};if(O_(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Os(n.field),op:YD(n.op),value:n.value}}}(t):t instanceof rr?function(n){const r=n.getFilters().map(i=>z1(i));return r.length===1?r[0]:{compositeFilter:{op:XD(n.op),filters:r}}}(t):fe()}function JD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function B1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,n,r,i,s=me.min(),o=me.min(),l=Dt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new si(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new si(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this.ct=e}}function eb(t){const e=KD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(){this.un=new nb}addToCollectionParentIndex(e,n){return this.un.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(Ti.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(Ti.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class nb{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Nt(Ke.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Nt(Ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Co(0)}static kn(){return new Co(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(){this.changes=new Ho(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ya(r.mutation,i,Mn.empty(),wt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Se()){const i=es();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=La();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=es();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Se()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=Dr();const o=Qa(),l=function(){return Qa()}();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Is)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Ya(d.mutation,c,d.mutation.getFieldMask(),wt.now())):o.set(c.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var p;return l.set(c,new ib(d,(p=o.get(c))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Qa();let i=new Xe((o,l)=>o-l),s=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||Mn.empty();d=l.applyToLocalView(c,d),r.set(u,d);const p=(i.get(l.batchId)||Se()).add(u);i=i.insert(l.batchId,p)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,d=u.value,p=S1();d.forEach(m=>{if(!s.has(m)){const w=N1(n.get(m),r.get(m));w!==null&&p.set(m,w),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,p))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return le.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):H.resolve(es());let l=-1,u=s;return o.next(c=>H.forEach(c,(d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(d)?H.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,Se())).next(d=>({batchId:l,changes:I1(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new le(n)).next(r=>{let i=La();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=La();return this.indexManager.getCollectionParents(e,s).next(l=>H.forEach(l,u=>{const c=function(p,m){return new Ud(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,zt.newInvalidDocument(d)))});let l=La();return o.forEach((u,c)=>{const d=s.get(u);d!==void 0&&Ya(d.mutation,c,Mn.empty(),wt.now()),Bd(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return H.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:tr(i.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:eb(i.bundledQuery),readTime:tr(i.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(){this.overlays=new Xe(le.comparator),this.Ir=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=es();return H.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const i=es(),s=n.length+1,o=new le(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Xe((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=es(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const l=es(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>l.set(c,d)),!(l.size()>=i)););return H.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ND(n,r));let s=this.Ir.get(n);s===void 0&&(s=Se(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(){this.sessionToken=Dt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(){this.Tr=new Nt(Tt.Er),this.dr=new Nt(Tt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Tt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Tt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new le(new Ke([])),r=new Tt(n,e),i=new Tt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new le(new Ke([])),r=new Tt(n,e),i=new Tt(n,e+1);let s=Se();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Tt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Tt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return le.comparator(e.key,n.key)||ke(e.wr,n.wr)}static Ar(e,n){return ke(e.wr,n.wr)||le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Nt(Tt.Er)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new CD(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.br=this.br.add(new Tt(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return H.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tt(n,0),i=new Tt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const l=this.Dr(o.wr);s.push(l)}),H.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Nt(ke);return n.forEach(i=>{const s=new Tt(i,0),o=new Tt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],l=>{r=r.add(l.wr)})}),H.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;le.isDocumentKey(s)||(s=s.child(""));const o=new Tt(new le(s),0);let l=new Nt(ke);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(u.wr)),!0)},o),H.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Oe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return H.forEach(n.mutations,i=>{const s=new Tt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Tt(n,0),i=this.br.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e){this.Mr=e,this.docs=function(){return new Xe(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let r=Dr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():zt.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Dr();const o=n.path,l=new le(o.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||G2(W2(d),r)<=0||(i.has(d.key)||Bd(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return H.resolve(s)}getAllFromCollectionGroup(e,n,r,i){fe()}Or(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new db(this)}getSize(e){return H.resolve(this.size)}}class db extends rb{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){this.persistence=e,this.Nr=new Ho(n=>Zm(n),eg),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.Lr=0,this.Br=new og,this.targetCount=0,this.kr=Co.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),H.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Co(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Kn(n),H.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),H.waitFor(s).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),H.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Qm(0),this.Kr=!1,this.Kr=!0,this.$r=new lb,this.referenceDelegate=e(this),this.Ur=new hb(this),this.indexManager=new tb,this.remoteDocumentCache=function(i){return new cb(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new ZD(n),this.Gr=new ob(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ab,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new ub(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ie("MemoryPersistence","Starting transaction:",e);const i=new pb(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return H.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class pb extends q2{constructor(e){super(),this.currentSequenceNumber=e}}class ag{constructor(e){this.persistence=e,this.Jr=new og,this.Yr=null}static Zr(e){return new ag(e)}get Xr(){if(this.Yr)return this.Yr;throw fe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),H.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Xr,r=>{const i=le.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,me.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return H.or([()=>H.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Se(),i=Se();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new lg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return iC()?8:Q2(Ht())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new mb;return this.Xi(e,n,o).next(l=>{if(s.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Aa()<=Ae.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",Ls(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),H.resolve()):(Aa()<=Ae.DEBUG&&ie("QueryEngine","Query:",Ls(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Aa()<=Ae.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",Ls(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,er(n))):H.resolve())}Yi(e,n){if(U_(n))return H.resolve(null);let r=er(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=vp(n,null,"F"),r=er(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Se(...s);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,l);return this.ns(n,c,o,u.readTime)?this.Yi(e,vp(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,i){return U_(n)||i.isEqual(me.min())?H.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?H.resolve(null):(Aa()<=Ae.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ls(n)),this.rs(e,o,n,H2(i,-1)).next(l=>l))})}ts(e,n){let r=new Nt(w1(e));return n.forEach((i,s)=>{Bd(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Aa()<=Ae.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",Ls(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ti.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Xe(ke),this._s=new Ho(s=>Zm(s),eg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sb(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function vb(t,e,n,r){return new yb(t,e,n,r)}async function $1(t,e){const n=ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let u=Se();for(const c of i){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of s){l.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:l}))})})}function _b(t,e){const n=ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,u,c,d){const p=c.batch,m=p.keys();let w=H.resolve();return m.forEach(A=>{w=w.next(()=>d.getEntry(u,A)).next(T=>{const N=c.docVersions.get(A);Oe(N!==null),T.version.compareTo(N)<0&&(p.applyToRemoteDocument(T,c),T.isValidDocument()&&(T.setReadTime(c.commitVersion),d.addEntry(T)))})}),w.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=Se();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function H1(t){const e=ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Eb(t,e){const n=ge(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];e.targetChanges.forEach((d,p)=>{const m=i.get(p);if(!m)return;l.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,p)));let w=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?w=w.withResumeToken(Dt.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):d.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(d.resumeToken,r)),i=i.insert(p,w),function(T,N,E){return T.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(m,w,d)&&l.push(n.Ur.updateTargetData(s,w))});let u=Dr(),c=Se();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(wb(s,o,e.documentUpdates).next(d=>{u=d.Ps,c=d.Is})),!r.isEqual(me.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(d)}return H.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.os=i,s))}function wb(t,e,n){let r=Se(),i=Se();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Dr();return n.forEach((l,u)=>{const c=s.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(me.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):ie("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function Tb(t,e){const n=ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ib(t,e){const n=ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,H.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new si(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Ip(t,e,n){const r=ge(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Yl(o))throw o;ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function X_(t,e,n){const r=ge(t);let i=me.min(),s=Se();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const p=ge(u),m=p._s.get(d);return m!==void 0?H.resolve(p.os.get(m)):p.Ur.getTargetData(c,d)}(r,o,er(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:me.min(),n?s:Se())).next(l=>(Sb(r,pD(e),l),{documents:l,Ts:s})))}function Sb(t,e,n){let r=t.us.get(e)||me.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class J_{constructor(){this.activeTargetIds=ED()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xb{constructor(){this.so=new J_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new J_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ku=null;function Zh(){return Ku===null?Ku=function(){return 268435456+Math.round(2147483648*Math.random())}():Ku++,"0x"+Ku.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jt="WebChannelConnection";class Cb extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const l=Zh(),u=this.xo(n,r.toUriEncodedString());ie("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,u,c,i).then(d=>(ie("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw xo("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",u,"request:",i),d})}Lo(n,r,i,s,o,l){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=Rb[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Zh();return new Promise((o,l)=>{const u=new i1;u.setWithCredentials(!0),u.listenOnce(s1.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case hc.NO_ERROR:const d=u.getResponseJson();ie(jt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case hc.TIMEOUT:ie(jt,`RPC '${e}' ${s} timed out`),l(new ae(W.DEADLINE_EXCEEDED,"Request time out"));break;case hc.HTTP_ERROR:const p=u.getStatus();if(ie(jt,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const w=m==null?void 0:m.error;if(w&&w.status&&w.message){const A=function(N){const E=N.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(E)>=0?E:W.UNKNOWN}(w.status);l(new ae(A,w.message))}else l(new ae(W.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ae(W.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{ie(jt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);ie(jt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=Zh(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=l1(),l=a1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=s.join("");ie(jt,`Creating RPC '${e}' stream ${i}: ${d}`,u);const p=o.createWebChannel(d,u);let m=!1,w=!1;const A=new Pb({Io:N=>{w?ie(jt,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(m||(ie(jt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),ie(jt,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},To:()=>p.close()}),T=(N,E,v)=>{N.listen(E,I=>{try{v(I)}catch(b){setTimeout(()=>{throw b},0)}})};return T(p,ba.EventType.OPEN,()=>{w||(ie(jt,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),T(p,ba.EventType.CLOSE,()=>{w||(w=!0,ie(jt,`RPC '${e}' stream ${i} transport closed`),A.So())}),T(p,ba.EventType.ERROR,N=>{w||(w=!0,xo(jt,`RPC '${e}' stream ${i} transport errored:`,N),A.So(new ae(W.UNAVAILABLE,"The operation could not be completed")))}),T(p,ba.EventType.MESSAGE,N=>{var E;if(!w){const v=N.data[0];Oe(!!v);const I=v,b=I.error||((E=I[0])===null||E===void 0?void 0:E.error);if(b){ie(jt,`RPC '${e}' stream ${i} received error:`,b);const M=b.status;let D=function(S){const P=ct[S];if(P!==void 0)return b1(P)}(M),_=b.message;D===void 0&&(D=W.INTERNAL,_="Unknown error status: "+M+" with message "+b.message),w=!0,A.So(new ae(D,_)),p.close()}else ie(jt,`RPC '${e}' stream ${i} received:`,v),A.bo(v)}}),T(l,o1.STAT_EVENT,N=>{N.stat===fp.PROXY?ie(jt,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===fp.NOPROXY&&ie(jt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}}function ef(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(t){return new FD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,n,r,i,s,o,l,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new W1(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(kr(n.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ae(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Nb extends G1{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=BD(this.serializer,e),r=function(s){if(!("targetChange"in s))return me.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?me.min():o.readTime?tr(o.readTime):me.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Tp(this.serializer),n.addTarget=function(s,o){let l;const u=o.target;if(l=yp(u)?{documents:WD(s,u)}:{query:GD(s,u)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=M1(s,o.resumeToken);const c=_p(s,o.expectedCount);c!==null&&(l.expectedCount=c)}else if(o.snapshotVersion.compareTo(me.min())>0){l.readTime=ld(s,o.snapshotVersion.toTimestamp());const c=_p(s,o.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=qD(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Tp(this.serializer),n.removeTarget=e,this.a_(n)}}class kb extends G1{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=HD(e.writeResults,e.commitTime),r=tr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Tp(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>$D(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ae(W.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Ep(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ae(W.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,Ep(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(W.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class bb{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(kr(n),this.D_=!1):ie("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ss(this)&&(ie("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=ge(u);c.L_.add(4),await Zl(c),c.q_.set("Unknown"),c.L_.delete(4),await Kd(c)}(this))})}),this.q_=new bb(r,i)}}async function Kd(t){if(Ss(t))for(const e of t.B_)await e(!0)}async function Zl(t){for(const e of t.B_)await e(!1)}function K1(t,e){const n=ge(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),hg(n)?dg(n):Wo(n).r_()&&cg(n,e))}function ug(t,e){const n=ge(t),r=Wo(n);n.N_.delete(e),r.r_()&&q1(n,e),n.N_.size===0&&(r.r_()?r.o_():Ss(n)&&n.q_.set("Unknown"))}function cg(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wo(t).A_(e)}function q1(t,e){t.Q_.xe(e),Wo(t).R_(e)}function dg(t){t.Q_=new OD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Wo(t).start(),t.q_.v_()}function hg(t){return Ss(t)&&!Wo(t).n_()&&t.N_.size>0}function Ss(t){return ge(t).L_.size===0}function Q1(t){t.Q_=void 0}async function Ob(t){t.q_.set("Online")}async function Mb(t){t.N_.forEach((e,n)=>{cg(t,e)})}async function Vb(t,e){Q1(t),hg(t)?(t.q_.M_(e),dg(t)):t.q_.set("Unknown")}async function jb(t,e,n){if(t.q_.set("Online"),e instanceof O1&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.N_.delete(l),i.Q_.removeTarget(l))}(t,e)}catch(r){ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ud(t,r)}else if(e instanceof mc?t.Q_.Ke(e):e instanceof L1?t.Q_.He(e):t.Q_.We(e),!n.isEqual(me.min()))try{const r=await H1(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.Q_.rt(o);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.N_.get(c);d&&s.N_.set(c,d.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,c)=>{const d=s.N_.get(u);if(!d)return;s.N_.set(u,d.withResumeToken(Dt.EMPTY_BYTE_STRING,d.snapshotVersion)),q1(s,u);const p=new si(d.target,u,c,d.sequenceNumber);cg(s,p)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){ie("RemoteStore","Failed to raise snapshot:",r),await ud(t,r)}}async function ud(t,e,n){if(!Yl(e))throw e;t.L_.add(1),await Zl(t),t.q_.set("Offline"),n||(n=()=>H1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ie("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Kd(t)})}function Y1(t,e){return e().catch(n=>ud(t,n,e))}async function qd(t){const e=ge(t),n=Si(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Fb(e);)try{const i=await Tb(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Ub(e,i)}catch(i){await ud(e,i)}X1(e)&&J1(e)}function Fb(t){return Ss(t)&&t.O_.length<10}function Ub(t,e){t.O_.push(e);const n=Si(t);n.r_()&&n.V_&&n.m_(e.mutations)}function X1(t){return Ss(t)&&!Si(t).n_()&&t.O_.length>0}function J1(t){Si(t).start()}async function zb(t){Si(t).p_()}async function Bb(t){const e=Si(t);for(const n of t.O_)e.m_(n.mutations)}async function $b(t,e,n){const r=t.O_.shift(),i=rg.from(r,e,n);await Y1(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await qd(t)}async function Hb(t,e){e&&Si(t).V_&&await async function(r,i){if(function(o){return DD(o)&&o!==W.ABORTED}(i.code)){const s=r.O_.shift();Si(r).s_(),await Y1(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await qd(r)}}(t,e),X1(t)&&J1(t)}async function eE(t,e){const n=ge(t);n.asyncQueue.verifyOperationInProgress(),ie("RemoteStore","RemoteStore received new credentials");const r=Ss(n);n.L_.add(3),await Zl(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Kd(n)}async function Wb(t,e){const n=ge(t);e?(n.L_.delete(2),await Kd(n)):e||(n.L_.add(2),await Zl(n),n.q_.set("Unknown"))}function Wo(t){return t.K_||(t.K_=function(n,r,i){const s=ge(n);return s.w_(),new Nb(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Ob.bind(null,t),Ro:Mb.bind(null,t),mo:Vb.bind(null,t),d_:jb.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),hg(t)?dg(t):t.q_.set("Unknown")):(await t.K_.stop(),Q1(t))})),t.K_}function Si(t){return t.U_||(t.U_=function(n,r,i){const s=ge(n);return s.w_(),new kb(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:zb.bind(null,t),mo:Hb.bind(null,t),f_:Bb.bind(null,t),g_:$b.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await qd(t)):(await t.U_.stop(),t.O_.length>0&&(ie("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new fg(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pg(t,e){if(kr("AsyncQueue",`${e}: ${t}`),Yl(t))return new ae(W.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||le.comparator(n.key,r.key):(n,r)=>le.comparator(n.key,r.key),this.keyedMap=La(),this.sortedSet=new Xe(this.comparator)}static emptySet(e){return new fo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(){this.W_=new Xe(le.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):fe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class No{constructor(e,n,r,i,s,o,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new No(e,n,fo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Kb{constructor(){this.queries=nE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ge(n),s=i.queries;i.queries=nE(),s.forEach((o,l)=>{for(const u of l.j_)u.onError(r)})})(this,new ae(W.ABORTED,"Firestore shutting down"))}}function nE(){return new Ho(t=>E1(t),zd)}async function qb(t,e){const n=ge(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Gb,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=pg(o,`Initialization of query '${Ls(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&mg(n)}async function Qb(t,e){const n=ge(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Yb(t,e){const n=ge(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.j_)l.X_(i)&&(r=!0);o.z_=i}}r&&mg(n)}function Xb(t,e,n){const r=ge(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function mg(t){t.Y_.forEach(e=>{e.next()})}var Sp,rE;(rE=Sp||(Sp={})).ea="default",rE.Cache="cache";class Jb{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new No(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=No.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Sp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){this.key=e}}class eI{constructor(e){this.key=e}}class Zb{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Se(),this.mutatedKeys=Se(),this.Aa=w1(e),this.Ra=new fo(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new tE,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{const m=i.get(d),w=Bd(this.query,p)?p:null,A=!!m&&this.mutatedKeys.has(m.key),T=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let N=!1;m&&w?m.data.isEqual(w.data)?A!==T&&(r.track({type:3,doc:w}),N=!0):this.ga(m,w)||(r.track({type:2,doc:w}),N=!0,(u&&this.Aa(w,u)>0||c&&this.Aa(w,c)<0)&&(l=!0)):!m&&w?(r.track({type:0,doc:w}),N=!0):m&&!w&&(r.track({type:1,doc:m}),N=!0,(u||c)&&(l=!0)),N&&(w?(o=o.add(w),s=T?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:l,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,p)=>function(w,A){const T=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return T(w)-T(A)}(d.type,p.type)||this.Aa(d.doc,p.doc)),this.pa(r),i=i!=null&&i;const l=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,c=u!==this.Ea;return this.Ea=u,o.length!==0||c?{snapshot:new No(this.query,e.Ra,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new tE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Se(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new eI(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Z1(r))}),n}ba(e){this.Ta=e.Ts,this.da=Se();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return No.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class e4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class t4{constructor(e){this.key=e,this.va=!1}}class n4{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Ho(l=>E1(l),zd),this.Ma=new Map,this.xa=new Set,this.Oa=new Xe(le.comparator),this.Na=new Map,this.La=new og,this.Ba={},this.ka=new Map,this.qa=Co.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function r4(t,e,n=!0){const r=oI(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await tI(r,e,n,!0),i}async function i4(t,e){const n=oI(t);await tI(n,e,!0,!1)}async function tI(t,e,n,r){const i=await Ib(t.localStore,er(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await s4(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&K1(t.remoteStore,i),l}async function s4(t,e,n,r,i){t.Ka=(p,m,w)=>async function(T,N,E,v){let I=N.view.ma(E);I.ns&&(I=await X_(T.localStore,N.query,!1).then(({documents:_})=>N.view.ma(_,I)));const b=v&&v.targetChanges.get(N.targetId),M=v&&v.targetMismatches.get(N.targetId)!=null,D=N.view.applyChanges(I,T.isPrimaryClient,b,M);return sE(T,N.targetId,D.wa),D.snapshot}(t,p,m,w);const s=await X_(t.localStore,e,!0),o=new Zb(e,s.Ts),l=o.ma(s.documents),u=Jl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(l,t.isPrimaryClient,u);sE(t,n,c.wa);const d=new e4(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function o4(t,e,n){const r=ge(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!zd(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ip(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ug(r.remoteStore,i.targetId),xp(r,i.targetId)}).catch(Ql)):(xp(r,i.targetId),await Ip(r.localStore,i.targetId,!0))}async function a4(t,e){const n=ge(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ug(n.remoteStore,r.targetId))}async function l4(t,e,n){const r=m4(t);try{const i=await function(o,l){const u=ge(o),c=wt.now(),d=l.reduce((w,A)=>w.add(A.key),Se());let p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",w=>{let A=Dr(),T=Se();return u.cs.getEntries(w,d).next(N=>{A=N,A.forEach((E,v)=>{v.isValidDocument()||(T=T.add(E))})}).next(()=>u.localDocuments.getOverlayedDocuments(w,A)).next(N=>{p=N;const E=[];for(const v of l){const I=RD(v,p.get(v.key).overlayedDocument);I!=null&&E.push(new Is(v.key,I,f1(I.value.mapValue),Ir.exists(!0)))}return u.mutationQueue.addMutationBatch(w,c,E,l)}).next(N=>{m=N;const E=N.applyToLocalDocumentSet(p,T);return u.documentOverlayCache.saveOverlays(w,N.batchId,E)})}).then(()=>({batchId:m.batchId,changes:I1(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let c=o.Ba[o.currentUser.toKey()];c||(c=new Xe(ke)),c=c.insert(l,u),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await eu(r,i.changes),await qd(r.remoteStore)}catch(i){const s=pg(i,"Failed to persist write");n.reject(s)}}async function nI(t,e){const n=ge(t);try{const r=await Eb(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Oe(o.va):i.removedDocuments.size>0&&(Oe(o.va),o.va=!1))}),await eu(n,r,e)}catch(r){await Ql(r)}}function iE(t,e,n){const r=ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const l=o.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=ge(o);u.onlineState=l;let c=!1;u.queries.forEach((d,p)=>{for(const m of p.j_)m.Z_(l)&&(c=!0)}),c&&mg(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function u4(t,e,n){const r=ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Xe(le.comparator);o=o.insert(s,zt.newNoDocument(s,me.min()));const l=Se().add(s),u=new Wd(me.min(),new Map,new Xe(ke),o,l);await nI(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),gg(r)}else await Ip(r.localStore,e,!1).then(()=>xp(r,e,n)).catch(Ql)}async function c4(t,e){const n=ge(t),r=e.batch.batchId;try{const i=await _b(n.localStore,e);iI(n,r,null),rI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await eu(n,i)}catch(i){await Ql(i)}}async function d4(t,e,n){const r=ge(t);try{const i=await function(o,l){const u=ge(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,l).next(p=>(Oe(p!==null),d=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);iI(r,e,n),rI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await eu(r,i)}catch(i){await Ql(i)}}function rI(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function iI(t,e,n){const r=ge(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function xp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||sI(t,r)})}function sI(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(ug(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),gg(t))}function sE(t,e,n){for(const r of n)r instanceof Z1?(t.La.addReference(r.key,e),h4(t,r)):r instanceof eI?(ie("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||sI(t,r.key)):fe()}function h4(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ie("SyncEngine","New document in limbo: "+n),t.xa.add(r),gg(t))}function gg(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new le(Ke.fromString(e)),r=t.qa.next();t.Na.set(r,new t4(n)),t.Oa=t.Oa.insert(n,r),K1(t.remoteStore,new si(er(tg(n.path)),r,"TargetPurposeLimboResolution",Qm.oe))}}async function eu(t,e,n){const r=ge(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,u)=>{o.push(r.Ka(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){i.push(c);const p=lg.Wi(u.targetId,c);s.push(p)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(u,c){const d=ge(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>H.forEach(c,m=>H.forEach(m.$i,w=>d.persistence.referenceDelegate.addReference(p,m.targetId,w)).next(()=>H.forEach(m.Ui,w=>d.persistence.referenceDelegate.removeReference(p,m.targetId,w)))))}catch(p){if(!Yl(p))throw p;ie("LocalStore","Failed to update sequence numbers: "+p)}for(const p of c){const m=p.targetId;if(!p.fromCache){const w=d.os.get(m),A=w.snapshotVersion,T=w.withLastLimboFreeSnapshotVersion(A);d.os=d.os.insert(m,T)}}}(r.localStore,s))}async function f4(t,e){const n=ge(t);if(!n.currentUser.isEqual(e)){ie("SyncEngine","User change. New user:",e.toKey());const r=await $1(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(l=>{l.forEach(u=>{u.reject(new ae(W.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await eu(n,r.hs)}}function p4(t,e){const n=ge(t),r=n.Na.get(e);if(r&&r.va)return Se().add(r.key);{let i=Se();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const l=n.Fa.get(o);i=i.unionWith(l.view.Va)}return i}}function oI(t){const e=ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=p4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=u4.bind(null,e),e.Ca.d_=Yb.bind(null,e.eventManager),e.Ca.$a=Xb.bind(null,e.eventManager),e}function m4(t){const e=ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=c4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=d4.bind(null,e),e}class cd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return vb(this.persistence,new gb,e.initialUser,this.serializer)}Ga(e){return new fb(ag.Zr,this.serializer)}Wa(e){return new xb}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cd.provider={build:()=>new cd};class Ap{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>iE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=f4.bind(null,this.syncEngine),await Wb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Kb}()}createDatastore(e){const n=Gd(e.databaseInfo.databaseId),r=function(s){return new Cb(s)}(e.databaseInfo);return function(s,o,l,u){return new Db(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new Lb(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>iE(this.syncEngine,n,0),function(){return Z_.D()?new Z_:new Ab}())}createSyncEngine(e,n){return function(i,s,o,l,u,c,d){const p=new n4(i,s,o,l,u,c);return d&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ge(i);ie("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Zl(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ap.provider={build:()=>new Ap};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):kr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ft.UNAUTHENTICATED,this.clientId=c1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{ie("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ie("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=pg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function tf(t,e){t.asyncQueue.verifyOperationInProgress(),ie("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await $1(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function oE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await v4(t);ie("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>eE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>eE(e.remoteStore,i)),t._onlineComponents=e}async function v4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ie("FirestoreClient","Using user provided OfflineComponentProvider");try{await tf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===W.FAILED_PRECONDITION||i.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;xo("Error using user provided cache. Falling back to memory cache: "+n),await tf(t,new cd)}}else ie("FirestoreClient","Using default OfflineComponentProvider"),await tf(t,new cd);return t._offlineComponents}async function aI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ie("FirestoreClient","Using user provided OnlineComponentProvider"),await oE(t,t._uninitializedComponentsProvider._online)):(ie("FirestoreClient","Using default OnlineComponentProvider"),await oE(t,new Ap))),t._onlineComponents}function _4(t){return aI(t).then(e=>e.syncEngine)}async function E4(t){const e=await aI(t),n=e.eventManager;return n.onListen=r4.bind(null,e.syncEngine),n.onUnlisten=o4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=i4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=a4.bind(null,e.syncEngine),n}function w4(t,e,n={}){const r=new vi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,c){const d=new g4({next:m=>{d.Za(),o.enqueueAndForget(()=>Qb(s,p));const w=m.docs.has(l);!w&&m.fromCache?c.reject(new ae(W.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&m.fromCache&&u&&u.source==="server"?c.reject(new ae(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),p=new Jb(tg(l.path),d,{includeMetadataChanges:!0,_a:!0});return qb(s,p)}(await E4(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(t,e,n){if(!n)throw new ae(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function T4(t,e,n,r){if(e===!0&&r===!0)throw new ae(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function lE(t){if(!le.isDocumentKey(t))throw new ae(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uE(t){if(le.isDocumentKey(t))throw new ae(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fe()}function Cl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yg(t);throw new ae(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ae(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}T4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ae(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ae(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ae(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new O2;switch(r.type){case"firstParty":return new F2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=aE.get(n);r&&(ie("ComponentProvider","Removing Datastore"),aE.delete(n),r.terminate())}(this),Promise.resolve()}}function I4(t,e,n,r={}){var i;const s=(t=Cl(t,Qd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=Ft.MOCK_USER;else{l=XP(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ae(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ft(c)}t._authCredentials=new M2(new u1(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vg(this.firestore,e,this._query)}}class un{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _i(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new un(this.firestore,e,this._key)}}class _i extends vg{constructor(e,n,r){super(e,n,tg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new un(this.firestore,null,new le(e))}withConverter(e){return new _i(this.firestore,e,this._path)}}function dE(t,e,...n){if(t=dn(t),uI("collection","path",e),t instanceof Qd){const r=Ke.fromString(e,...n);return uE(r),new _i(t,null,r)}{if(!(t instanceof un||t instanceof _i))throw new ae(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ke.fromString(e,...n));return uE(r),new _i(t.firestore,null,r)}}function Xa(t,e,...n){if(t=dn(t),arguments.length===1&&(e=c1.newId()),uI("doc","path",e),t instanceof Qd){const r=Ke.fromString(e,...n);return lE(r),new un(t,null,new le(r))}{if(!(t instanceof un||t instanceof _i))throw new ae(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ke.fromString(e,...n));return lE(r),new un(t.firestore,t instanceof _i?t.converter:null,new le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new W1(this,"async_queue_retry"),this.Vu=()=>{const r=ef();r&&ie("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=ef();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=ef();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new vi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Yl(e))throw e;ie("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw kr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=fg.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&fe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class _g extends Qd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new hE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hE(e),this._firestoreClient=void 0,await e}}}function S4(t,e){const n=typeof t=="object"?t:ET(),r=typeof t=="string"?t:"(default)",i=jm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=QP("firestore");s&&I4(i,...s)}return i}function cI(t){if(t._terminated)throw new ae(W.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||x4(t),t._firestoreClient}function x4(t){var e,n,r;const i=t._freezeSettings(),s=function(l,u,c,d){return new J2(l,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,lI(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new y4(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ko(Dt.fromBase64String(e))}catch(n){throw new ae(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ko(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4=/^__.*__$/;class R4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Is(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xl(e,this.data,n,this.fieldTransforms)}}function hI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}class Ig{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Ig(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return dd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(hI(this.Cu)&&A4.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class P4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gd(e)}Qu(e,n,r,i=!1){return new Ig({Cu:e,methodName:n,qu:r,path:Pt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function C4(t){const e=t._freezeSettings(),n=Gd(t._databaseId);return new P4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function N4(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);gI("Data must be an object, but it was:",o,r);const l=pI(r,o);let u,c;if(s.merge)u=new Mn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const p of s.mergeFields){const m=k4(e,p,n);if(!o.contains(m))throw new ae(W.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);b4(d,m)||d.push(m)}u=new Mn(d),c=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=o.fieldTransforms;return new R4(new En(l),u,c)}function fI(t,e){if(mI(t=dn(t)))return gI("Unsupported field value:",e,t),pI(t,e);if(t instanceof dI)return function(r,i){if(!hI(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let u=fI(l,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=wt.fromDate(r);return{timestampValue:ld(i.serializer,s)}}if(r instanceof wt){const s=new wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ld(i.serializer,s)}}if(r instanceof wg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ko)return{bytesValue:M1(i.serializer,r._byteString)};if(r instanceof un){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:sg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Tg)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.Bu("VectorValues must only contain numeric values.");return ng(l.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${yg(r)}`)}(t,e)}function pI(t,e){const n={};return d1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$o(t,(r,i)=>{const s=fI(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function mI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof wt||t instanceof wg||t instanceof ko||t instanceof un||t instanceof dI||t instanceof Tg)}function gI(t,e,n){if(!mI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=yg(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function k4(t,e,n){if((e=dn(e))instanceof Eg)return e._internalPath;if(typeof e=="string")return yI(t,e);throw dd("Field path arguments must be of type string or ",t,!1,void 0,n)}const D4=new RegExp("[~\\*/\\[\\]]");function yI(t,e,n){if(e.search(D4)>=0)throw dd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Eg(...e.split("."))._internalPath}catch{throw dd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ae(W.INVALID_ARGUMENT,l+t+u)}function b4(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new L4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_I("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class L4 extends vI{data(){return super.data()}}function _I(t,e){return typeof e=="string"?yI(t,e):e instanceof Eg?e._internalPath:e._delegate._internalPath}class O4{convertValue(e,n="none"){switch(gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw fe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return $o(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>it(o.doubleValue));return new Tg(s)}convertGeoPoint(e){return new wg(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Xm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Sl(e));default:return null}}convertTimestamp(e){const n=Ii(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ke.fromString(e);Oe(B1(r));const i=new xl(r.get(1),r.get(3)),s=new le(r.popFirst(5));return i.isEqual(n)||kr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class EI extends vI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new j4(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(_I("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class j4 extends EI{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(t){t=Cl(t,un);const e=Cl(t.firestore,_g);return w4(cI(e),t._key).then(n=>z4(e,t,n))}class F4 extends O4{constructor(e){super(),this.firestore=e}convertBytes(e){return new ko(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new un(this.firestore,null,n)}}function fE(t,e,n){t=Cl(t,un);const r=Cl(t.firestore,_g),i=M4(t.converter,e);return U4(r,[N4(C4(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ir.none())])}function U4(t,e){return function(r,i){const s=new vi;return r.asyncQueue.enqueueAndForget(async()=>l4(await _4(r),i,s)),s.promise}(cI(t),e)}function z4(t,e,n){const r=n.docs.get(e._key),i=new F4(t);return new EI(t,i,e._key,r,new V4(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Bo=i})(Uo),So(new ds("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new _g(new V2(r.getProvider("auth-internal")),new z2(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ae(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xl(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),yi(N_,"4.7.3",e),yi(N_,"4.7.3","esm2017")})();const B4={apiKey:"AIzaSyDP5ZEj7KEJxI-K49NGOtnGVg5dFzsHU1g",authDomain:"ratemyflicks.firebaseapp.com",projectId:"ratemyflicks",storageBucket:"ratemyflicks.appspot.com",messagingSenderId:"100716237298",appId:"1:100716237298:web:be07cf0325fc5ac7c35b6b",measurementId:"G-NFWDQK52H1"},wI=_T(B4),gc=k2(wI),Ja=S4(wI),TI=j.createContext();function Go(){return j.useContext(TI)}function $4({children:t}){const[e,n]=j.useState(),[r,i]=j.useState();function s(p,m){return gk(gc,p,m)}function o(p,m){return yk(gc,p,m)}const l=async(p,m)=>{const w=dE(Ja,"users"),A=Xa(w,p);return fE(A,{username:m}).then(()=>{console.log("User data stored successfully!")}).catch(T=>{console.error("Error storing user data: ",T)})},u=async(p,m)=>{const w=dE(Ja,"savedData"),A=Xa(w,p);try{await fE(A,{saveList:m}),console.log("Saved data stored successfully!")}catch(T){console.error("Error storing saved data: ",T)}},c=async p=>{const m=Xa(Ja,"users",p);return Sg(m).then(w=>w.exists()?w.data().username:(console.log("User document does not exist"),null)).catch(w=>(console.error("Error getting user data: ",w),null))};j.useEffect(()=>gc.onAuthStateChanged(m=>{m?(n(m),c(m.uid).then(w=>{i(w)}).catch(w=>{console.error("Error fetching user data:",w)})):(n(null),i(null))}),[]);const d={currentUser:e,SignUp:s,Login:o,storeUserData:l,storeSavedData:u,Name:r};return g.jsx(TI.Provider,{value:d,children:t})}const II=j.createContext();function xi(){return j.useContext(II)}const qu="https://api.jikan.moe/v4",qr="LOADING",SI="SEARCH",xI="GET_POPULAR_ANIME",AI="GET_UPCOMING_ANIME",RI="GET_AIRING_ANIME",PI="GET_POPULAR_ANIME_MOVIE",CI="GET_ANIME_RECOMMENDATIONS",NI="GET_GENRES",H4=(t,e)=>{switch(e.type){case qr:return{...t,loading:!0};case xI:return{...t,popularAnime:e.payload,loading:!1};case SI:return{...t,searchResults:e.payload,loading:!1};case AI:return{...t,upcomingAnime:e.payload,loading:!1};case RI:return{...t,airingAnime:e.payload,loading:!1};case PI:return{...t,popularAnimeMovie:e.payload,loading:!1};case CI:return{...t,animeRecommendations:e.payload,loading:!1};case NI:return{...t,genres:e.payload,loading:!1};default:return t}};function W4({children:t}){const e={popularAnime:[],popularAnimeMovie:[],animeRecommendations:[],genres:[],upcomingAnime:[],airingAnime:[],pictures:[],isSearch:!1,searchResults:[],loading:!1,topAnime:[]},[n,r]=j.useReducer(H4,e),[i,s]=j.useState(""),o=T=>{s(T.target.value),T.target.value===""&&(n.isSearch=!1)},l=T=>{T.preventDefault(),i?(A(i),n.isSearch=!0):(n.isSearch=!1,alert("please enter a search term"))},u=async()=>{r({type:qr});const N=await(await fetch(`${qu}/top/anime?filter=upcoming`)).json();r({type:AI,payload:N.data})},c=async()=>{r({type:qr});const N=await(await fetch(`${qu}/top/anime?filter=airing`)).json();r({type:RI,payload:N.data})},d=async()=>{r({type:qr});const N=await(await fetch(`${qu}/top/anime?filter=bypopularity`)).json();r({type:xI,payload:N.data})},p=async()=>{r({type:qr});const N=await(await fetch(`${qu}/top/anime?filter=bypopularity&&type=movie`)).json();r({type:PI,payload:N.data})},m=async()=>{r({type:qr});const N=await(await fetch("https://api.jikan.moe/v4/recommendations/anime")).json();r({type:CI,payload:N.data})},w=async()=>{r({type:qr});const N=await(await fetch("https://api.jikan.moe/v4/genres/anime")).json();r({type:NI,payload:N.data})},A=async T=>{r({type:qr});const E=await(await fetch(`https://api.jikan.moe/v4/anime?q=${T}$order_by=popularity&sort=asc&sfw`)).json();r({type:SI,payload:E.data})};return j.useEffect(()=>{d();const T=setTimeout(()=>{p()},1e3),N=setTimeout(()=>{m()},2e3),E=setTimeout(()=>{w()},3e3);return()=>clearTimeout(T,N,E)},[]),g.jsx(II.Provider,{value:{...n,handleChange:o,handleSubmit:l,searchAnime:A,search:i,GetPopularAnime:d,GetPopularAnimeMovie:p,GetAnimeRecommendations:m,GetUpcomingAnime:u,GetAiringAnime:c,GetGenres:w},children:t})}const pE=({render:t})=>{const{popularAnime:e,isSearch:n,searchResults:r}=xi(),i=()=>!n&&t==="popular"?e.slice(0,24).map(s=>g.jsx(Et,{to:`/anime/${s.mal_id}`,className:"md:h-[400px] h-[600px] md:w-auto w-[425px] md:rounded-lg rounded-3xl border-[5px] border-solid border-[#e5e7eb]",children:g.jsx("img",{src:s.images.jpg.large_image_url,alt:"",className:"w-full h-full object-cover md:rounded-md rounded-xl"})},s.mal_id)):r.map(s=>g.jsx(Et,{to:`/anime/${s.mal_id}`,className:"md:h-[400px] h-[600px] md:w-auto w-[425px] md:rounded-lg rounded-3xl border-[5px] border-solid border-[#e5e7eb]",children:g.jsx("img",{src:s.images.jpg.large_image_url,alt:"",className:"w-full h-full object-cover md:rounded-md rounded-xl"})},s.mal_id));return g.jsx("div",{className:" pt-3 pl-8 pb-8 pr-7 w-full h-full",children:g.jsx("div",{className:"grid md:grid-cols-5 grid-cols-3 md:gap-5 gap-8",children:i()})})},G4=({render:t})=>{const{upcomingAnime:e,isSearch:n,searchResults:r}=xi(),i=()=>!n&&t==="upcoming"?e.slice(0,24).map(s=>g.jsx(Et,{to:`/anime/${s.mal_id}`,className:"md:h-[400px] h-[600px] md:w-auto w-[425px] md:rounded-lg rounded-3xl border-[5px] border-solid border-[#e5e7eb]",children:g.jsx("img",{src:s.images.jpg.large_image_url,alt:"",className:"w-full h-full object-cover md:rounded-md rounded-xl"})},s.mal_id)):r.map(s=>g.jsx(Et,{to:`/anime/${s.mal_id}`,className:"md:h-[400px] h-[600px] md:w-auto w-[425px] md:rounded-lg rounded-3xl border-[5px] border-solid border-[#e5e7eb]",children:g.jsx("img",{src:s.images.jpg.large_image_url,alt:"",className:"w-full h-full object-cover md:rounded-md rounded-xl"})},s.mal_id));return g.jsx("div",{className:"pt-3 pl-8 pb-8 pr-7 w-full h-full",children:g.jsx("div",{className:"grid md:grid-cols-5 grid-cols-3 md:gap-5 gap-8 ",children:i()})})},K4=({render:t})=>{const{airingAnime:e,isSearch:n,searchResults:r}=xi(),i=()=>!n&&t==="airing"?e.slice(0,24).map(s=>g.jsx(Et,{to:`/anime/${s.mal_id}`,className:"md:h-[400px] h-[600px] md:w-auto w-[425px] md:rounded-lg rounded-3xl border-[5px] border-solid border-[#e5e7eb]",children:g.jsx("img",{src:s.images.jpg.large_image_url,alt:"",className:"w-full h-full object-cover md:rounded-md rounded-xl"})},s.mal_id)):r.map(s=>g.jsx(Et,{to:`/anime/${s.mal_id}`,className:"md:h-[400px] h-[600px] md:w-auto w-[425px] md:rounded-lg rounded-3xl border-[5px] border-solid border-[#e5e7eb]",children:g.jsx("img",{src:s.images.jpg.large_image_url,alt:"",className:"w-full h-full object-cover md:rounded-md rounded-xl"})},s.mal_id));return g.jsx("div",{className:"pt-3 pl-8 pb-8 pr-7 w-full h-full",children:g.jsx("div",{className:"grid md:grid-cols-5 grid-cols-3 md:gap-5 gap-8 ",children:i()})})},q4="/assets/fire-ant-C2-O_mWw.png",Q4="/assets/upcoming-C5kahZz8.png",Y4="/assets/announcement-CfI0zDJn.png";function X4(t){return or({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 428 339.92 303.9a160.48 160.48 0 0 0 30.72-94.58C370.64 120.37 298.27 48 209.32 48S48 120.37 48 209.32s72.37 161.32 161.32 161.32a160.48 160.48 0 0 0 94.58-30.72L428 464zM209.32 319.69a110.38 110.38 0 1 1 110.37-110.37 110.5 110.5 0 0 1-110.37 110.37z"},child:[]}]})(t)}const J4=()=>{const{handleChange:t,handleSubmit:e,search:n,searchAnime:r,GetUpcomingAnime:i,GetAiringAnime:s,GetPopularAnime:o}=xi(),[l,u]=j.useState("popular"),{isSearch:c,searchResults:d}=xi(),p=()=>{switch(l){case"popular":return g.jsx(pE,{render:l});case"airing":return g.jsx(K4,{render:l});case"upcoming":return g.jsx(G4,{render:l});default:return g.jsx(pE,{render:l})}};return g.jsxs("div",{className:"md:text-lg text-2xl text-secondary",children:[g.jsxs("header",{children:[g.jsxs("div",{className:"flex flex-row justify-between items-center mx-auto w-[1000px] mt-12",children:[g.jsxs("div",{className:"flex flex-row space-x-2 justify-center items-center border-2 border-secondary px-2 py-2 rounded-xl",children:[g.jsx("img",{src:q4,alt:"",className:"w-8 h-8"}),g.jsx("button",{className:"",onClick:()=>{u("popular"),o()},children:"Popular"})]}),g.jsxs("form",{action:"",className:"",onSubmit:e,children:[g.jsxs("div",{className:"flex flex-row bg-primary rounded-full border-2 border-secondary relative ",children:[g.jsxs("div",{className:"flex  items-center w-96 py-1",children:[g.jsx(X4,{size:"37px",className:"p-1 mx-1 text-secondary "}),g.jsx("input",{type:"text",placeholder:"Search Anime",value:n,onChange:t,className:"p-1 bg-transparent outline-none w-full text-secondary text-xl"})]}),g.jsx("button",{type:"submit",className:" border-l-[3px] border-secondary rounded-l-full px-3 py-1",children:"Search"})]}),g.jsx("div",{className:"absolute top-[100px] text-base ml-40",children:c?g.jsxs("div",{className:"",children:[d.length," Results Found"]}):d?"":g.jsx("div",{className:""})})]}),g.jsxs("div",{className:"flex flex-row space-x-2 justify-center items-center border-2 border-secondary px-2 py-2 rounded-xl",children:[g.jsx("img",{src:Y4,alt:"",className:"w-8 h-8"}),g.jsx("button",{className:"",onClick:()=>{u("airing"),s()},children:"Airing"})]}),g.jsxs("div",{className:"flex flex-row space-x-2 justify-center items-center border-2 border-secondary px-2 py-2 rounded-xl",children:[g.jsx("img",{src:Q4,alt:"",className:"w-8 h-8"}),g.jsx("button",{className:"",onClick:()=>{u("upcoming"),i()},children:"Upcoming"})]})]}),g.jsx("div",{className:" w-[1440px] mx-auto mt-12 text-secondary",children:g.jsx("h1",{className:"text-5xl md:text-4xl ml-9 md:ml-0",children:l==="popular"?"Popular Anime":l==="airing"?"Airing Anime":"Upcoming Anime"})})]}),p()]})};function Z4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eL(t,e,n){return Z4(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}var mE="(prefers-reduced-motion: reduce)",eo=1,tL=2,Do=3,Ko=4,tu=5,yc=6,hd=7,nL={CREATED:eo,MOUNTED:tL,IDLE:Do,MOVING:Ko,SCROLLING:tu,DRAGGING:yc,DESTROYED:hd};function br(t){t.length=0}function Oi(t,e,n){return Array.prototype.slice.call(t,e,n)}function Ue(t){return t.bind.apply(t,[null].concat(Oi(arguments,1)))}var kI=setTimeout,Rp=function(){};function gE(t){return requestAnimationFrame(t)}function Yd(t,e){return typeof e===t}function Nl(t){return!Ag(t)&&Yd("object",t)}var xg=Array.isArray,DI=Ue(Yd,"function"),Ai=Ue(Yd,"string"),nu=Ue(Yd,"undefined");function Ag(t){return t===null}function bI(t){try{return t instanceof(t.ownerDocument.defaultView||window).HTMLElement}catch{return!1}}function ru(t){return xg(t)?t:[t]}function An(t,e){ru(t).forEach(e)}function Rg(t,e){return t.indexOf(e)>-1}function vc(t,e){return t.push.apply(t,ru(e)),t}function vr(t,e,n){t&&An(e,function(r){r&&t.classList[n?"add":"remove"](r)})}function ir(t,e){vr(t,Ai(e)?e.split(" "):e,!0)}function iu(t,e){An(e,t.appendChild.bind(t))}function Pg(t,e){An(t,function(n){var r=(e||n).parentNode;r&&r.insertBefore(n,e)})}function kl(t,e){return bI(t)&&(t.msMatchesSelector||t.matches).call(t,e)}function LI(t,e){var n=t?Oi(t.children):[];return e?n.filter(function(r){return kl(r,e)}):n}function su(t,e){return e?LI(t,e)[0]:t.firstElementChild}var Dl=Object.keys;function is(t,e,n){return t&&(n?Dl(t).reverse():Dl(t)).forEach(function(r){r!=="__proto__"&&e(t[r],r)}),t}function bl(t){return Oi(arguments,1).forEach(function(e){is(e,function(n,r){t[r]=e[r]})}),t}function oi(t){return Oi(arguments,1).forEach(function(e){is(e,function(n,r){xg(n)?t[r]=n.slice():Nl(n)?t[r]=oi({},Nl(t[r])?t[r]:{},n):t[r]=n})}),t}function yE(t,e){An(e||Dl(t),function(n){delete t[n]})}function sr(t,e){An(t,function(n){An(e,function(r){n&&n.removeAttribute(r)})})}function Ee(t,e,n){Nl(e)?is(e,function(r,i){Ee(t,i,r)}):An(t,function(r){Ag(n)||n===""?sr(r,e):r.setAttribute(e,String(n))})}function po(t,e,n){var r=document.createElement(t);return e&&(Ai(e)?ir(r,e):Ee(r,e)),n&&iu(n,r),r}function On(t,e,n){if(nu(n))return getComputedStyle(t)[e];Ag(n)||(t.style[e]=""+n)}function Ll(t,e){On(t,"display",e)}function OI(t){t.setActive&&t.setActive()||t.focus({preventScroll:!0})}function Vn(t,e){return t.getAttribute(e)}function vE(t,e){return t&&t.classList.contains(e)}function _n(t){return t.getBoundingClientRect()}function ys(t){An(t,function(e){e&&e.parentNode&&e.parentNode.removeChild(e)})}function MI(t){return su(new DOMParser().parseFromString(t,"text/html").body)}function hr(t,e){t.preventDefault(),e&&(t.stopPropagation(),t.stopImmediatePropagation())}function VI(t,e){return t&&t.querySelector(e)}function Cg(t,e){return e?Oi(t.querySelectorAll(e)):[]}function _r(t,e){vr(t,e,!1)}function Pp(t){return t.timeStamp}function Wi(t){return Ai(t)?t:t?t+"px":""}var ou="splide",Ng="data-"+ou;function Za(t,e){if(!t)throw new Error("["+ou+"] "+(e||""))}var Ri=Math.min,fd=Math.max,pd=Math.floor,Ol=Math.ceil,Zt=Math.abs;function jI(t,e,n){return Zt(t-e)<n}function _c(t,e,n,r){var i=Ri(e,n),s=fd(e,n);return r?i<t&&t<s:i<=t&&t<=s}function Vs(t,e,n){var r=Ri(e,n),i=fd(e,n);return Ri(fd(r,t),i)}function Cp(t){return+(t>0)-+(t<0)}function Np(t,e){return An(e,function(n){t=t.replace("%s",""+n)}),t}function kg(t){return t<10?"0"+t:""+t}var _E={};function rL(t){return""+t+kg(_E[t]=(_E[t]||0)+1)}function FI(){var t=[];function e(o,l,u,c){i(o,l,function(d,p,m){var w="addEventListener"in d,A=w?d.removeEventListener.bind(d,p,u,c):d.removeListener.bind(d,u);w?d.addEventListener(p,u,c):d.addListener(u),t.push([d,p,m,u,A])})}function n(o,l,u){i(o,l,function(c,d,p){t=t.filter(function(m){return m[0]===c&&m[1]===d&&m[2]===p&&(!u||m[3]===u)?(m[4](),!1):!0})})}function r(o,l,u){var c,d=!0;return typeof CustomEvent=="function"?c=new CustomEvent(l,{bubbles:d,detail:u}):(c=document.createEvent("CustomEvent"),c.initCustomEvent(l,d,!1,u)),o.dispatchEvent(c),c}function i(o,l,u){An(o,function(c){c&&An(l,function(d){d.split(" ").forEach(function(p){var m=p.split(".");u(c,m[0],m[1])})})})}function s(){t.forEach(function(o){o[4]()}),br(t)}return{bind:e,unbind:n,dispatch:r,destroy:s}}var Mi="mounted",kp="ready",Lr="move",qo="moved",Dg="click",UI="active",zI="inactive",BI="visible",$I="hidden",ft="refresh",qt="updated",bo="resize",Xd="resized",HI="drag",WI="dragging",GI="dragged",Jd="scroll",xs="scrolled",iL="overflow",bg="destroy",KI="arrows:mounted",qI="arrows:updated",QI="pagination:mounted",YI="pagination:updated",Lg="navigation:mounted",Og="autoplay:play",XI="autoplay:playing",Mg="autoplay:pause",Vg="lazyload:loaded",JI="sk",ZI="sh",md="ei";function Je(t){var e=t?t.event.bus:document.createDocumentFragment(),n=FI();function r(s,o){n.bind(e,ru(s).join(" "),function(l){o.apply(o,xg(l.detail)?l.detail:[])})}function i(s){n.dispatch(e,s,Oi(arguments,1))}return t&&t.event.on(bg,n.destroy),bl(n,{bus:e,on:r,off:Ue(n.unbind,e),emit:i})}function Zd(t,e,n,r){var i=Date.now,s,o=0,l,u=!0,c=0;function d(){if(!u){if(o=t?Ri((i()-s)/t,1):1,n&&n(o),o>=1&&(e(),s=i(),r&&++c>=r))return m();l=gE(d)}}function p(E){E||A(),s=i()-(E?o*t:0),u=!1,l=gE(d)}function m(){u=!0}function w(){s=i(),o=0,n&&n(o)}function A(){l&&cancelAnimationFrame(l),o=0,l=0,u=!0}function T(E){t=E}function N(){return u}return{start:p,rewind:w,pause:m,cancel:A,set:T,isPaused:N}}function sL(t){var e=t;function n(i){e=i}function r(i){return Rg(ru(i),e)}return{set:n,is:r}}function oL(t,e){var n=Zd(0,t,null,1);return function(){n.isPaused()&&n.start()}}function aL(t,e,n){var r=t.state,i=n.breakpoints||{},s=n.reducedMotion||{},o=FI(),l=[];function u(){var A=n.mediaQuery==="min";Dl(i).sort(function(T,N){return A?+T-+N:+N-+T}).forEach(function(T){d(i[T],"("+(A?"min":"max")+"-width:"+T+"px)")}),d(s,mE),p()}function c(A){A&&o.destroy()}function d(A,T){var N=matchMedia(T);o.bind(N,"change",p),l.push([A,N])}function p(){var A=r.is(hd),T=n.direction,N=l.reduce(function(E,v){return oi(E,v[1].matches?v[0]:{})},{});yE(n),w(N),n.destroy?t.destroy(n.destroy==="completely"):A?(c(!0),t.mount()):T!==n.direction&&t.refresh()}function m(A){matchMedia(mE).matches&&(A?oi(n,s):yE(n,Dl(s)))}function w(A,T,N){oi(n,A),T&&oi(Object.getPrototypeOf(n),A),(N||!r.is(eo))&&t.emit(qt,n)}return{setup:u,destroy:c,reduce:m,set:w}}var eh="Arrow",th=eh+"Left",nh=eh+"Right",eS=eh+"Up",tS=eh+"Down",EE="rtl",rh="ttb",nf={width:["height"],left:["top","right"],right:["bottom","left"],x:["y"],X:["Y"],Y:["X"],ArrowLeft:[eS,nh],ArrowRight:[tS,th]};function lL(t,e,n){function r(s,o,l){l=l||n.direction;var u=l===EE&&!o?1:l===rh?0:-1;return nf[s]&&nf[s][u]||s.replace(/width|left|right/i,function(c,d){var p=nf[c.toLowerCase()][u]||c;return d>0?p.charAt(0).toUpperCase()+p.slice(1):p})}function i(s){return s*(n.direction===EE?1:-1)}return{resolve:r,orient:i}}var Sr="role",mo="tabindex",uL="disabled",Bn="aria-",au=Bn+"controls",nS=Bn+"current",wE=Bn+"selected",Tn=Bn+"label",jg=Bn+"labelledby",rS=Bn+"hidden",Fg=Bn+"orientation",Ml=Bn+"roledescription",TE=Bn+"live",IE=Bn+"busy",SE=Bn+"atomic",Ug=[Sr,mo,uL,au,nS,Tn,jg,rS,Fg,Ml],ar=ou+"__",Vi="is-",rf=ou,xE=ar+"track",cL=ar+"list",ih=ar+"slide",iS=ih+"--clone",dL=ih+"__container",zg=ar+"arrows",sh=ar+"arrow",sS=sh+"--prev",oS=sh+"--next",oh=ar+"pagination",aS=oh+"__page",hL=ar+"progress",fL=hL+"__bar",pL=ar+"toggle",mL=ar+"spinner",gL=ar+"sr",yL=Vi+"initialized",vs=Vi+"active",lS=Vi+"prev",uS=Vi+"next",Dp=Vi+"visible",bp=Vi+"loading",cS=Vi+"focus-in",dS=Vi+"overflow",vL=[vs,Dp,lS,uS,bp,cS,dS],_L={slide:ih,clone:iS,arrows:zg,arrow:sh,prev:sS,next:oS,pagination:oh,page:aS,spinner:mL};function EL(t,e){if(DI(t.closest))return t.closest(e);for(var n=t;n&&n.nodeType===1&&!kl(n,e);)n=n.parentElement;return n}var wL=5,AE=200,hS="touchstart mousedown",sf="touchmove mousemove",of="touchend touchcancel mouseup click";function TL(t,e,n){var r=Je(t),i=r.on,s=r.bind,o=t.root,l=n.i18n,u={},c=[],d=[],p=[],m,w,A;function T(){I(),b(),v()}function N(){i(ft,E),i(ft,T),i(qt,v),s(document,hS+" keydown",function(_){A=_.type==="keydown"},{capture:!0}),s(o,"focusin",function(){vr(o,cS,!!A)})}function E(_){var y=Ug.concat("style");br(c),_r(o,d),_r(m,p),sr([m,w],y),sr(o,_?y:["style",Ml])}function v(){_r(o,d),_r(m,p),d=D(rf),p=D(xE),ir(o,d),ir(m,p),Ee(o,Tn,n.label),Ee(o,jg,n.labelledby)}function I(){m=M("."+xE),w=su(m,"."+cL),Za(m&&w,"A track/list element is missing."),vc(c,LI(w,"."+ih+":not(."+iS+")")),is({arrows:zg,pagination:oh,prev:sS,next:oS,bar:fL,toggle:pL},function(_,y){u[y]=M("."+_)}),bl(u,{root:o,track:m,list:w,slides:c})}function b(){var _=o.id||rL(ou),y=n.role;o.id=_,m.id=m.id||_+"-track",w.id=w.id||_+"-list",!Vn(o,Sr)&&o.tagName!=="SECTION"&&y&&Ee(o,Sr,y),Ee(o,Ml,l.carousel),Ee(w,Sr,"presentation")}function M(_){var y=VI(o,_);return y&&EL(y,"."+rf)===o?y:void 0}function D(_){return[_+"--"+n.type,_+"--"+n.direction,n.drag&&_+"--draggable",n.isNavigation&&_+"--nav",_===rf&&vs]}return bl(u,{setup:T,mount:N,destroy:E})}var Lo="slide",Qo="loop",lu="fade";function IL(t,e,n,r){var i=Je(t),s=i.on,o=i.emit,l=i.bind,u=t.Components,c=t.root,d=t.options,p=d.isNavigation,m=d.updateOnMove,w=d.i18n,A=d.pagination,T=d.slideFocus,N=u.Direction.resolve,E=Vn(r,"style"),v=Vn(r,Tn),I=n>-1,b=su(r,"."+dL),M;function D(){I||(r.id=c.id+"-slide"+kg(e+1),Ee(r,Sr,A?"tabpanel":"group"),Ee(r,Ml,w.slide),Ee(r,Tn,v||Np(w.slideLabel,[e+1,t.length]))),_()}function _(){l(r,"click",Ue(o,Dg,F)),l(r,"keydown",Ue(o,JI,F)),s([qo,ZI,xs],C),s(Lg,S),m&&s(Lr,P)}function y(){M=!0,i.destroy(),_r(r,vL),sr(r,Ug),Ee(r,"style",E),Ee(r,Tn,v||"")}function S(){var $=t.splides.map(function(z){var q=z.splide.Components.Slides.getAt(e);return q?q.slide.id:""}).join(" ");Ee(r,Tn,Np(w.slideX,(I?n:e)+1)),Ee(r,au,$),Ee(r,Sr,T?"button":""),T&&sr(r,Ml)}function P(){M||C()}function C(){if(!M){var $=t.index;k(),R(),vr(r,lS,e===$-1),vr(r,uS,e===$+1)}}function k(){var $=se();$!==vE(r,vs)&&(vr(r,vs,$),Ee(r,nS,p&&$||""),o($?UI:zI,F))}function R(){var $=Te(),z=!$&&(!se()||I);if(t.state.is([Ko,tu])||Ee(r,rS,z||""),Ee(Cg(r,d.focusableNodes||""),mo,z?-1:""),T&&Ee(r,mo,z?-1:0),$!==vE(r,Dp)&&(vr(r,Dp,$),o($?BI:$I,F)),!$&&document.activeElement===r){var q=u.Slides.getAt(t.index);q&&OI(q.slide)}}function Z($,z,q){On(q&&b||r,$,z)}function se(){var $=t.index;return $===e||d.cloneStatus&&$===n}function Te(){if(t.is(lu))return se();var $=_n(u.Elements.track),z=_n(r),q=N("left",!0),J=N("right",!0);return pd($[q])<=Ol(z[q])&&pd(z[J])<=Ol($[J])}function X($,z){var q=Zt($-e);return!I&&(d.rewind||t.is(Qo))&&(q=Ri(q,t.length-q)),q<=z}var F={index:e,slideIndex:n,slide:r,container:b,isClone:I,mount:D,destroy:y,update:C,style:Z,isWithin:X};return F}function SL(t,e,n){var r=Je(t),i=r.on,s=r.emit,o=r.bind,l=e.Elements,u=l.slides,c=l.list,d=[];function p(){m(),i(ft,w),i(ft,m)}function m(){u.forEach(function(C,k){T(C,k,-1)})}function w(){M(function(C){C.destroy()}),br(d)}function A(){M(function(C){C.update()})}function T(C,k,R){var Z=IL(t,k,R,C);Z.mount(),d.push(Z),d.sort(function(se,Te){return se.index-Te.index})}function N(C){return C?D(function(k){return!k.isClone}):d}function E(C){var k=e.Controller,R=k.toIndex(C),Z=k.hasFocus()?1:n.perPage;return D(function(se){return _c(se.index,R,R+Z-1)})}function v(C){return D(C)[0]}function I(C,k){An(C,function(R){if(Ai(R)&&(R=MI(R)),bI(R)){var Z=u[k];Z?Pg(R,Z):iu(c,R),ir(R,n.classes.slide),y(R,Ue(s,bo))}}),s(ft)}function b(C){ys(D(C).map(function(k){return k.slide})),s(ft)}function M(C,k){N(k).forEach(C)}function D(C){return d.filter(DI(C)?C:function(k){return Ai(C)?kl(k.slide,C):Rg(ru(C),k.index)})}function _(C,k,R){M(function(Z){Z.style(C,k,R)})}function y(C,k){var R=Cg(C,"img"),Z=R.length;Z?R.forEach(function(se){o(se,"load error",function(){--Z||k()})}):k()}function S(C){return C?u.length:d.length}function P(){return d.length>n.perPage}return{mount:p,destroy:w,update:A,register:T,get:N,getIn:E,getAt:v,add:I,remove:b,forEach:M,filter:D,style:_,getLength:S,isEnough:P}}function xL(t,e,n){var r=Je(t),i=r.on,s=r.bind,o=r.emit,l=e.Slides,u=e.Direction.resolve,c=e.Elements,d=c.root,p=c.track,m=c.list,w=l.getAt,A=l.style,T,N,E;function v(){I(),s(window,"resize load",oL(Ue(o,bo))),i([qt,ft],I),i(bo,b)}function I(){T=n.direction===rh,On(d,"maxWidth",Wi(n.width)),On(p,u("paddingLeft"),M(!1)),On(p,u("paddingRight"),M(!0)),b(!0)}function b(F){var $=_n(d);(F||N.width!==$.width||N.height!==$.height)&&(On(p,"height",D()),A(u("marginRight"),Wi(n.gap)),A("width",y()),A("height",S(),!0),N=$,o(Xd),E!==(E=X())&&(vr(d,dS,E),o(iL,E)))}function M(F){var $=n.padding,z=u(F?"right":"left");return $&&Wi($[z]||(Nl($)?0:$))||"0px"}function D(){var F="";return T&&(F=_(),Za(F,"height or heightRatio is missing."),F="calc("+F+" - "+M(!1)+" - "+M(!0)+")"),F}function _(){return Wi(n.height||_n(m).width*n.heightRatio)}function y(){return n.autoWidth?null:Wi(n.fixedWidth)||(T?"":P())}function S(){return Wi(n.fixedHeight)||(T?n.autoHeight?null:P():_())}function P(){var F=Wi(n.gap);return"calc((100%"+(F&&" + "+F)+")/"+(n.perPage||1)+(F&&" - "+F)+")"}function C(){return _n(m)[u("width")]}function k(F,$){var z=w(F||0);return z?_n(z.slide)[u("width")]+($?0:se()):0}function R(F,$){var z=w(F);if(z){var q=_n(z.slide)[u("right")],J=_n(m)[u("left")];return Zt(q-J)+($?0:se())}return 0}function Z(F){return R(t.length-1)-R(0)+k(0,F)}function se(){var F=w(0);return F&&parseFloat(On(F.slide,u("marginRight")))||0}function Te(F){return parseFloat(On(p,u("padding"+(F?"Right":"Left"))))||0}function X(){return t.is(lu)||Z(!0)>C()}return{mount:v,resize:b,listSize:C,slideSize:k,sliderSize:Z,totalSize:R,getPadding:Te,isOverflow:X}}var AL=2;function RL(t,e,n){var r=Je(t),i=r.on,s=e.Elements,o=e.Slides,l=e.Direction.resolve,u=[],c;function d(){i(ft,p),i([qt,bo],w),(c=N())&&(A(c),e.Layout.resize(!0))}function p(){m(),d()}function m(){ys(u),br(u),r.destroy()}function w(){var E=N();c!==E&&(c<E||!E)&&r.emit(ft)}function A(E){var v=o.get().slice(),I=v.length;if(I){for(;v.length<E;)vc(v,v);vc(v.slice(-E),v.slice(0,E)).forEach(function(b,M){var D=M<E,_=T(b.slide,M);D?Pg(_,v[0].slide):iu(s.list,_),vc(u,_),o.register(_,M-E+(D?0:I),b.index)})}}function T(E,v){var I=E.cloneNode(!0);return ir(I,n.classes.clone),I.id=t.root.id+"-clone"+kg(v+1),I}function N(){var E=n.clones;if(!t.is(Qo))E=0;else if(nu(E)){var v=n[l("fixedWidth")]&&e.Layout.slideSize(0),I=v&&Ol(_n(s.track)[l("width")]/v);E=I||n[l("autoWidth")]&&t.length||n.perPage*AL}return E}return{mount:d,destroy:m}}function PL(t,e,n){var r=Je(t),i=r.on,s=r.emit,o=t.state.set,l=e.Layout,u=l.slideSize,c=l.getPadding,d=l.totalSize,p=l.listSize,m=l.sliderSize,w=e.Direction,A=w.resolve,T=w.orient,N=e.Elements,E=N.list,v=N.track,I;function b(){I=e.Transition,i([Mi,Xd,qt,ft],M)}function M(){e.Controller.isBusy()||(e.Scroll.cancel(),_(t.index),e.Slides.update())}function D(z,q,J,de){z!==q&&F(z>J)&&(C(),y(P(Z(),z>J),!0)),o(Ko),s(Lr,q,J,z),I.start(q,function(){o(Do),s(qo,q,J,z),de&&de()})}function _(z){y(R(z,!0))}function y(z,q){if(!t.is(lu)){var J=q?z:S(z);On(E,"transform","translate"+A("X")+"("+J+"px)"),z!==J&&s(ZI)}}function S(z){if(t.is(Qo)){var q=k(z),J=q>e.Controller.getEnd(),de=q<0;(de||J)&&(z=P(z,J))}return z}function P(z,q){var J=z-X(q),de=m();return z-=T(de*(Ol(Zt(J)/de)||1))*(q?1:-1),z}function C(){y(Z(),!0),I.cancel()}function k(z){for(var q=e.Slides.get(),J=0,de=1/0,we=0;we<q.length;we++){var Me=q[we].index,G=Zt(R(Me,!0)-z);if(G<=de)de=G,J=Me;else break}return J}function R(z,q){var J=T(d(z-1)-Te(z));return q?se(J):J}function Z(){var z=A("left");return _n(E)[z]-_n(v)[z]+T(c(!1))}function se(z){return n.trimSpace&&t.is(Lo)&&(z=Vs(z,0,T(m(!0)-p()))),z}function Te(z){var q=n.focus;return q==="center"?(p()-u(z,!0))/2:+q*u(z)||0}function X(z){return R(z?e.Controller.getEnd():0,!!n.trimSpace)}function F(z){var q=T(P(Z(),z));return z?q>=0:q<=E[A("scrollWidth")]-_n(v)[A("width")]}function $(z,q){q=nu(q)?Z():q;var J=z!==!0&&T(q)<T(X(!1)),de=z!==!1&&T(q)>T(X(!0));return J||de}return{mount:b,move:D,jump:_,translate:y,shift:P,cancel:C,toIndex:k,toPosition:R,getPosition:Z,getLimit:X,exceededLimit:$,reposition:M}}function CL(t,e,n){var r=Je(t),i=r.on,s=r.emit,o=e.Move,l=o.getPosition,u=o.getLimit,c=o.toPosition,d=e.Slides,p=d.isEnough,m=d.getLength,w=n.omitEnd,A=t.is(Qo),T=t.is(Lo),N=Ue(Z,!1),E=Ue(Z,!0),v=n.start||0,I,b=v,M,D,_;function y(){S(),i([qt,ft,md],S),i(Xd,P)}function S(){M=m(!0),D=n.perMove,_=n.perPage,I=F();var G=Vs(v,0,w?I:M-1);G!==v&&(v=G,o.reposition())}function P(){I!==F()&&s(md)}function C(G,ye,ot){if(!Me()){var he=R(G),Ze=X(he);Ze>-1&&(ye||Ze!==v)&&(J(Ze),o.move(he,Ze,b,ot))}}function k(G,ye,ot,he){e.Scroll.scroll(G,ye,ot,function(){var Ze=X(o.toIndex(l()));J(w?Ri(Ze,I):Ze),he&&he()})}function R(G){var ye=v;if(Ai(G)){var ot=G.match(/([+\-<>])(\d+)?/)||[],he=ot[1],Ze=ot[2];he==="+"||he==="-"?ye=se(v+ +(""+he+(+Ze||1)),v):he===">"?ye=Ze?$(+Ze):N(!0):he==="<"&&(ye=E(!0))}else ye=A?G:Vs(G,0,I);return ye}function Z(G,ye){var ot=D||(we()?1:_),he=se(v+ot*(G?-1:1),v,!(D||we()));return he===-1&&T&&!jI(l(),u(!G),1)?G?0:I:ye?he:X(he)}function se(G,ye,ot){if(p()||we()){var he=Te(G);he!==G&&(ye=G,G=he,ot=!1),G<0||G>I?!D&&(_c(0,G,ye,!0)||_c(I,ye,G,!0))?G=$(z(G)):A?G=ot?G<0?-(M%_||_):M:G:n.rewind?G=G<0?I:0:G=-1:ot&&G!==ye&&(G=$(z(ye)+(G<ye?-1:1)))}else G=-1;return G}function Te(G){if(T&&n.trimSpace==="move"&&G!==v)for(var ye=l();ye===c(G,!0)&&_c(G,0,t.length-1,!n.rewind);)G<v?--G:++G;return G}function X(G){return A?(G+M)%M||0:G}function F(){for(var G=M-(we()||A&&D?1:_);w&&G-- >0;)if(c(M-1,!0)!==c(G,!0)){G++;break}return Vs(G,0,M-1)}function $(G){return Vs(we()?G:_*G,0,I)}function z(G){return we()?Ri(G,I):pd((G>=I?M-1:G)/_)}function q(G){var ye=o.toIndex(G);return T?Vs(ye,0,I):ye}function J(G){G!==v&&(b=v,v=G)}function de(G){return G?b:v}function we(){return!nu(n.focus)||n.isNavigation}function Me(){return t.state.is([Ko,tu])&&!!n.waitForTransition}return{mount:y,go:C,scroll:k,getNext:N,getPrev:E,getAdjacent:Z,getEnd:F,setIndex:J,getIndex:de,toIndex:$,toPage:z,toDest:q,hasFocus:we,isBusy:Me}}var NL="http://www.w3.org/2000/svg",kL="m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z",Qu=40;function DL(t,e,n){var r=Je(t),i=r.on,s=r.bind,o=r.emit,l=n.classes,u=n.i18n,c=e.Elements,d=e.Controller,p=c.arrows,m=c.track,w=p,A=c.prev,T=c.next,N,E,v={};function I(){M(),i(qt,b)}function b(){D(),I()}function M(){var k=n.arrows;k&&!(A&&T)&&S(),A&&T&&(bl(v,{prev:A,next:T}),Ll(w,k?"":"none"),ir(w,E=zg+"--"+n.direction),k&&(_(),C(),Ee([A,T],au,m.id),o(KI,A,T)))}function D(){r.destroy(),_r(w,E),N?(ys(p?[A,T]:w),A=T=null):sr([A,T],Ug)}function _(){i([Mi,qo,ft,xs,md],C),s(T,"click",Ue(y,">")),s(A,"click",Ue(y,"<"))}function y(k){d.go(k,!0)}function S(){w=p||po("div",l.arrows),A=P(!0),T=P(!1),N=!0,iu(w,[A,T]),!p&&Pg(w,m)}function P(k){var R='<button class="'+l.arrow+" "+(k?l.prev:l.next)+'" type="button"><svg xmlns="'+NL+'" viewBox="0 0 '+Qu+" "+Qu+'" width="'+Qu+'" height="'+Qu+'" focusable="false"><path d="'+(n.arrowPath||kL)+'" />';return MI(R)}function C(){if(A&&T){var k=t.index,R=d.getPrev(),Z=d.getNext(),se=R>-1&&k<R?u.last:u.prev,Te=Z>-1&&k>Z?u.first:u.next;A.disabled=R<0,T.disabled=Z<0,Ee(A,Tn,se),Ee(T,Tn,Te),o(qI,A,T,R,Z)}}return{arrows:v,mount:I,destroy:D,update:C}}var bL=Ng+"-interval";function LL(t,e,n){var r=Je(t),i=r.on,s=r.bind,o=r.emit,l=Zd(n.interval,t.go.bind(t,">"),_),u=l.isPaused,c=e.Elements,d=e.Elements,p=d.root,m=d.toggle,w=n.autoplay,A,T,N=w==="pause";function E(){w&&(v(),m&&Ee(m,au,c.track.id),N||I(),D())}function v(){n.pauseOnHover&&s(p,"mouseenter mouseleave",function(S){A=S.type==="mouseenter",M()}),n.pauseOnFocus&&s(p,"focusin focusout",function(S){T=S.type==="focusin",M()}),m&&s(m,"click",function(){N?I():b(!0)}),i([Lr,Jd,ft],l.rewind),i(Lr,y)}function I(){u()&&e.Slides.isEnough()&&(l.start(!n.resetProgress),T=A=N=!1,D(),o(Og))}function b(S){S===void 0&&(S=!0),N=!!S,D(),u()||(l.pause(),o(Mg))}function M(){N||(A||T?b(!1):I())}function D(){m&&(vr(m,vs,!N),Ee(m,Tn,n.i18n[N?"play":"pause"]))}function _(S){var P=c.bar;P&&On(P,"width",S*100+"%"),o(XI,S)}function y(S){var P=e.Slides.getAt(S);l.set(P&&+Vn(P.slide,bL)||n.interval)}return{mount:E,destroy:l.cancel,play:I,pause:b,isPaused:u}}function OL(t,e,n){var r=Je(t),i=r.on;function s(){n.cover&&(i(Vg,Ue(l,!0)),i([Mi,qt,ft],Ue(o,!0)))}function o(u){e.Slides.forEach(function(c){var d=su(c.container||c.slide,"img");d&&d.src&&l(u,d,c)})}function l(u,c,d){d.style("background",u?'center/cover no-repeat url("'+c.src+'")':"",!0),Ll(c,u?"none":"")}return{mount:s,destroy:Ue(o,!1)}}var ML=10,VL=600,jL=.6,FL=1.5,UL=800;function zL(t,e,n){var r=Je(t),i=r.on,s=r.emit,o=t.state.set,l=e.Move,u=l.getPosition,c=l.getLimit,d=l.exceededLimit,p=l.translate,m=t.is(Lo),w,A,T=1;function N(){i(Lr,b),i([qt,ft],M)}function E(_,y,S,P,C){var k=u();if(b(),S&&(!m||!d())){var R=e.Layout.sliderSize(),Z=Cp(_)*R*pd(Zt(_)/R)||0;_=l.toPosition(e.Controller.toDest(_%R))+Z}var se=jI(k,_,1);T=1,y=se?0:y||fd(Zt(_-k)/FL,UL),A=P,w=Zd(y,v,Ue(I,k,_,C),1),o(tu),s(Jd),w.start()}function v(){o(Do),A&&A(),s(xs)}function I(_,y,S,P){var C=u(),k=_+(y-_)*D(P),R=(k-C)*T;p(C+R),m&&!S&&d()&&(T*=jL,Zt(R)<ML&&E(c(d(!0)),VL,!1,A,!0))}function b(){w&&w.cancel()}function M(){w&&!w.isPaused()&&(b(),v())}function D(_){var y=n.easingFunc;return y?y(_):1-Math.pow(1-_,4)}return{mount:N,destroy:b,scroll:E,cancel:M}}var js={passive:!1,capture:!0};function BL(t,e,n){var r=Je(t),i=r.on,s=r.emit,o=r.bind,l=r.unbind,u=t.state,c=e.Move,d=e.Scroll,p=e.Controller,m=e.Elements.track,w=e.Media.reduce,A=e.Direction,T=A.resolve,N=A.orient,E=c.getPosition,v=c.exceededLimit,I,b,M,D,_,y=!1,S,P,C;function k(){o(m,sf,Rp,js),o(m,of,Rp,js),o(m,hS,Z,js),o(m,"click",X,{capture:!0}),o(m,"dragstart",hr),i([Mi,qt],R)}function R(){var ee=n.drag;pn(!ee),D=ee==="free"}function Z(ee){if(S=!1,!P){var De=Ze(ee);he(ee.target)&&(De||!ee.button)&&(p.isBusy()?hr(ee,!0):(C=De?m:window,_=u.is([Ko,tu]),M=null,o(C,sf,se,js),o(C,of,Te,js),c.cancel(),d.cancel(),F(ee)))}}function se(ee){if(u.is(yc)||(u.set(yc),s(HI)),ee.cancelable)if(_){c.translate(I+ot(we(ee)));var De=Me(ee)>AE,pt=y!==(y=v());(De||pt)&&F(ee),S=!0,s(WI),hr(ee)}else q(ee)&&(_=z(ee),hr(ee))}function Te(ee){u.is(yc)&&(u.set(Do),s(GI)),_&&($(ee),hr(ee)),l(C,sf,se),l(C,of,Te),_=!1}function X(ee){!P&&S&&hr(ee,!0)}function F(ee){M=b,b=ee,I=E()}function $(ee){var De=J(ee),pt=de(De),$n=n.rewind&&n.rewindByDrag;w(!1),D?p.scroll(pt,0,n.snap):t.is(lu)?p.go(N(Cp(De))<0?$n?"<":"-":$n?">":"+"):t.is(Lo)&&y&&$n?p.go(v(!0)?">":"<"):p.go(p.toDest(pt),!0),w(!0)}function z(ee){var De=n.dragMinThreshold,pt=Nl(De),$n=pt&&De.mouse||0,Yo=(pt?De.touch:+De)||10;return Zt(we(ee))>(Ze(ee)?Yo:$n)}function q(ee){return Zt(we(ee))>Zt(we(ee,!0))}function J(ee){if(t.is(Qo)||!y){var De=Me(ee);if(De&&De<AE)return we(ee)/De}return 0}function de(ee){return E()+Cp(ee)*Ri(Zt(ee)*(n.flickPower||600),D?1/0:e.Layout.listSize()*(n.flickMaxPages||1))}function we(ee,De){return ye(ee,De)-ye(G(ee),De)}function Me(ee){return Pp(ee)-Pp(G(ee))}function G(ee){return b===ee&&M||b}function ye(ee,De){return(Ze(ee)?ee.changedTouches[0]:ee)["page"+T(De?"Y":"X")]}function ot(ee){return ee/(y&&t.is(Lo)?wL:1)}function he(ee){var De=n.noDrag;return!kl(ee,"."+aS+", ."+sh)&&(!De||!kl(ee,De))}function Ze(ee){return typeof TouchEvent<"u"&&ee instanceof TouchEvent}function at(){return _}function pn(ee){P=ee}return{mount:k,disable:pn,isDragging:at}}var $L={Spacebar:" ",Right:nh,Left:th,Up:eS,Down:tS};function Bg(t){return t=Ai(t)?t:t.key,$L[t]||t}var RE="keydown";function HL(t,e,n){var r=Je(t),i=r.on,s=r.bind,o=r.unbind,l=t.root,u=e.Direction.resolve,c,d;function p(){m(),i(qt,w),i(qt,m),i(Lr,T)}function m(){var E=n.keyboard;E&&(c=E==="global"?window:l,s(c,RE,N))}function w(){o(c,RE)}function A(E){d=E}function T(){var E=d;d=!0,kI(function(){d=E})}function N(E){if(!d){var v=Bg(E);v===u(th)?t.go("<"):v===u(nh)&&t.go(">")}}return{mount:p,destroy:w,disable:A}}var el=Ng+"-lazy",Ec=el+"-srcset",WL="["+el+"], ["+Ec+"]";function GL(t,e,n){var r=Je(t),i=r.on,s=r.off,o=r.bind,l=r.emit,u=n.lazyLoad==="sequential",c=[qo,xs],d=[];function p(){n.lazyLoad&&(m(),i(ft,m))}function m(){br(d),w(),u?E():(s(c),i(c,A),A())}function w(){e.Slides.forEach(function(v){Cg(v.slide,WL).forEach(function(I){var b=Vn(I,el),M=Vn(I,Ec);if(b!==I.src||M!==I.srcset){var D=n.classes.spinner,_=I.parentElement,y=su(_,"."+D)||po("span",D,_);d.push([I,v,y]),I.src||Ll(I,"none")}})})}function A(){d=d.filter(function(v){var I=n.perPage*((n.preloadPages||1)+1)-1;return v[1].isWithin(t.index,I)?T(v):!0}),d.length||s(c)}function T(v){var I=v[0];ir(v[1].slide,bp),o(I,"load error",Ue(N,v)),Ee(I,"src",Vn(I,el)),Ee(I,"srcset",Vn(I,Ec)),sr(I,el),sr(I,Ec)}function N(v,I){var b=v[0],M=v[1];_r(M.slide,bp),I.type!=="error"&&(ys(v[2]),Ll(b,""),l(Vg,b,M),l(bo)),u&&E()}function E(){d.length&&T(d.shift())}return{mount:p,destroy:Ue(br,d),check:A}}function KL(t,e,n){var r=Je(t),i=r.on,s=r.emit,o=r.bind,l=e.Slides,u=e.Elements,c=e.Controller,d=c.hasFocus,p=c.getIndex,m=c.go,w=e.Direction.resolve,A=u.pagination,T=[],N,E;function v(){I(),i([qt,ft,md],v);var P=n.pagination;A&&Ll(A,P?"":"none"),P&&(i([Lr,Jd,xs],S),b(),S(),s(QI,{list:N,items:T},y(t.index)))}function I(){N&&(ys(A?Oi(N.children):N),_r(N,E),br(T),N=null),r.destroy()}function b(){var P=t.length,C=n.classes,k=n.i18n,R=n.perPage,Z=d()?c.getEnd()+1:Ol(P/R);N=A||po("ul",C.pagination,u.track.parentElement),ir(N,E=oh+"--"+_()),Ee(N,Sr,"tablist"),Ee(N,Tn,k.select),Ee(N,Fg,_()===rh?"vertical":"");for(var se=0;se<Z;se++){var Te=po("li",null,N),X=po("button",{class:C.page,type:"button"},Te),F=l.getIn(se).map(function(z){return z.slide.id}),$=!d()&&R>1?k.pageX:k.slideX;o(X,"click",Ue(M,se)),n.paginationKeyboard&&o(X,"keydown",Ue(D,se)),Ee(Te,Sr,"presentation"),Ee(X,Sr,"tab"),Ee(X,au,F.join(" ")),Ee(X,Tn,Np($,se+1)),Ee(X,mo,-1),T.push({li:Te,button:X,page:se})}}function M(P){m(">"+P,!0)}function D(P,C){var k=T.length,R=Bg(C),Z=_(),se=-1;R===w(nh,!1,Z)?se=++P%k:R===w(th,!1,Z)?se=(--P+k)%k:R==="Home"?se=0:R==="End"&&(se=k-1);var Te=T[se];Te&&(OI(Te.button),m(">"+se),hr(C,!0))}function _(){return n.paginationDirection||n.direction}function y(P){return T[c.toPage(P)]}function S(){var P=y(p(!0)),C=y(p());if(P){var k=P.button;_r(k,vs),sr(k,wE),Ee(k,mo,-1)}if(C){var R=C.button;ir(R,vs),Ee(R,wE,!0),Ee(R,mo,"")}s(YI,{list:N,items:T},P,C)}return{items:T,mount:v,destroy:I,getAt:y,update:S}}var qL=[" ","Enter"];function QL(t,e,n){var r=n.isNavigation,i=n.slideFocus,s=[];function o(){t.splides.forEach(function(A){A.isParent||(c(t,A.splide),c(A.splide,t))}),r&&d()}function l(){s.forEach(function(A){A.destroy()}),br(s)}function u(){l(),o()}function c(A,T){var N=Je(A);N.on(Lr,function(E,v,I){T.go(T.is(Qo)?I:E)}),s.push(N)}function d(){var A=Je(t),T=A.on;T(Dg,m),T(JI,w),T([Mi,qt],p),s.push(A),A.emit(Lg,t.splides)}function p(){Ee(e.Elements.list,Fg,n.direction===rh?"vertical":"")}function m(A){t.go(A.index)}function w(A,T){Rg(qL,Bg(T))&&(m(A),hr(T))}return{setup:Ue(e.Media.set,{slideFocus:nu(i)?r:i},!0),mount:o,destroy:l,remount:u}}function YL(t,e,n){var r=Je(t),i=r.bind,s=0;function o(){n.wheel&&i(e.Elements.track,"wheel",l,js)}function l(c){if(c.cancelable){var d=c.deltaY,p=d<0,m=Pp(c),w=n.wheelMinThreshold||0,A=n.wheelSleep||0;Zt(d)>w&&m-s>A&&(t.go(p?"<":">"),s=m),u(p)&&hr(c)}}function u(c){return!n.releaseWheel||t.state.is(Ko)||e.Controller.getAdjacent(c)!==-1}return{mount:o}}var XL=90;function JL(t,e,n){var r=Je(t),i=r.on,s=e.Elements.track,o=n.live&&!n.isNavigation,l=po("span",gL),u=Zd(XL,Ue(d,!1));function c(){o&&(m(!e.Autoplay.isPaused()),Ee(s,SE,!0),l.textContent="",i(Og,Ue(m,!0)),i(Mg,Ue(m,!1)),i([qo,xs],Ue(d,!0)))}function d(w){Ee(s,IE,w),w?(iu(s,l),u.start()):(ys(l),u.cancel())}function p(){sr(s,[TE,SE,IE]),ys(l)}function m(w){o&&Ee(s,TE,w?"off":"polite")}return{mount:c,disable:m,destroy:p}}var ZL=Object.freeze({__proto__:null,Media:aL,Direction:lL,Elements:TL,Slides:SL,Layout:xL,Clones:RL,Move:PL,Controller:CL,Arrows:DL,Autoplay:LL,Cover:OL,Scroll:zL,Drag:BL,Keyboard:HL,LazyLoad:GL,Pagination:KL,Sync:QL,Wheel:YL,Live:JL}),eO={prev:"Previous slide",next:"Next slide",first:"Go to first slide",last:"Go to last slide",slideX:"Go to slide %s",pageX:"Go to page %s",play:"Start autoplay",pause:"Pause autoplay",carousel:"carousel",slide:"slide",select:"Select a slide to show",slideLabel:"%s of %s"},tO={type:"slide",role:"region",speed:400,perPage:1,cloneStatus:!0,arrows:!0,pagination:!0,paginationKeyboard:!0,interval:5e3,pauseOnHover:!0,pauseOnFocus:!0,resetProgress:!0,easing:"cubic-bezier(0.25, 1, 0.5, 1)",drag:!0,direction:"ltr",trimSpace:!0,focusableNodes:"a, button, textarea, input, select, iframe",live:!0,classes:_L,i18n:eO,reducedMotion:{speed:0,rewindSpeed:0,autoplay:"pause"}};function nO(t,e,n){var r=e.Slides;function i(){Je(t).on([Mi,ft],s)}function s(){r.forEach(function(l){l.style("transform","translateX(-"+100*l.index+"%)")})}function o(l,u){r.style("transition","opacity "+n.speed+"ms "+n.easing),kI(u)}return{mount:i,start:o,cancel:Rp}}function rO(t,e,n){var r=e.Move,i=e.Controller,s=e.Scroll,o=e.Elements.list,l=Ue(On,o,"transition"),u;function c(){Je(t).bind(o,"transitionend",function(w){w.target===o&&u&&(p(),u())})}function d(w,A){var T=r.toPosition(w,!0),N=r.getPosition(),E=m(w);Zt(T-N)>=1&&E>=1?n.useScroll?s.scroll(T,E,!1,A):(l("transform "+E+"ms "+n.easing),r.translate(T,!0),u=A):(r.jump(w),A())}function p(){l(""),s.cancel()}function m(w){var A=n.rewindSpeed;if(t.is(Lo)&&A){var T=i.getIndex(!0),N=i.getEnd();if(T===0&&w>=N||T>=N&&w===0)return A}return n.speed}return{mount:c,start:d,cancel:p}}var iO=function(){function t(n,r){this.event=Je(),this.Components={},this.state=sL(eo),this.splides=[],this._o={},this._E={};var i=Ai(n)?VI(document,n):n;Za(i,i+" is invalid."),this.root=i,r=oi({label:Vn(i,Tn)||"",labelledby:Vn(i,jg)||""},tO,t.defaults,r||{});try{oi(r,JSON.parse(Vn(i,Ng)))}catch{Za(!1,"Invalid JSON")}this._o=Object.create(oi({},r))}var e=t.prototype;return e.mount=function(r,i){var s=this,o=this.state,l=this.Components;Za(o.is([eo,hd]),"Already mounted!"),o.set(eo),this._C=l,this._T=i||this._T||(this.is(lu)?nO:rO),this._E=r||this._E;var u=bl({},ZL,this._E,{Transition:this._T});return is(u,function(c,d){var p=c(s,l,s._o);l[d]=p,p.setup&&p.setup()}),is(l,function(c){c.mount&&c.mount()}),this.emit(Mi),ir(this.root,yL),o.set(Do),this.emit(kp),this},e.sync=function(r){return this.splides.push({splide:r}),r.splides.push({splide:this,isParent:!0}),this.state.is(Do)&&(this._C.Sync.remount(),r.Components.Sync.remount()),this},e.go=function(r){return this._C.Controller.go(r),this},e.on=function(r,i){return this.event.on(r,i),this},e.off=function(r){return this.event.off(r),this},e.emit=function(r){var i;return(i=this.event).emit.apply(i,[r].concat(Oi(arguments,1))),this},e.add=function(r,i){return this._C.Slides.add(r,i),this},e.remove=function(r){return this._C.Slides.remove(r),this},e.is=function(r){return this._o.type===r},e.refresh=function(){return this.emit(ft),this},e.destroy=function(r){r===void 0&&(r=!0);var i=this.event,s=this.state;return s.is(eo)?Je(this).on(kp,this.destroy.bind(this,r)):(is(this._C,function(o){o.destroy&&o.destroy(r)},!0),i.emit(bg),i.destroy(),r&&br(this.splides),s.set(hd)),this},eL(t,[{key:"options",get:function(){return this._o},set:function(r){this._C.Media.set(r,!0,!0)}},{key:"length",get:function(){return this._C.Slides.getLength(!0)}},{key:"index",get:function(){return this._C.Controller.getIndex()}}]),t}(),$g=iO;$g.defaults={};$g.STATES=nL;var PE=[[Mi,"onMounted"],[kp,"onReady"],[Lr,"onMove"],[qo,"onMoved"],[Dg,"onClick"],[UI,"onActive"],[zI,"onInactive"],[BI,"onVisible"],[$I,"onHidden"],[ft,"onRefresh"],[qt,"onUpdated"],[bo,"onResize"],[Xd,"onResized"],[HI,"onDrag"],[WI,"onDragging"],[GI,"onDragged"],[Jd,"onScroll"],[xs,"onScrolled"],[bg,"onDestroy"],[KI,"onArrowsMounted"],[qI,"onArrowsUpdated"],[QI,"onPaginationMounted"],[YI,"onPaginationUpdated"],[Lg,"onNavigationMounted"],[Og,"onAutoplayPlay"],[XI,"onAutoplayPlaying"],[Mg,"onAutoplayPause"],[Vg,"onLazyLoadLoaded"]];function Hg(...t){return t.filter(Boolean).join(" ")}function gd(t){return t!==null&&typeof t=="object"}function Lp(t,e){if(Array.isArray(t)&&Array.isArray(e))return t.length===e.length&&!t.some((n,r)=>!Lp(n,e[r]));if(gd(t)&&gd(e)){const n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&!n.some(i=>!Object.prototype.hasOwnProperty.call(e,i)||!Lp(t[i],e[i]))}return t===e}function sO(t,e){return t.length===e.length&&!t.some((n,r)=>n!==e[r])}function oO(t,e){if(t){const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];if(i!=="__proto__"&&e(t[i],i)===!1)break}}return t}function Op(t,e){const n=t;return oO(e,(r,i)=>{Array.isArray(r)?n[i]=r.slice():gd(r)?n[i]=Op(gd(n[i])?n[i]:{},r):n[i]=r}),n}var aO=({children:t,className:e,...n})=>Bt.createElement("div",{className:Hg("splide__track",e),...n},Bt.createElement("ul",{className:"splide__list"},t)),to=class extends Bt.Component{constructor(){super(...arguments),this.splideRef=Bt.createRef(),this.slides=[]}componentDidMount(){const{options:t,extensions:e,transition:n}=this.props,{current:r}=this.splideRef;r&&(this.splide=new $g(r,t),this.bind(this.splide),this.splide.mount(e,n),this.options=Op({},t||{}),this.slides=this.getSlides())}componentWillUnmount(){this.splide&&(this.splide.destroy(),this.splide=void 0),this.options=void 0,this.slides.length=0}componentDidUpdate(){if(!this.splide)return;const{options:t}=this.props;t&&!Lp(this.options,t)&&(this.splide.options=t,this.options=Op({},t));const e=this.getSlides();sO(this.slides,e)||(this.splide.refresh(),this.slides=e)}sync(t){var e;(e=this.splide)==null||e.sync(t)}go(t){var e;(e=this.splide)==null||e.go(t)}getSlides(){var t;if(this.splide){const e=(t=this.splide.Components.Elements)==null?void 0:t.list.children;return e&&Array.prototype.slice.call(e)||[]}return[]}bind(t){PE.forEach(([e,n])=>{const r=this.props[n];typeof r=="function"&&t.on(e,(...i)=>{r(t,...i)})})}omit(t,e){return e.forEach(n=>{Object.prototype.hasOwnProperty.call(t,n)&&delete t[n]}),t}render(){const{className:t,tag:e="div",hasTrack:n=!0,children:r,...i}=this.props;return Bt.createElement(e,{className:Hg("splide",t),ref:this.splideRef,...this.omit(i,["options",...PE.map(s=>s[1])])},n?Bt.createElement(aO,null,r):r)}},no=({children:t,className:e,...n})=>Bt.createElement("li",{className:Hg("splide__slide",e),...n},t);/*!
 * Splide.js
 * Version  : 4.1.3
 * License  : MIT
 * Copyright: 2022 Naotoshi Fujita
 */const lO=()=>{const{popularAnimeMovie:t}=xi();return g.jsx(g.Fragment,{children:g.jsxs("div",{className:"md:w-[1440px] w-[1380px] mx-auto",children:[g.jsx("h1",{className:"md:text-4xl text-5xl text-secondary mt-6",children:"Top Movies"}),g.jsx("div",{className:"mt-6 md:block hidden",children:g.jsx(to,{options:{perPage:5,gap:"0.5rem",drag:"free",arrows:!1},children:t.slice(0,15).map(e=>g.jsx(no,{children:g.jsx("div",{className:"w-[280px] h-[400px]",children:g.jsxs(Et,{to:`/anime/${e.mal_id}`,className:"",children:[g.jsx("img",{src:e.images.jpg.large_image_url,alt:"",className:"w-full h-full object-cover rounded-3xl relative"}),g.jsx("div",{className:"absolute bottom-0 bg-secondary w-[280px] top-80 opacity-75 text-center rounded-b-3xl",children:g.jsx("h1",{className:"text-lg text-[#ffffff] text-wrap pt-3 text-bold",children:e.title})})]},e.mal_id)})},e.mal_id))})}),g.jsx("div",{className:"mt-6 md:hidden flex-none",children:g.jsx(to,{options:{perPage:3,gap:"0.5rem",drag:"free",arrows:!1},children:t.slice(0,15).map(e=>g.jsx(no,{children:g.jsx("div",{className:"w-[425px] h-[600px]",children:g.jsxs(Et,{to:`/anime/${e.mal_id}`,className:"",children:[g.jsx("img",{src:e.images.jpg.large_image_url,alt:"",className:"w-full h-full object-cover rounded-3xl relative"}),g.jsx("div",{className:"absolute bottom-0 bg-secondary w-[425px] top-[30rem] opacity-75 text-center rounded-b-3xl",children:g.jsx("h1",{className:"text-3xl text-[#ffffff] text-wrap pt-6 text-bold",children:e.title})})]},e.mal_id)})},e.mal_id))})})]})})},uO=()=>{const{genres:t}=xi(),e=["#e76f51","#00b4d8","#a3b18a","#ffecd1","#c8b6ff","#09f04a","#a60e2e","cyan","magenta","coral"];return g.jsx(g.Fragment,{children:g.jsxs("div",{className:"",children:[g.jsx("h1",{className:"md:text-4xl text-5xl text-secondary mt-8",children:"Genres"}),g.jsxs("div",{className:"md:w-[400px] w-full md:h-[500px] h-[1000px] grid grid-cols-3 gap-4 bg-[#020D19] p-5 rounded-3xl mt-4 md:pb-auto pb-10",children:[t.slice(0,24).map((n,r)=>{const i=r%e.length,s=e[i];return g.jsx("div",{className:"flex items-center justify-center",children:g.jsx("h1",{className:"text-primary md:text-sm text-4xl font-bold text-nowrap hover:bg-primary hover:bg-opacity-10 hover:rounded-lg p-2",style:{color:s},children:n.name})},n.mal_id)}),g.jsx("div",{className:"md:w-[360px] w-[1300px] md:px-2 py-1 px-4 bg-primary opacity-20 text-[#000000] md:text-lg text-5xl text-center md:rounded-xl rounded-3xl md:pt-2 pt-7 font-bold hover:opacity-30 md:ml-0 ml-5",children:"ShowMore"})]})]})})},cO=()=>{const{animeRecommendations:t}=xi();return g.jsx(g.Fragment,{children:g.jsxs("div",{className:"md:w-[1440px] w-[1380px] mx-auto flex md:flex-row flex-col-reverse justify-between mt-10",children:[g.jsxs("div",{className:"md:w-[1000px] md:mt-0 mt-10",children:[g.jsx("h1",{className:"md:text-4xl text-5xl text-secondary mt-6",children:"Recommendations"}),g.jsx("div",{className:"mt-6 md:block hidden",children:g.jsx(to,{options:{perPage:4,gap:"0.5rem",drag:"free",arrows:!1},children:t.slice(5,25).map(e=>g.jsx(no,{children:g.jsx("div",{className:"w-[230px] h-[300px]",children:g.jsxs(Et,{to:`/anime/${e.entry[0].mal_id}`,className:"",children:[g.jsx("img",{src:e.entry[0].images.jpg.large_image_url,alt:"",className:"w-full h-full object-cover rounded-3xl relative"}),g.jsx("div",{className:"absolute bottom-0 bg-secondary w-[230px] top-55 opacity-75 text-center rounded-b-3xl",children:g.jsx("h1",{className:"text-lg text-[#ffffff] text-wrap pt-3 text-bold",children:e.entry[0].title})})]},e.entry[0].mal_id)})},e.mal_id))})}),g.jsx("div",{className:"mt-6 md:hidden block",children:g.jsx(to,{options:{perPage:3,gap:"0.5rem",drag:"free",arrows:!1},children:t.slice(5,25).map(e=>g.jsx(no,{children:g.jsx("div",{className:"w-[425px] h-[600px]",children:g.jsxs(Et,{to:`/anime/${e.entry[0].mal_id}`,className:"",children:[g.jsx("img",{src:e.entry[0].images.jpg.large_image_url,alt:"",className:"w-full h-full object-cover rounded-3xl relative"}),g.jsx("div",{className:"absolute bottom-0 bg-secondary w-[425px] top-[30rem] opacity-75 text-center rounded-b-3xl",children:g.jsx("h1",{className:"text-3xl text-[#ffffff] text-wrap pt-6 text-bold",children:e.entry[0].title})})]},e.entry[0].mal_id)})},e.mal_id))})}),g.jsx("div",{className:"mt-6 md:block hidden",children:g.jsx(to,{options:{perPage:4,gap:"0.5rem",drag:"free",arrows:!1},children:t.slice(5,25).map(e=>g.jsx(no,{children:g.jsx("div",{className:"w-[230px] h-[300px]",children:g.jsxs(Et,{to:`/anime/${e.entry[1].mal_id}`,className:"",children:[g.jsx("img",{src:e.entry[1].images.jpg.large_image_url,alt:"",className:"w-full h-full object-cover rounded-3xl relative"}),g.jsx("div",{className:"absolute bottom-0 bg-secondary w-[230px] top-55 opacity-75 text-center rounded-b-3xl",children:g.jsx("h1",{className:"text-lg text-[#ffffff] text-wrap pt-3 text-bold",children:e.entry[1].title})})]},e.entry[1].mal_id)})},e.mal_id))})}),g.jsx("div",{className:"mt-6 md:hidden block",children:g.jsx(to,{options:{perPage:3,gap:"0.5rem",drag:"free",arrows:!1},children:t.slice(5,25).map(e=>g.jsx(no,{children:g.jsx("div",{className:"w-[425px] h-[600px]",children:g.jsxs(Et,{to:`/anime/${e.entry[1].mal_id}`,className:"",children:[g.jsx("img",{src:e.entry[1].images.jpg.large_image_url,alt:"",className:"w-full h-full object-cover rounded-3xl relative"}),g.jsx("div",{className:"absolute bottom-0 bg-secondary w-[425px] top-[30rem] opacity-75 text-center rounded-b-3xl",children:g.jsx("h1",{className:"text-3xl text-[#ffffff] text-wrap pt-6 text-bold",children:e.entry[1].title})})]},e.entry[1].mal_id)})},e.mal_id))})})]}),g.jsx("div",{className:"",children:g.jsx(uO,{})})]})})};function dO(t){return or({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M90.2 228.2c8.9-42.4 37.4-77.7 75.7-95.7 3.6 4.9 28 38.8 50.7 79-64 17-120.3 16.8-126.4 16.7zM314.6 154c-33.6-29.8-79.3-41.1-122.6-30.6 3.8 5.1 28.6 38.9 51 80 48.6-18.3 69.1-45.9 71.6-49.4zM140.1 364c40.5 31.6 93.3 36.7 137.3 18-2-12-10-53.8-29.2-103.6-55.1 18.8-93.8 56.4-108.1 85.6zm98.8-108.2c-3.4-7.8-7.2-15.5-11.1-23.2C159.6 253 93.4 252.2 87.4 252c0 1.4-.1 2.8-.1 4.2 0 35.1 13.3 67.1 35.1 91.4 22.2-37.9 67.1-77.9 116.5-91.8zm34.9 16.3c17.9 49.1 25.1 89.1 26.5 97.4 30.7-20.7 52.5-53.6 58.6-91.6-4.6-1.5-42.3-12.7-85.1-5.8zm-20.3-48.4c4.8 9.8 8.3 17.8 12 26.8 45.5-5.7 90.7 3.4 95.2 4.4-.3-32.3-11.8-61.9-30.9-85.1-2.9 3.9-25.8 33.2-76.3 53.9zM448 80v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-64 176c0-88.2-71.8-160-160-160S64 167.8 64 256s71.8 160 160 160 160-71.8 160-160z"},child:[]}]})(t)}function hO(t){return or({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z"},child:[]}]})(t)}function fO(t){return or({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM277.3 415.7c-8.4 1.5-11.5-3.7-11.5-8 0-5.4.2-33 .2-55.3 0-15.6-5.2-25.5-11.3-30.7 37-4.1 76-9.2 76-73.1 0-18.2-6.5-27.3-17.1-39 1.7-4.3 7.4-22-1.7-45-13.9-4.3-45.7 17.9-45.7 17.9-13.2-3.7-27.5-5.6-41.6-5.6-14.1 0-28.4 1.9-41.6 5.6 0 0-31.8-22.2-45.7-17.9-9.1 22.9-3.5 40.6-1.7 45-10.6 11.7-15.6 20.8-15.6 39 0 63.6 37.3 69 74.3 73.1-4.8 4.3-9.1 11.7-10.6 22.3-9.5 4.3-33.8 11.7-48.3-13.9-9.1-15.8-25.5-17.1-25.5-17.1-16.2-.2-1.1 10.2-1.1 10.2 10.8 5 18.4 24.2 18.4 24.2 9.7 29.7 56.1 19.7 56.1 19.7 0 13.9.2 36.5.2 40.6 0 4.3-3 9.5-11.5 8-66-22.1-112.2-84.9-112.2-158.3 0-91.8 70.2-161.5 162-161.5S388 165.6 388 257.4c.1 73.4-44.7 136.3-110.7 158.3zm-98.1-61.1c-1.9.4-3.7-.4-3.9-1.7-.2-1.5 1.1-2.8 3-3.2 1.9-.2 3.7.6 3.9 1.9.3 1.3-1 2.6-3 3zm-9.5-.9c0 1.3-1.5 2.4-3.5 2.4-2.2.2-3.7-.9-3.7-2.4 0-1.3 1.5-2.4 3.5-2.4 1.9-.2 3.7.9 3.7 2.4zm-13.7-1.1c-.4 1.3-2.4 1.9-4.1 1.3-1.9-.4-3.2-1.9-2.8-3.2.4-1.3 2.4-1.9 4.1-1.5 2 .6 3.3 2.1 2.8 3.4zm-12.3-5.4c-.9 1.1-2.8.9-4.3-.6-1.5-1.3-1.9-3.2-.9-4.1.9-1.1 2.8-.9 4.3.6 1.3 1.3 1.8 3.3.9 4.1zm-9.1-9.1c-.9.6-2.6 0-3.7-1.5s-1.1-3.2 0-3.9c1.1-.9 2.8-.2 3.7 1.3 1.1 1.5 1.1 3.3 0 4.1zm-6.5-9.7c-.9.9-2.4.4-3.5-.6-1.1-1.3-1.3-2.8-.4-3.5.9-.9 2.4-.4 3.5.6 1.1 1.3 1.3 2.8.4 3.5zm-6.7-7.4c-.4.9-1.7 1.1-2.8.4-1.3-.6-1.9-1.7-1.5-2.6.4-.6 1.5-.9 2.8-.4 1.3.7 1.9 1.8 1.5 2.6z"},child:[]}]})(t)}function pO(t){return or({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224,202.66A53.34,53.34,0,1,0,277.36,256,53.38,53.38,0,0,0,224,202.66Zm124.71-41a54,54,0,0,0-30.41-30.41c-21-8.29-71-6.43-94.3-6.43s-73.25-1.93-94.31,6.43a54,54,0,0,0-30.41,30.41c-8.28,21-6.43,71.05-6.43,94.33S91,329.26,99.32,350.33a54,54,0,0,0,30.41,30.41c21,8.29,71,6.43,94.31,6.43s73.24,1.93,94.3-6.43a54,54,0,0,0,30.41-30.41c8.35-21,6.43-71.05,6.43-94.33S357.1,182.74,348.75,161.67ZM224,338a82,82,0,1,1,82-82A81.9,81.9,0,0,1,224,338Zm85.38-148.3a19.14,19.14,0,1,1,19.13-19.14A19.1,19.1,0,0,1,309.42,189.74ZM400,32H48A48,48,0,0,0,0,80V432a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V80A48,48,0,0,0,400,32ZM382.88,322c-1.29,25.63-7.14,48.34-25.85,67s-41.4,24.63-67,25.85c-26.41,1.49-105.59,1.49-132,0-25.63-1.29-48.26-7.15-67-25.85s-24.63-41.42-25.85-67c-1.49-26.42-1.49-105.61,0-132,1.29-25.63,7.07-48.34,25.85-67s41.47-24.56,67-25.78c26.41-1.49,105.59-1.49,132,0,25.63,1.29,48.33,7.15,67,25.85s24.63,41.42,25.85,67.05C384.37,216.44,384.37,295.56,382.88,322Z"},child:[]}]})(t)}function mO(t){return or({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-48.9 158.8c.2 2.8.2 5.7.2 8.5 0 86.7-66 186.6-186.6 186.6-37.2 0-71.7-10.8-100.7-29.4 5.3.6 10.4.8 15.8.8 30.7 0 58.9-10.4 81.4-28-28.8-.6-53-19.5-61.3-45.5 10.1 1.5 19.2 1.5 29.6-1.2-30-6.1-52.5-32.5-52.5-64.4v-.8c8.7 4.9 18.9 7.9 29.6 8.3a65.447 65.447 0 0 1-29.2-54.6c0-12.2 3.2-23.4 8.9-33.1 32.3 39.8 80.8 65.8 135.2 68.6-9.3-44.5 24-80.6 64-80.6 18.9 0 35.9 7.9 47.9 20.7 14.8-2.8 29-8.3 41.6-15.8-4.9 15.2-15.2 28-28.8 36.1 13.2-1.4 26-5.1 37.8-10.2-8.9 13.1-20.1 24.7-32.9 34z"},child:[]}]})(t)}function gO(t){return or({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}const yO=()=>g.jsxs("div",{className:"text-6xl text-primary absolute bottom-0 md:h-[500px] md:w-[1519px] w-[1440px] h-[1300px] left-0",children:[g.jsx("img",{src:lT,alt:"",className:"w-full h-full object-cover opacity-30 relative"}),g.jsxs("div",{className:"absolute z-10 md:top-10 top-20 md:w-[1440px] w-[1340px] mx-auto left-10",children:[g.jsxs("div",{className:"flex flex-row items-center space-x-1 font-bold mt-10 md:ml-8 ml-3",children:[g.jsx("h1",{className:"md:text-4xl text-6xl",children:"RATE"}),g.jsx("span",{className:"md:text-lg text-3xl text-[#F49F1C]",children:"My"}),g.jsx("h1",{className:"md:text-4xl text-6xl",children:"FLICKS"})]}),g.jsxs("div",{className:"py-16 px-4 text-primary flex md:flex-row flex-col w-full justify-evenly",children:[g.jsxs("div",{className:"md:border-r-2",children:[g.jsx("p",{className:"md:text-3xl text-5xl md:w-[700px] w-auto text-pretty text-justify pr-4",children:"Its time to ditch the text file. Keep track of your anime easily by creating your own list."}),g.jsxs("div",{className:"flex justify-around md:w-[75%] my-16",children:[g.jsx(hO,{className:"md:size-[35px] size-[70px] md:hover:size-[40px] hover:size-[75px] delay-300 transition-all ease-in-out cursor-pointer "}),g.jsx(pO,{className:"md:size-[35px] size-[70px] md:hover:size-[40px] hover:size-[75px] delay-300 transition-all ease-in-out cursor-pointer"}),g.jsx(mO,{className:"md:size-[35px] size-[70px] md:hover:size-[40px] hover:size-[75px] delay-300 transition-all ease-in-out cursor-pointer"}),g.jsx(fO,{className:"md:size-[35px] size-[70px] md:hover:size-[40px] hover:size-[75px] delay-300 transition-all ease-in-out cursor-pointer"}),g.jsx(dO,{className:"md:size-[35px] size-[70px] md:hover:size-[40px] hover:size-[75px] delay-300 transition-all ease-in-out cursor-pointer"})]})]}),g.jsxs("div",{className:"flex justify-between md:mt-0 mt-10 space-x-20 pl-2",children:[g.jsxs("div",{className:"",children:[g.jsx("h6",{className:"md:text-3xl text-6xl text-primary font-bold hover:underline",children:"Top Anime"}),g.jsxs("ul",{className:"md:mt-2 mt-5",children:[g.jsx("li",{className:"py-2 md:text-sm text-3xl",children:"One Piece"}),g.jsx("li",{className:"py-2 md:text-sm text-3xl",children:"Naruto Shippuden"}),g.jsx("li",{className:"py-2 md:text-sm text-3xl",children:"Hunter x Hunter"}),g.jsx("li",{className:"py-2 md:text-sm text-3xl",children:"Bleach"})]})]}),g.jsxs("div",{className:"",children:[g.jsx("h6",{className:"md:text-3xl text-6xl text-primary font-bold hover:underline",children:"Top Movies"}),g.jsxs("ul",{className:"md:mt-2 mt-5",children:[g.jsx("li",{className:"py-2 md:text-sm text-3xl",children:"Koe no Katachi"}),g.jsx("li",{className:"py-2 md:text-sm text-3xl",children:"Kimi no Na wa"}),g.jsx("li",{className:"py-2 md:text-sm text-3xl",children:"Kimi no Suizou wo Tabetai"}),g.jsx("li",{className:"py-2 md:text-sm text-3xl",children:"Violet Evergarden"})]})]}),g.jsxs("div",{className:"",children:[g.jsx("h6",{className:"md:text-3xl text-6xl text-primary font-bold hover:underline",children:"Top Airing"}),g.jsxs("ul",{className:"md:mt-2 mt-5",children:[g.jsx("li",{className:"py-2 md:text-sm text-3xl",children:"One Piece"}),g.jsx("li",{className:"py-2 md:text-sm text-3xl",children:"Boku no Hero Academia"}),g.jsx("li",{className:"py-2 md:text-sm text-3xl",children:"Wind Breaker"}),g.jsx("li",{className:"py-2 md:text-sm text-3xl",children:"Solo Leveling"})]})]})]})]}),g.jsxs("div",{className:"flex flex-row md:text-base text-3xl text-primary md:bottom-2 -bottom-72 right-10 absolute",children:[g.jsx("p",{className:"px-3 border-r-2 hover:underline ",children:"Terms and Conditions"}),g.jsx("p",{className:"px-3 border-r-2 hover:underline",children:"Privacy Policy"}),g.jsx("p",{className:"px-3  hover:underline",children:"Contact Us"})]})]})]}),vO=()=>{const t=["Anime","Movies","TvShows"],e=["AnimeList","MoviesList","TvShowsList"],n=["profile","Logout"],r=j.useRef(null),i=Fo(),{currentUser:s,Name:o}=Go(),[l,u]=j.useState(!1),[c,d]=j.useState(!1),p=()=>{l===!1?(d(!1),u(!0)):u(!1)},m=()=>{c===!1?(u(!1),d(!0)):d(!1)},[w,A]=j.useState(!1),T=()=>{A(w!==!0)},[N,E]=j.useState(!1),[v,I]=j.useState(!1),[b,M]=j.useState(!1),[D,_]=j.useState(null),[y,S]=j.useState(null),[P,C]=j.useState(null),k=()=>{i("/Saved")},R=()=>{Ek(gc).then(()=>{localStorage.removeItem("hasLoaded"),i("/Login")}).catch(he=>{console.error("Error logging out: ",he)})},Z=()=>{M(!1),I(!1),clearTimeout(r.current),E(!0)},se=()=>{r.current=setTimeout(()=>{E(!1)},200)},Te=()=>{clearTimeout(r.current)},X=()=>{r.current=setTimeout(()=>{E(!1)},200)},F=he=>{_(he),E(!1)},$=()=>{M(!1),E(!1),clearTimeout(r.current),I(!0)},z=()=>{r.current=setTimeout(()=>{I(!1)},200)},q=()=>{clearTimeout(r.current)},J=()=>{r.current=setTimeout(()=>{I(!1)},200)},de=he=>{S(he),I(!1),he==="AnimeList"&&k()},we=()=>{I(!1),E(!1),clearTimeout(r.current),M(!0)},Me=()=>{r.current=setTimeout(()=>{M(!1)},200)},G=()=>{clearTimeout(r.current)},ye=()=>{r.current=setTimeout(()=>{M(!1)},200)},ot=he=>{C(he),M(!1),he=="Logout"&&R()};return g.jsx(g.Fragment,{children:g.jsxs("div",{className:"md:w-[1520px] w-[1440px] md:h-[570vh] h-[1300vh] bg-secondary relative text-primary",children:[g.jsxs("div",{className:"max-w-[1480px] mx-auto md:p-2 p-10",children:[g.jsxs("nav",{className:"flex flex-row justify-between items-center",children:[g.jsxs("div",{className:"flex flex-row items-center space-x-1 font-bold",children:[g.jsx("h1",{className:"md:text-xl text-6xl",children:"RATE"}),g.jsx("span",{className:"md:text-xs text-3xl text-[#F49F1C]",children:"My"}),g.jsx("h1",{className:"md:text-xl text-6xl",children:"FLICKS"})]}),g.jsxs("ul",{className:"md:flex flex-row md:space-x-10 items-center font-bold md:ml-10 hidden",children:[g.jsx("li",{className:"hover:text-shadow",children:"Home"}),g.jsxs("div",{className:"",children:[g.jsx("button",{className:"outline-none hover:text-shadow ",onMouseEnter:Z,onMouseLeave:se,children:"Categories"}),N&&g.jsx("div",{className:"w-screen absolute left-0 right-0 top-[50px] bg-secondary",onMouseEnter:Te,onMouseLeave:X,children:g.jsx("div",{className:"py-3",children:t.map(he=>g.jsx("div",{className:"cursor-pointer px-3 py-2 ml-48 text-3xl hover:text-shadow",onClick:()=>{F(he)},children:he},he))})})]}),g.jsxs("div",{className:"",children:[g.jsx("button",{className:"outline-none hover:text-shadow",onMouseEnter:$,onMouseLeave:z,children:"MyList"}),v&&g.jsx("div",{className:"w-screen absolute left-0 right-0 top-[50px] bg-secondary",onMouseEnter:q,onMouseLeave:J,children:g.jsx("div",{className:"py-3",children:e.map(he=>g.jsx("div",{className:"cursor-pointer px-3 py-2 ml-48 text-3xl hover:text-shadow",onClick:()=>{de(he)},children:he},he))})})]}),g.jsx("li",{className:"hover:text-shadow",children:"Rated"})]}),g.jsx("div",{className:"md:flex flex-row justify-end items-center w-full font-bold ml-10 hidden",children:g.jsx("div",{className:"md:flex hidden",children:s?g.jsxs("div",{className:"",children:[g.jsx("div",{className:"",onMouseEnter:we,onMouseLeave:Me,children:g.jsx("div",{className:"hover:text-shadow bg-[#303D55] px-2 py-1 rounded-lg",children:o})}),b&&g.jsx("div",{className:"w-screen absolute left-0 right-0 top-[50px] bg-secondary",onMouseEnter:G,onMouseLeave:ye,children:g.jsx("div",{className:"py-3",children:n.map(he=>g.jsx("div",{className:"cursor-pointer px-3 py-2 ml-48 text-3xl hover:text-shadow",onClick:()=>{ot(he)},children:he},he))})})]}):g.jsx("div",{className:"hover:text-shadow bg-[#303D55] px-2 py-1 rounded-lg",children:g.jsx(Et,{to:"/SignUp",children:"Sign In"})})})}),g.jsxs("button",{className:`hamburger ${w?"open":""} rounded-2xl md:hidden`,onClick:T,children:[g.jsx("span",{className:"hamburger-top"}),g.jsx("span",{className:"hamburger-middle"}),g.jsx("span",{className:"hamburger-bottom"})]})]}),w?g.jsx(g.Fragment,{children:g.jsxs("div",{className:"mt-[100px] text-6xl flex flex-col space-y-20",children:[g.jsxs("div",{className:"flex flex-row space-x-5 items-center",children:[g.jsx(bs,{size:35}),g.jsx("h1",{className:"",children:"Home"})]}),g.jsxs("div",{className:"flex flex-row space-x-5 items-center",onClick:p,children:[l?g.jsx(bs,{size:35,className:"rotate-90"}):g.jsx(bs,{size:35}),g.jsx("h1",{className:"",children:"Categories"})]}),l?g.jsxs("ul",{className:"flex flex-col mt-24 mb-24 ml-12 space-y-20",children:[g.jsx("li",{className:"",children:"Anime"}),g.jsx("li",{className:"",children:"Movies"}),g.jsx("li",{className:"",children:"TvShows"})]}):"",g.jsxs("div",{className:"flex flex-row space-x-5 items-center",onClick:m,children:[c?g.jsx(bs,{size:35,className:"rotate-90"}):g.jsx(bs,{size:35}),g.jsx("h1",{className:"",children:"MyList"})]}),c?g.jsxs("ul",{className:"flex flex-col mt-16 mb-16 ml-12 space-y-20",children:[g.jsx("li",{className:"",children:g.jsx(Et,{to:"/Saved",children:"AnimeList"})}),g.jsx("li",{className:"",children:"MoviesList"}),g.jsx("li",{className:"",children:"TvShowsList"})]}):"",g.jsxs("div",{className:"flex flex-row space-x-5 items-center",children:[g.jsx(bs,{size:35}),g.jsx("h1",{className:"",children:"Rated"})]}),s?g.jsxs("div",{children:[g.jsx("div",{className:"mb-[150px] hover:text-shadow bg-[#303D55] w-[92%] absolute bottom-[7200px] text-7xl text-center rounded-2xl py-5",children:g.jsx("h1",{className:"",children:o})}),g.jsx("div",{className:"hover:text-shadow bg-[#303D55] w-[92%] absolute bottom-[7200px] text-7xl text-center rounded-2xl py-5",children:g.jsx(Et,{to:"/Login",className:"",children:"Logout"})})]}):g.jsx("div",{className:"hover:text-shadow bg-[#303D55] w-[92%] absolute bottom-[7100px] text-7xl text-center rounded-2xl py-5",children:g.jsx(Et,{to:"/SignUp",className:"",children:"Sign In"})})]})}):"",g.jsx(yO,{})]}),g.jsxs("section",{className:`absolute md:top-[50px] z-10  md:w-[1515px] w-[1440px] h-auto mr-1 md:rounded-3xl rounded-[60px] transform ${N||v||b?"translate-y-48":"translate-y-0"} duration-500 ease-in-out bg-primary ${w?"translate-y-full bottom-[7000px]":"translate-y-0"} pb-16`,children:[g.jsx(J4,{}),g.jsx(lO,{}),g.jsx(cO,{})]})]})})},CE=()=>{const{currentUser:t}=Go(),[e,n]=j.useState(()=>!localStorage.getItem("hasLoaded")&&t);return j.useEffect(()=>{e&&setTimeout(()=>{n(!1),localStorage.setItem("hasLoaded","true")},3e3)},[e]),g.jsx(g.Fragment,{children:e?g.jsx(LP,{}):g.jsx(vO,{})})},fS="/assets/Logo-CH8wUVvr.png",pS="/assets/google-BHlhRqvd.png",_O=()=>{const{SignUp:t,currentUser:e,storeUserData:n}=Go(),r=j.useRef(),i=j.useRef(),s=j.useRef(),o=j.useRef(),[l,u]=j.useState(null),[c,d]=j.useState(!1),p=Fo(),m=async w=>{if(w.preventDefault(),s.current.value!==o.current.value)return u("Passwords does not match");const A=i.current.value,T=s.current.value,N=r.current.value;d(!0);try{u(null),await t(A,T).then(async E=>{const I=E.user.uid;try{n(I,N)}catch(b){console.error("Error adding document: ",b)}}),l||p("/home")}catch(E){u(E.message)}d(!1)};return console.log(e),g.jsx("div",{className:"w-screen md:h-screen h-[93vh] flex flex-row justify-center items-center bg-secondary",children:g.jsxs("form",{className:"flex flex-col shadow-2xl p-6 rounded-lg bg-primary gap-3 w-[384px] md:max-w-[500px] sm:min-w-[384px]",onSubmit:m,children:[g.jsx("div",{className:"flex justify-center",children:g.jsx("img",{src:fS,alt:"",className:"-mt-8 w-52"})}),g.jsx("div",{className:"-mt-6",children:g.jsx("h1",{className:"text-xl text-center text-secondary",children:"Create a new account"})}),l&&g.jsx("div",{className:"text-center p-2 rounded-md bg-red-200 text-red-700",children:l}),g.jsx("input",{type:"text",className:"outline-none rounded-md bg-transparent border-2 p-1 text-xl border-[#adb5bd]",placeholder:"UserName",ref:r,required:!0}),g.jsx("input",{type:"email",className:"outline-none rounded-md bg-transparent border-2 p-1 text-xl border-[#adb5bd]",placeholder:"Email",ref:i,required:!0}),g.jsx("input",{type:"password",className:"outline-none rounded-md bg-transparent border-2 p-1 text-xl border-[#adb5bd]",placeholder:"Password",ref:s,required:!0}),g.jsx("input",{type:"Password",className:"outline-none rounded-md bg-transparent border-2 p-1 text-xl border-[#adb5bd]",placeholder:"Confirm Password",ref:o,required:!0}),g.jsx("button",{className:"p-2 bg-[#0171D3] rounded-md text-primary cursor-pointer",disabled:c,children:c?"Signing Up...":"Sign Up"}),g.jsxs("div",{className:"w-full flex flex-row justify-center items-center space-x-2",children:[g.jsx("hr",{className:"size-1/2 border-[#adb5bd]"}),g.jsx("p",{className:"",children:"or"}),g.jsx("hr",{className:"size-1/2 border-[#adb5bd]"})]}),g.jsxs("div",{className:"w-full flex flex-row border-[#adb5bd] border rounded-md p-2 items-center space-x-14 cursor-pointer",children:[g.jsx("img",{src:pS,alt:"",className:"w-6 h-6"}),g.jsx("p",{className:"",children:"Sign up with Google"})]}),g.jsxs("div",{className:"text-sm text-center",children:["Already have an account?",g.jsx("span",{className:"text-[#0171D3] cursor-pointer",children:g.jsx(Et,{to:"/login",children:"Login"})})]})]})})},EO=()=>{const[t,e]=j.useState(null),[n,r]=j.useState(!1),i=j.useRef(),s=j.useRef(),o=Fo(),{Login:l}=Go(),u=async c=>{c.preventDefault();const d=i.current.value,p=s.current.value;r(!0);try{e(null),await l(d,p),t||o("/home")}catch{e("Failed To Sign In")}r(!1)};return g.jsx("div",{className:"w-screen md:h-screen h-[93vh] flex flex-row justify-center items-center bg-secondary",children:g.jsxs("form",{onSubmit:u,className:"flex flex-col shadow-2xl p-6 rounded-lg bg-primary gap-3 w-[384px] md:max-w-[500px] sm:min-w-[384px]",children:[g.jsx("div",{className:"flex justify-center",children:g.jsx("img",{src:fS,alt:"",className:"-mt-8 w-52"})}),g.jsx("div",{className:"-mt-6",children:g.jsx("h1",{className:"text-xl text-center text-secondary",children:"Login to RateMyFlicks"})}),t&&g.jsx("div",{className:"text-center p-2 rounded-md bg-red-200 text-red-700",children:t}),g.jsx("input",{type:"text",className:"outline-none rounded-md bg-transparent border-2 p-1 text-xl border-[#adb5bd]",placeholder:"Email",ref:i}),g.jsx("input",{type:"password",className:"outline-none rounded-md bg-transparent border-2 p-1 text-xl border-[#adb5bd]",placeholder:"Password",ref:s}),g.jsx("div",{className:"w-full text-center cursor-pointer text-sm",children:g.jsx("span",{className:"text-[#0171D3]",children:"Forget Password ?"})}),g.jsx("button",{className:"p-2 bg-[#0171D3] rounded-md text-primary",disabled:n,children:n?"Loging In ...":"Login"}),g.jsxs("div",{className:"w-full flex flex-row justify-center items-center space-x-2",children:[g.jsx("hr",{className:"size-1/2 border-[#adb5bd]"}),g.jsx("p",{className:"",children:"or"}),g.jsx("hr",{className:"size-1/2 border-[#adb5bd]"})]}),g.jsxs("div",{className:"w-full flex flex-row border-[#adb5bd] border rounded-md p-2 items-center space-x-14 cursor-pointer",children:[g.jsx("img",{src:pS,alt:"",className:"w-6 h-6"}),g.jsx("p",{className:"",children:"Login with Google"})]}),g.jsxs("div",{className:"text-sm text-center",children:["Don't have an account?",g.jsx("span",{className:"text-[#0171D3] cursor-pointer",children:g.jsx(Et,{to:"/SignUp",children:"Signup"})})]})]})})};function wO(t){return or({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2 15.5V2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.74.439L8 13.069l-5.26 2.87A.5.5 0 0 1 2 15.5zm8.854-9.646a.5.5 0 0 0-.708-.708L7.5 7.793 6.354 6.646a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0l3-3z"},child:[]}]})(t)}function TO(t){return or({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z"},child:[]}]})(t)}const IO=()=>{const{id:t}=eP(),e=Fo(),[n,r]=j.useState({}),[i,s]=j.useState([]),[o,l]=j.useState([]),[u,c]=j.useState(!1),[d,p]=j.useState(!1),[m,w]=j.useState([]),{currentUser:A,storeSavedData:T}=Go(),{title:N,synopsis:E,trailer:v,duration:I,aired:b,season:M,images:D,rank:_,score:y,scored_by:S,popularity:P,status:C,rating:k,source:R}=n,Z=async X=>{try{const $=await(await fetch(`https://api.jikan.moe/v4/anime/${X}`)).json();r($.data),l($.data.genres||[])}catch(F){console.error("Error fetching anime:",F)}},se=async X=>{try{const $=await(await fetch(`https://api.jikan.moe/v4/anime/${X}/characters`)).json();s($.data||[])}catch(F){console.error("Error fetching characters:",F)}},Te=X=>{p(F=>!F),w(F=>{const $=F.includes(X)?F.filter(z=>z!==X):[...F,X];return A&&T(A.uid,$),$})};return j.useEffect(()=>{if(!A){e("/login");return}Z(t),se(t),(async F=>{if(F)try{const $=Xa(Ja,"savedData",F),z=await Sg($);if(z.exists()){const q=z.data();w(q.saveList||[]),p(q.saveList.includes(t))}}catch($){console.error("Error getting user data:",$)}})(A.uid)},[t,A,e]),g.jsxs("div",{className:"bg-secondary  md:w-[1520px] w-[1400px] flex flex-col justify-center items-center",children:[g.jsxs("div",{className:"flex flex-row md:ml-[260px] ml-[60px] mt-6 self-start  justify-between md:w-[1000px] w-[1300px]",children:[g.jsx("h1",{className:"text-primary md:text-4xl text-9xl",children:N}),g.jsx("div",{className:"",children:d?g.jsx("div",{className:"md:px-2 md:py-2 px-4 py-6 border-[3px] border-[#f35b04] md:mr-3 mr-6",onClick:()=>Te(t),children:g.jsx(wO,{fill:"#f35b04",className:"md:h-[22px] md:w-[22px] h-[64px] w-[64px]"})}):g.jsx("div",{className:"md:px-2 md:py-2 px-4 py-6 border-[3px] border-[#f35b04] md:mr-3 mr-6",onClick:()=>Te(t),children:g.jsx(TO,{color:"#f35b04",className:"md:h-[22px] md:w-[22px] h-[64px] w-[64px]"})})})]}),g.jsxs("div",{className:"bg-primary md:w-[1000px] w-[1300px] h-full mt-3 rounded-2xl mb-3 ",children:[g.jsxs("div",{className:"flex md:flex-row flex-col p-10 md:space-x-52",children:[g.jsx("div",{className:"",children:g.jsx("img",{src:D==null?void 0:D.jpg.large_image_url,alt:"",className:"md:h-[500px] md:w-auto object-cover rounded-xl w-full"})}),g.jsxs("div",{className:"flex flex-col md:space-y-6 space-y-12 md:text-base text-6xl md:mt-0 mt-12",children:[g.jsxs("p",{className:"",children:[g.jsx("span",{className:"font-bold",children:"Aired: "}),g.jsx("span",{className:"",children:b==null?void 0:b.string})]}),g.jsxs("p",{className:"",children:[g.jsx("span",{className:"font-bold",children:"Rating: "}),g.jsx("span",{className:"",children:k})]}),g.jsxs("p",{className:"",children:[g.jsx("span",{className:"font-bold",children:"Rank: "}),g.jsx("span",{className:"",children:_})]}),g.jsxs("p",{className:"",children:[g.jsx("span",{className:"font-bold",children:"Score: "}),g.jsx("span",{className:"",children:y})]}),g.jsxs("p",{className:"",children:[g.jsx("span",{className:"font-bold",children:"Scored By: "}),g.jsx("span",{className:"",children:S})]}),g.jsxs("p",{className:"",children:[g.jsx("span",{className:"font-bold",children:"Popularity: "}),g.jsx("span",{className:"",children:P})]}),g.jsxs("p",{className:"",children:[g.jsx("span",{className:"font-bold",children:"Status: "}),g.jsx("span",{className:"",children:C})]}),g.jsxs("p",{className:"",children:[g.jsx("span",{className:"font-bold",children:"Source: "}),g.jsx("span",{className:"",children:R})]}),g.jsxs("p",{className:"",children:[g.jsx("span",{className:"font-bold",children:"Season: "}),g.jsx("span",{className:"",children:M})]}),g.jsxs("p",{className:"",children:[g.jsx("span",{className:"font-bold",children:"Duration: "}),g.jsx("span",{className:"",children:I})]}),g.jsx("div",{className:"flex flex-row space-x-4",children:o.slice(0,4).map(X=>g.jsx("div",{className:"md:px-2 md:py-2 px-3 py-3 md:rounded-lg rounded-3xl bg-secondary text-primary font-bold w-auto md:text-sm text-6xl",children:X.name},X.mal_id))})]})]}),g.jsxs("div",{className:"px-10 pb-5 md:text-base text-5xl text-justify leading-snug",children:[u?E:(E==null?void 0:E.substring(0,450))+"...",u?g.jsxs("span",{className:"text-secondary cursor-pointer transition-all delay-500 font-bold",onClick:()=>{c(!1)},children:[" ","Show Less"]}):g.jsxs("span",{className:"text-secondary cursor-pointer transition-all delay-500 font-bold",onClick:()=>{c(!0)},children:[" ","Read More"]})]})]}),g.jsx("h1",{className:"text-primary md:text-4xl text-8xl ml-[60px] mt-6 self-start",children:"Trailer"}),g.jsx("div",{className:"bg-primary md:w-[880px] w-[1300px] h-full mt-3 rounded-2xl mb-3 md:px-10 md:py-10 px-12 py-12",children:v!=null&&v.embed_url?g.jsx("iframe",{src:v==null?void 0:v.embed_url,title:N,frameBorder:"0",allowFullScreen:!0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",className:"md:w-[800px] md:h-[450px] w-[1200px] h-[1000px]"}):g.jsx("div",{className:"text-3xl text-center",children:"Trailer Not Found"})}),g.jsx("h1",{className:"text-primary md:text-4xl text-8xl ml-[60px] mt-6 self-start",children:"Characters"}),g.jsx("div",{className:"grid grid-cols-5 gap-3 bg-primary md:w-[1000px] w-[1300px] h-full mt-3 rounded-2xl md:mb-3 mb-24 px-10 py-10",children:i==null?void 0:i.map((X,F)=>{const{role:$}=X,{images:z,name:q,mal_id:J}=X.character;return g.jsx(Et,{to:`/character/${J}`,children:g.jsxs("div",{className:"bg-[#dee2e6] p-2 hover:transition-all hover:translate-y-2 hover:ease-in-out",children:[g.jsx("img",{src:z==null?void 0:z.jpg.image_url,alt:"",className:"w-[300px] h-[300px] object-cover"}),g.jsx("h1",{className:"",children:q}),g.jsx("p",{className:"text-green-600",children:$})]})},F)})})]})},SO=()=>{const[t,e]=j.useState([]),[n,r]=j.useState([]),i=Fo(),{currentUser:s}=Go(),[o,l]=j.useState("none"),u=()=>{i("/home")},c=()=>{l(d=>d==="#b23a48"?"none":"#b23a48")};return j.useEffect(()=>{if(!s){console.log("User not logged in");return}(async()=>{const p=Xa(Ja,"savedData",s.uid);try{const m=await Sg(p);if(m.exists()){const w=m.data();e(w.saveList||[])}else console.log("User document does not exist")}catch(m){console.error("Error getting user data: ",m)}})()},[s]),j.useEffect(()=>{if(t.length===0)return;(async()=>{try{const p=await Promise.all(t.map(async m=>(await(await fetch(`https://api.jikan.moe/v4/anime/${m}`)).json()).data));r(p)}catch(p){console.error("Error fetching anime data: ",p)}})()},[t]),s?g.jsxs("div",{className:"bg-secondary h-[370vh] md:w-[1520px] w-[1400px]",children:[g.jsxs("div",{className:"flex items-center pl-5 pt-5 space-x-2 cursor-pointer",onClick:u,children:[g.jsx(gO,{color:"#edf2f4",className:"h-9 w-9 md:h-4 md:w-4"}),g.jsx("p",{className:"text-primary text-5xl md:text-xl",children:"Home"})]}),g.jsxs("div",{className:"flex flex-col items-center w-full h-full",children:[g.jsx("h1",{className:"text-primary text-6xl md:text-3xl font-bold pt-32 md:pt-10 pb-10 md:pb-5",children:"WATCHLIST"}),g.jsx("div",{className:"md:w-[1000px] w-[1300px] bg-primary flex flex-col rounded-3xl p-10 gap-10 relative",children:n.map(d=>{var p,m;return g.jsxs("div",{className:"flex flex-row space-x-20 border-2 border-shadow p-2 rounded-2xl",children:[g.jsx("img",{src:(p=d.images)==null?void 0:p.jpg.large_image_url,alt:d.title,className:"w-72 md:w-56 h-96 md:h-64"}),g.jsxs("div",{className:"flex flex-col gap-4",children:[g.jsx("h1",{className:"text-5xl md:text-3xl pt-14 md:pt-3",children:d.title}),g.jsxs("h1",{className:"text-xl md:text-base",children:[g.jsx("span",{className:"font-bold",children:"Aired : "}),(m=d.aired)==null?void 0:m.string]}),g.jsxs("h1",{className:"text-xl md:text-base",children:[g.jsx("span",{className:"font-bold",children:"Rating : "}),d.rating]}),g.jsxs("h1",{className:"text-xl md:text-base",children:[g.jsx("span",{className:"font-bold",children:"Rank : "}),d.rank]}),g.jsxs("h1",{className:"text-xl md:text-base",children:[g.jsx("span",{className:"font-bold",children:"Season : "}),d.season]}),g.jsxs("h1",{className:"text-xl md:text-base",children:[g.jsx("span",{className:"font-bold",children:"Status : "}),d.status]})]}),g.jsxs("div",{className:"self-end absolute right-14 flex",children:[g.jsx("div",{className:"",onClick:c,children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:o,viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-20 h-20 md:w-10 md:h-10",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"})})}),g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-20 h-20 md:w-10 md:h-10",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 18.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z"})})]})]},d.id)})})]})]}):g.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[g.jsx("p",{className:"text-lg font-semibold",children:"Please log in to view your saved anime list."}),g.jsx("button",{onClick:()=>i("/login"),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded",children:"Go to Login"})]})};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...l},u)=>j.createElement("svg",{ref:u,...AO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:mS("lucide",i),...l},[...o.map(([c,d])=>j.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=(t,e)=>{const n=j.forwardRef(({className:r,...i},s)=>j.createElement(RO,{ref:s,iconNode:e,className:mS(`lucide-${xO(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],CO=gS("House",PO);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],kO=gS("RefreshCcw",NO),NE=()=>{const[t,e]=j.useState({x:50,y:50}),[n,r]=j.useState(!1),[i,s]=j.useState(!1),[o,l]=j.useState(0);return j.useEffect(()=>{let u;return n&&(u=setInterval(()=>{e({x:Math.random()*80+10,y:Math.random()*80+10}),l(Math.random()*30-15)},2e3)),()=>clearInterval(u)},[n]),j.useEffect(()=>{const u=setInterval(()=>{s(!0),setTimeout(()=>s(!1),3e3)},1e4);return()=>clearInterval(u)},[]),g.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-purple-50 to-purple-100 flex items-center justify-center p-4 relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(5)].map((u,c)=>g.jsx("div",{className:"absolute animate-float opacity-20",style:{left:`${c*25}%`,top:`${Math.random()*100}%`,animation:`float ${8+c*2}s infinite ease-in-out`,animationDelay:`${c*.5}s`},children:g.jsx("div",{className:"w-16 h-16 bg-purple-400 rounded-full"})},c))}),g.jsx("div",{className:`absolute transition-all duration-1000 ease-in-out ${i?"opacity-100":"opacity-0"}`,style:{right:i?"10%":"-10%",top:"20%"},children:g.jsx("div",{className:"animate-bounce",children:g.jsx("div",{className:"text-4xl",children:""})})}),g.jsxs("div",{className:"max-w-md w-full text-center relative",children:[g.jsx("div",{className:"relative h-48 mb-8",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:g.jsx("h1",{className:"text-8xl font-bold text-purple-600 absolute transition-all duration-1000 ease-in-out hover:scale-110",style:{left:`${t.x}%`,top:`${t.y}%`,transform:`translate(-50%, -50%) rotate(${o}deg)`,textShadow:"2px 2px 4px rgba(0,0,0,0.1)"},children:"404"})}),g.jsxs("div",{className:"animate-fade-in",children:[g.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Oops! This page is playing hide and seek"}),g.jsx("p",{className:"text-gray-600 mb-8",children:"The page you're looking for seems to have wandered off. Don't worry, it happens to the best of us!"})]}),g.jsxs("div",{className:"flex justify-center space-x-4",children:[g.jsxs("button",{onClick:()=>window.location.href="/",className:"flex items-center px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-all duration-300 hover:scale-105 hover:shadow-lg",children:[g.jsx(CO,{className:"w-5 h-5 mr-2 animate-pulse"}),"Go Home"]}),g.jsxs("button",{onClick:()=>window.location.reload(),className:"flex items-center px-6 py-3 bg-white text-purple-600 rounded-lg border-2 border-purple-600 hover:bg-purple-50 transition-all duration-300 hover:scale-105 hover:shadow-lg",children:[g.jsx(kO,{className:"w-5 h-5 mr-2 animate-spin-slow"}),"Try Again"]})]}),g.jsx("div",{className:"mt-12 text-sm text-gray-500 animate-bounce",children:g.jsx("p",{children:"Hover over the 404 to see it try to escape! "})})]})]})},yS=document.createElement("style");yS.textContent=`
  @keyframes float {
    0%, 100% { transform: translateY(0) rotate(0deg); }
    50% { transform: translateY(-20px) rotate(5deg); }
  }
  
  @keyframes fade-in {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .animate-float { animation: float 6s infinite ease-in-out; }
  .animate-fade-in { animation: fade-in 1s ease-out; }
  .animate-spin-slow { animation: spin 3s linear infinite; }
`;document.head.appendChild(yS);const DO=EP([{path:"/",element:g.jsx(CE,{}),errorElement:g.jsx(NE,{})},{path:"/home",element:g.jsx(CE,{})},{path:"/SignUp",element:g.jsx(_O,{})},{path:"/Login",element:g.jsx(EO,{})},{path:"/anime/:id",element:g.jsx(IO,{})},{path:"/Saved",element:g.jsx(SO,{})},{path:"*",element:g.jsx(NE,{})}]);af.createRoot(document.getElementById("root")).render(g.jsx(Bt.StrictMode,{children:g.jsx($4,{children:g.jsx(W4,{children:g.jsx(CP,{router:DO})})})}));
